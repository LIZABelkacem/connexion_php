(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[10],{628:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"AddressBookWrapper",function(){return Ke}),n.d(r,"ImageManagerWrapper",function(){return st}),n.d(r,"SignatureManagerWrapper",function(){return vt});var o=n(1064),a=n.n(o),i=n(852),c=n(854),u=n(632),s=n(977),l=n.n(s),p=n(978),f=n.n(p),d=n(2),b=n(22),g=n(17),m=n(1),O=n(31);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="managers/OPEN_IMAGE_MANAGER",j="managers/OPEN_SIGNATURE_MANAGER",w="wizard/SELECT_SIGNATURE";var E=regeneratorRuntime.mark(I),P=regeneratorRuntime.mark(k),M=regeneratorRuntime.mark(R),A=regeneratorRuntime.mark(x);function I(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.options,n.next=3,Object(d.put)(Object(m.galleryImagesList)());case 3:return n.next=5,Object(d.put)(Object(O.openModal)("ImageManagerWrapper",t));case 5:return n.next=7,Object(d.put)(Object(b.fb)());case 7:case"end":return n.stop()}},E)}var _=function(e){return e.ws.defaults&&e.ws.defaults.content};function k(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.options,o.next=3,Object(d.select)(_);case 3:if(!(n=o.sent)){o.next=10;break}if(!(n=n.filter(function(e){return"tools.signature.curve"===e.id}))[0]){o.next=10;break}return r=n[0],o.next=10,Object(d.put)(Object(u.smSetDrawConfig)({lineWidth:r.lineWidth.desktop,color:r.color}));case 10:return o.next=12,Object(d.select)(g.getIsActiveSignatureSingleUse);case 12:if(o.sent){o.next=16;break}return o.next=16,Object(d.put)(Object(m.gallerySignaturesList)());case 16:return o.next=18,Object(d.put)(Object(O.openModal)("SignatureManagerWrapper",t));case 18:return o.next=20,Object(d.put)(Object(b.ib)());case 20:case"end":return o.stop()}},P)}function R(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(S,I);case 2:case"end":return e.stop()}},M)}function x(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(j,k);case 2:case"end":return e.stop()}},A)}var T=n(4),D=n.n(T),N=n(12),C=n(36),U=n(23),G=n(27),L=n(642),B=n(8),W=n(9),z=n(84),F=n(21),Y={getIsSignatureManagerLoaderShown:function(e){return D()(e,"im.modeSignature.loadState",!1)}};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){K(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=regeneratorRuntime.mark(ce),Q=regeneratorRuntime.mark(ue),X=regeneratorRuntime.mark(se),V=regeneratorRuntime.mark(le),Z=regeneratorRuntime.mark(pe),ee=regeneratorRuntime.mark(fe),te=regeneratorRuntime.mark(de),ne=regeneratorRuntime.mark(be),re=regeneratorRuntime.mark(ge),oe=regeneratorRuntime.mark(me),ae=regeneratorRuntime.mark(Oe),ie=regeneratorRuntime.mark(ye);function ce(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.put)(Object(u.smMobileSignLoading)());case 2:case"end":return e.stop()}},q)}function ue(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.select)(N.a.getIsActiveSignatureSingleUse);case 2:if(e.sent){e.next=6;break}return e.next=6,Object(d.put)(Object(m.gallerySignaturesList)());case 6:case"end":return e.stop()}},Q)}function se(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.put)(Object(u.initial)());case 2:case"end":return e.stop()}},X)}function le(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.select)(Y.getIsSignatureManagerLoaderShown);case 2:if(!e.sent){e.next=6;break}return e.next=6,Object(d.put)(Object(u.smGallery)());case 6:case"end":return e.stop()}},V)}function pe(e){var t,n,r,o,a,i,c,u,s,l,p,f;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.signature,n=e.isIOSCreatedSignature,b.next=3,Object(d.select)();case 3:if(r=b.sent,o=D()(r,"wizard.wizardActive",!1),a=N.a.base.getFillablePictureSelectingId(r),i=N.a.base.getActiveElementId(r),c=N.a.base.getUseSigDateStamp(r),u=!1!==Object(L.a)(r),a){b.next=21;break}if(!o){b.next=17;break}if(!u||!i){b.next=14;break}return b.next=14,Object(d.put)(N.b.setActiveElement(i,!1));case 14:return s=Object(z.i)(z.p.functions.setWizardActive),b.next=17,Object(d.put)(s(!1));case 17:return b.next=19,Object(d.put)(Object(m.activateTool)(B.e.signature,B.d.none,t));case 19:b.next=28;break;case 21:return l=n?m.updateElement:C.f,p=N.a.elements.getActiveElement(r),f=Object(W.i)(t,p,c),b.next=26,Object(d.put)(l(a,f,J({byManager:!0},U.g)));case 26:return b.next=28,Object(d.put)(Object(G.q)(!1));case 28:case"end":return b.stop()}},Z)}function fe(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(d.select)(N.a.base.getWSSignatures);case 2:return t=o.sent,n=H(t,1),r=n[0],o.next=7,Object(d.call)(pe,{signature:r,isIOSCreatedSignature:e});case 7:case"end":return o.stop()}},ee)}function de(){var e,t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(d.take)([m.actionTypes.ADD_GALLERY_SIGNATURE,m.actionTypes.UPDATE_GALLERY_SIGNATURE]);case 3:return e=i.sent,t=e.isNeedToUse,n=e.signature,i.next=8,Object(d.put)(Object(u.smGallery)());case 8:if(t){i.next=10;break}return i.abrupt("continue",0);case 10:return i.next=12,Object(d.select)(N.a.base.getFillablePictureSelectingId);case 12:if(r=i.sent,!(o=Boolean(F.thisDevice.isIOS&&r))){i.next=20;break}return i.next=17,Object(d.put)(Object(C.c)());case 17:return a=Object(z.i)(z.p.functions.toggleWizardNext),i.next=20,Object(d.put)(a());case 20:return i.next=22,Object(d.put)(N.b.closeSignatureManager());case 22:return i.next=24,Object(d.select)(N.a.getIsActiveSignatureSingleUse);case 24:if(!i.sent){i.next=29;break}return i.next=28,Object(d.call)(pe,{signature:n});case 28:return i.abrupt("continue",0);case 29:return i.next=31,Object(d.take)([m.actionTypes.ON_OPERATIONS_SIGNATURES_ADD,m.actionTypes.ON_OPERATIONS_SIGNATURES_UPDATE]);case 31:return i.next=33,Object(d.call)(fe,o);case 33:i.next=0;break;case 35:case"end":return i.stop()}},te)}function be(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(w,pe);case 2:case"end":return e.stop()}},ne)}function ge(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)(m.actionTypes.ON_OPERATIONS_SIGNATURES_PENDING,ce);case 2:case"end":return e.stop()}},re)}function me(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)([m.actionTypes.ON_OPERATIONS_SIGNATURES_ADD,m.actionTypes.ON_OPERATIONS_SIGNATURES_UPDATE],ue);case 2:case"end":return e.stop()}},oe)}function Oe(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)([m.actionTypes.ON_OPERATIONS_IMAGES_ADD,m.actionTypes.ON_OPERATIONS_IMAGES_UPDATE],se);case 2:case"end":return e.stop()}},ae)}function ye(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.takeEvery)([m.actionTypes.ON_OPERATIONS_SIGNATURES_LIST],le);case 2:case"end":return e.stop()}},ie)}var he=regeneratorRuntime.mark(ve);function ve(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.all)([R(),x(),ge(),me(),Oe(),be(),de(),ye()]);case 2:case"end":return e.stop()}},he)}var Se=n(0),je=n.n(Se),we=n(638),Ee=n(180),Pe=n.n(Ee),Me=n(26),Ae=n(3),Ie=n(20),_e=n(5),ke=n(155);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te,De,Ne=function(e){var t=e.ws.endPoints,n=t.tempStorageUrl,r=t.signatureAPI,o=t.tempBinaryAPI,a=t.appKey,i=e.ws,c=i.apiHash,u=i.organization,s=i.viewerId,l={baseUrl:o,mobileSignatureLinkUrl:r,oldBaseUrl:"".concat(n,"/flash"),appKey:a,userId:s};return e.query.editType===_e.H.as?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach(function(t){xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},l,{authorization:"Bearer ".concat(c),organizationDomain:u}):l},Ce=(n(7),n(72)),Ue=n(950),Ge=n(102);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),e}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e,Je,Ke=Object(Ce.connect)(function(e){return{addressBookApiRest:e.im.addressBookApiRest}},{openModal:O.openModal,closeModal:O.closeModal})(Te=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Be(t).call(this,e),n=!o||"object"!==Le(o)&&"function"!=typeof o?We(r):o,He(We(n),"handleAddressBookClose",function(){n.props.closeModal(t.getModalId(),{})}),He(We(n),"handleAnotherModalClose",function(e,t){n.props.closeModal(e,t)}),He(We(n),"handleAnotherModalOpen",function(e,t){n.props.openModal(e,t)}),n.modalId=t.getModalId(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,Se["Component"]),Fe(t,null,[{key:"getModalId",value:function(){return"AddressBook"}}]),Fe(t,[{key:"render",value:function(){return this.props.addressBookApiRest?function(e,t,n,r){De||(De="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:De,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(Ue.AddressBook,{handleCloseModal:this.handleAddressBookClose,openModal:this.handleAnotherModalOpen,closeModal:this.handleAnotherModalClose,apiRest:this.props.addressBookApiRest,errorModalName:Ge.ERROR_MODAL,alertModalName:Ge.ALERT_MODAL,dialogModalName:Ge.DIALOG_MODAL}):null}}]),t}())||Te,qe=n(979),Qe=n(120),Xe=n.n(Qe);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach(function(t){it(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),e}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ct,ut,st=Object(Ce.connect)(function(e){return{fillablePictureSelectingId:e.events.fillablePictureSelectingId,activeElement:e.ws.activeElement,haveWizardFocus:!!Object(L.a)(e),wizardActive:D()(e,"wizard.wizardActive",!1)}},{activateTool:m.activateTool,updateElement:m.updateElement,openModal:O.openModal,closeModal:O.closeModal,setFillablePictureSelectingId:G.q,deleteGalleryImages:m.deleteGalleryImages,addGalleryImage:m.addGalleryImage,updateGalleryImage:m.updateGalleryImage,setGhostPos:G.s,updateActiveElement:C.f,setActiveElement:N.b.setActiveElement,toggleImageManager:b.fb})($e=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=tt(t).call(this,e),n=!o||"object"!==Ve(o)&&"function"!=typeof o?nt(r):o,it(nt(n),"updateMousePos",function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})}),it(nt(n),"closeImageManager",function(){n.props.closeModal(t.getModalId()),n.props.toggleImageManager()}),it(nt(n),"handleSelect",function(e){var t=n.props.fillablePictureSelectingId;if(t)n.props.updateActiveElement(t,e,et({byManager:!0},U.g)),n.props.setFillablePictureSelectingId(!1);else{var r=n.props,o=r.activeElement,a=r.haveWizardFocus;r.wizardActive&&(a&&o&&n.props.setActiveElement(o,!1),Object(z.d)(z.p.actions.setWizardActive,!1)),n.props.activateTool(B.e.image,B.d.none,e)}n.closeImageManager()}),it(nt(n),"handleDelete",function(e){e&&n.props.deleteGalleryImages(e)}),it(nt(n),"handleUpload",function(e){e&&n.props.addGalleryImage(e)}),it(nt(n),"handleUpdate",function(e){e&&n.props.updateGalleryImage(e)}),it(nt(n),"handleError",function(e){e&&n.props.openModal("AlertModal",et({},e,{modalType:Xe.a.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:n.buttonConfirmCallback}))}),it(nt(n),"buttonConfirmCallback",function(){return n.props.closeModal("AlertModal")}),n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,Se["Component"]),ot(t,null,[{key:"getModalId",value:function(){return"ImageManagerWrapper"}}]),ot(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"render",value:function(){return function(e,t,n,r){Je||(Je="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Je,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(qe.ImageManagerComponent,{handleClose:this.closeImageManager,handleDelete:this.handleDelete,handleSelect:this.handleSelect,handleUpload:this.handleUpload,handleUpdate:this.handleUpdate,handleError:this.handleError,jsOnly:!0})}}]),t}())||$e,lt=n(716);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach(function(t){ht(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&mt(e.prototype,t),n&&mt(e,n),e}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=Object(Ce.connect)(function(e){return{addressBookMainButtonTitle:(t=N.a.locale.getSignatureManagerLocale(e),n=e.im.mobileSignatureMethod,n===lt.MODE_TYPES.SM_EMAIL?t.email.sendButton:t.sms.sendButton),mobileSignatureMethod:e.im.mobileSignatureMethod};var t,n},{openModal:O.openModal,closeModal:O.closeModal,deleteGallerySignature:m.deleteGallerySignature,addGallerySignature:function(e,t){return function(n,r){var o=Object(g.getIsActiveSignatureSingleUse)(r());return n({type:m.actionTypes.ADD_GALLERY_SIGNATURE,signature:e,isNeedToUse:t,isSingleUse:o})}},updateGallerySignature:m.updateGallerySignature,sendPhoneNumber:m.sendPhoneNumber,sendEmail:m.sendEmail,getQrUrl:m.getQrUrl,setGhostPos:G.s,setFillablePictureSelectingId:G.q,getContactEmail:u.getContactEmail,getContactPhoneNumber:u.getContactPhoneNumber,closeSignatureManager:N.b.closeSignatureManager,selectSignature:function(e){return{type:w,signature:e}}})(ct=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=bt(t).call(this,e),n=!o||"object"!==pt(o)&&"function"!=typeof o?gt(r):o,ht(gt(n),"updateMousePos",function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})}),ht(gt(n),"handleSelect",function(e){n.props.selectSignature(e),n.props.closeSignatureManager()}),ht(gt(n),"handleAdd",function(e,t){e&&n.props.addGallerySignature(e,t)}),ht(gt(n),"handleUpdate",function(e,t){e&&n.props.updateGallerySignature(e,t)}),ht(gt(n),"handleDelete",function(e){e&&n.props.deleteGallerySignature(e)}),ht(gt(n),"handlePhone",function(e){e&&n.props.sendPhoneNumber(e)}),ht(gt(n),"handleEmail",function(e){e&&n.props.sendEmail(e)}),ht(gt(n),"handleOpen",function(e){e&&n.props.getQrUrl()}),ht(gt(n),"handleError",function(e){e&&n.props.openModal("AlertModal",dt({},e,{modalType:Xe.a.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:function(){return n.props.closeModal("AlertModal")}}))}),ht(gt(n),"handleOpenAddressBook",function(e){e&&n.props.openModal("AddressBook",dt({},e,{mainButtonName:n.props.addressBookMainButtonTitle,receiveContactsCallback:function(e){return n.handleContactsReceive(e)},cancelDummyControllerCallback:function(){},apiRest:null,alertModal:!0,selectMax:1}))}),ht(gt(n),"handleSignatureManagerClose",function(){n.props.closeSignatureManager(),n.props.setFillablePictureSelectingId(!1)}),n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,Se["Component"]),Ot(t,null,[{key:"getModalId",value:function(){return _e.c}}]),Ot(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"handleContactsReceive",value:function(e){if(e[0]){var t=e[0];this.props.mobileSignatureMethod===lt.MODE_TYPES.SM_EMAIL?this.props.getContactEmail(t):this.props.mobileSignatureMethod===lt.MODE_TYPES.SM_SMS&&this.props.getContactPhoneNumber(t)}}},{key:"render",value:function(){return function(e,t,n,r){ut||(ut="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:ut,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(qe.SignatureManagerComponent,{handleAdd:this.handleAdd,handleUpdate:this.handleUpdate,handleDelete:this.handleDelete,handleSelect:this.handleSelect,handleClose:this.handleSignatureManagerClose,handlePhone:this.handlePhone,handleEmail:this.handleEmail,handleOpen:this.handleOpen,handleError:this.handleError,handleOpenAddressBook:this.handleOpenAddressBook,modalId:this.modalId,jsOnly:!0})}}]),t}())||ct;function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=u.initial,Et=a.a.reducers,Pt=a.a.maskMiddleware;t.default={components:r,reducer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(n,!0).forEach(function(t){jt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({im:i.im,signatureEditor:l.a},Et),middlewares:[c.imageSignature,c.editorManager,Pt,f.a],rootSaga:ve,functions:{initModule:function(e,t){var n=e.getState(),r=n.ws.endPoints,o=r.tempStorageUrl,a=r.staticUrl,i=r.modalsLocale,c=r.appKey,s=Ne(n),l={host:Ie.a.ws.config.host,port:"",userId:n.ws.viewerId},p={userId:n.ws.viewerId,token:n.ws.apiHash},f=e.dispatch(Object(we.initCustom)(o,c,p));e.dispatch(u.setApiRest(s)),e.dispatch(Object(we.setWsConnect)(l,o)),e.dispatch(u.setAddressBookApiRest(f));var d=new Pe.a("WsEditorLib",{baseUrl:a});d.loadLocaleJSON(function t(n,r){if(n)setTimeout(function(){d.loadLocaleJSON(t,{getParameterByName:Me.g,url:i})},Ae.TIME_FOR_REPEATED_REQUEST_CONSTANTS_HELP_STRUCTURE);else{var o=JSON.parse(r.EDITOR_REPORT_PROBLEM_LOCALE),a=JSON.parse(r.IMAGE_MANAGER_LOCALE),c=JSON.parse(r.SIGNATURE_MANAGER_LOCALE);e.dispatch(Object(ke.mergeLocales)({editor:{reportProblem:o},imageManager:a,signatureManager:c}))}},{getParameterByName:Me.g,url:i}),e.dispatch(t.actions.initImageSignatureManager()),e.dispatch(Object(O.addChildrenToState)(je.a.createElement(t.components.ImageManagerWrapper))),e.dispatch(Object(O.addChildrenToState)(je.a.createElement(t.components.SignatureManagerWrapper))),e.dispatch(Object(O.addChildrenToState)(je.a.createElement(t.components.AddressBookWrapper)))}},actions:{openImageManager:function(e){return{type:S,options:e}},openSignatureManager:function(e){return function(t,n){var r=n(),o=Object(g.getUseSignNowTheme)(r),a=Object(g.getIsActiveSignatureSingleUse)(r);t({type:j,options:h({},e||{},{useSignNowTheme:o,isSingleUse:a})})}},initImageSignatureManager:wt}}},642:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(14),o=n(68),a=n(133),i=n(9),c=n(12),u=Object(r.createSelector)([a.getFocusElement,c.a.base.getElementsMap,c.a.base.getGroups],function(e,t,n){return function(e,t,n){if(!e)return!1;if(!Object(i.v)(e))return!1;var r=n.radio,a=o.utils.getElementGroupNames(e).radio;return!1===a||void 0===r[a]?e:r[a].map(function(n){return e&&e.id===n?e:t[n]})}(e,t,n)})}}]);
//# sourceMappingURL=managers.f5787757.chunk.js.map