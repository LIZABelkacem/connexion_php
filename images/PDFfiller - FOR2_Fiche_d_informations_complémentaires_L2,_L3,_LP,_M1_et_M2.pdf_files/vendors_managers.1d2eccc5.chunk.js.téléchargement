(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[13],Array(630).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},e.exports=t.default},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.smSetError=t.smOpenEditor=t.smOpenEditorPreview=t.setAddressBookApiRest=t.getContactPhoneNumber=t.getContactEmail=t.mobileSignatureResend=t.setMobileSignatureMethod=t.saveEmail=t.savePhoneNumber=t.sendEmail=t.sendPhoneNumber=t.setQrUrl=t.getQrUrl=t.setApiRest=t.disableWebcam=t.uploadSignatureImage=t.uploadImage=t.smSetOriginalImage=t.smMobileSignLoading=t.smNotarize=t.smCapture=t.smUploading=t.smMobileUploader=t.smUploader=t.smSetInitialSignature=t.smSaveSignature=t.smDrawComponentUpdateHistoryPoint=t.smTypeSignature=t.smDraw=t.smEmail=t.smSMS=t.smQR=t.smGallery=t.smChooseSignature=t.smSetDrawConfig=t.smEdit=t.smInitial=t.closeSignature=t.clearErrors=t.setError=t.setUploadedPercent=t.capture=t.uploading=t.mobileUploader=t.uploader=t.edit=t.initial=void 0;var a=n(748),o=n(633);t.initial=function(){return{type:a.actionTypes.INITIAL}},t.edit=function(){return{type:a.actionTypes.EDIT}},t.uploader=function(){return{type:a.actionTypes.UPLOADER}},t.mobileUploader=function(e){return{type:a.actionTypes.MOBILE_UPLOADER,targetFiles:e}},t.uploading=function(){return{type:a.actionTypes.UPLOADING}},t.capture=function(){return{type:a.actionTypes.CAPTURE}},t.setUploadedPercent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:a.actionTypes.SET_UPLOADED_PERCENT,percent:e}},t.setError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.ERROR_SET,error:e}},t.clearErrors=function(){return{type:a.actionTypes.ERRORS_CLEAN}},t.closeSignature=function(){return{type:a.actionTypes.CLOSE_SIGNATURE}},t.smInitial=function(){return{type:a.actionTypes.SM_INITIAL}},t.smEdit=function(e){switch(e){case o.SUB_TYPES.text:return{type:a.actionTypes.SM_TEXT_EDIT};case o.SUB_TYPES.curve:return{type:a.actionTypes.SM_CURVE_EDIT};case o.SUB_TYPES.image:return{type:a.actionTypes.SM_IMAGE_EDIT};default:return{type:a.actionTypes.SM_TEXT_EDIT}}},t.smSetDrawConfig=function(e){return{type:a.actionTypes.SM_SET_DRAW_CONFIG,config:e}},t.smChooseSignature=function(){return{type:a.actionTypes.SM_CHOOSE_SIGNATURE}},t.smGallery=function(){return{type:a.actionTypes.SM_GALLERY}},t.smQR=function(){return{type:a.actionTypes.SM_QR}},t.smSMS=function(){return{type:a.actionTypes.SM_SMS}},t.smEmail=function(){return{type:a.actionTypes.SM_EMAIL}},t.smDraw=function(){return{type:a.actionTypes.SM_DRAW}},t.smTypeSignature=function(){return{type:a.actionTypes.SM_TYPE_SIGNATURE}},t.smDrawComponentUpdateHistoryPoint=function(e){return{type:a.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT,drawConfig:e}},t.smSaveSignature=function(e,t){return{type:a.actionTypes.SM_SIGNATURE_SAVE,signature:e,drawConfig:t}},t.smSetInitialSignature=function(e){return{type:a.actionTypes.SM_SET_INITIAL_SIGNATURE,signature:e}},t.smUploader=function(){return{type:a.actionTypes.SM_UPLOADER}},t.smMobileUploader=function(){return{type:a.actionTypes.SM_MOBILE_UPLOADER}},t.smUploading=function(){return{type:a.actionTypes.SM_UPLOADING}},t.smCapture=function(){return{type:a.actionTypes.SM_CAPTURE}},t.smNotarize=function(){return{type:a.actionTypes.SM_NOTARIZE}},t.smMobileSignLoading=function(){return{type:a.actionTypes.SM_MOBILE_SIGN_LOADING}},t.smSetOriginalImage=function(e){return{type:a.actionTypes.SM_SET_ORIGINAL_IMAGE,image:e}},t.uploadImage=function(e,t,n,o){return{type:a.actionTypes.LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n,percentCallback:o}},t.uploadSignatureImage=function(e,t,n){return{type:a.actionTypes.SM_LAUNCH_UPLOAD_IMAGE,data:e,dimensions:t,callback:n}},t.disableWebcam=function(){return{type:a.actionTypes.DISABLE_WEBCAM}},t.setApiRest=function(e){return{type:a.actionTypes.API_REST_SET,config:e}},t.getQrUrl=function(){return{type:a.actionTypes.SM_GET_QR_URL}},t.setQrUrl=function(e){return{type:a.actionTypes.SM_SET_QR_URL,url:e}},t.sendPhoneNumber=function(){return{type:a.actionTypes.SM_SEND_PHONE_NUMBER}},t.sendEmail=function(){return{type:a.actionTypes.SM_SEND_EMAIL}},t.savePhoneNumber=function(e){return{type:a.actionTypes.SM_SAVE_PHONE_NUMBER,number:e}},t.saveEmail=function(e){return{type:a.actionTypes.SM_SAVE_EMAIL,email:e}},t.setMobileSignatureMethod=function(e){return{type:a.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD,method:e}},t.mobileSignatureResend=function(){return{type:a.actionTypes.SM_MOBILE_SIGNATURE_RESEND}},t.getContactEmail=function(e){return{type:a.actionTypes.SM_GET_CONTACT_EMAIL,contact:e}},t.getContactPhoneNumber=function(e){return{type:a.actionTypes.SM_GET_CONTACT_PHONE_NUMBER,contact:e}},t.setAddressBookApiRest=function(e){return{type:a.actionTypes.SM_SET_ADDRESSBOOK_API_REST,apiRest:e}},t.smOpenEditorPreview=function(){return{type:a.actionTypes.SM_EDITOR_PREVIEW_OPEN}},t.smOpenEditor=function(){return{type:a.actionTypes.SM_EDITOR_OPEN}},t.smSetError=function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:a.actionTypes.SM_ERROR_SET,error:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EDIT_TOOLS=t.METHODS_LIST=t.modalIds=t.DROPZONE_CONFIG=t.RENDER=t.QR_PROPS=t.IMAGES=t.FONTS=t.DRAW_OPTIONS=t.SUB_TYPES=t.MODES=t.MODE_TYPES=t.LOCALE=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1094)),o=n(716),r=n(1095),i=m(n(974)),s=m(n(1096)),l=m(n(853)),d=m(n(1097)),u=m(n(1098)),c=m(n(1099)),p=m(n(1100)),h=m(n(1101)),f=m(n(1102));function m(e){return e&&e.__esModule?e:{default:e}}t.LOCALE=a,t.MODE_TYPES=o.MODE_TYPES,t.MODES=r.MODES,t.SUB_TYPES=i.default,t.DRAW_OPTIONS=s.default,t.FONTS=l.default,t.IMAGES=d.default,t.QR_PROPS=u.default,t.RENDER=c.default,t.DROPZONE_CONFIG=p.default,t.modalIds=h.default,t.METHODS_LIST=f.default,t.EDIT_TOOLS={crop:"crop"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={ADDRESSBOOK_ADDRESS_BOOK:"AddressBook",ADDRESSBOOK_UNDEFINED:"undefined",ADDRESSBOOK_FUNCTION:"function",ADDRESSBOOK_NUMBER:"number",ADDRESSBOOK_STRING:"string",ADDRESSBOOK_LENGTH:"length",ADDRESSBOOK_MODE_TYPE_INITIAL:"initial",ADDRESSBOOK_MODE_TYPE_LIST:"list",ADDRESSBOOK_FIELD_NAME:"name",ADDRESSBOOK_FIELD_NAME_MOBILE:"name-mob",ADDRESSBOOK_FIELD_EMAIL:"email",ADDRESSBOOK_FIELD_EMAIL_MOBILE:"email-mob",ADDRESSBOOK_FIELD_PHONE:"phone",ADDRESSBOOK_FIELD_PHONE_MOBILE:"phone-mob",ADDRESSBOOK_FIELD_FAX:"fax",ADDRESSBOOK_EDITABLE_FIELDS:["name","email","phone","fax"],ADDRESSBOOK_FIELD_FAX_MOBILE:"fax-mob",ADDRESSBOOK_FIELD_MOBILE_PREFIX:"-mob",ADDRESSBOOK_FIELD_SEARCH:"search",ADDRESSBOOK_MODAL_ACTION_EDIT:"edit",ADDRESSBOOK_MODAL_ACTION_ADD:"add",ADDRESSBOOK_MODAL_SEARCH:"search",ADDRESSBOOK_DROPDOWN_SHOW:"show",ADDRESSBOOK_DROPDOWN_HIDE:"hide",ADDRESSBOOK_DROPDOWN_TYPE_SORT:"sort",ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:"import",ADDRESSBOOK_DROPDOWN_TYPE_EDIT:"edit",ADDRESSBOOK_FILTER_TOGGLE_OR:"or",ADDRESSBOOK_FILTER_TOGGLE_AND:"and",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_MATH_MAX:"max",ADDRESSBOOK_MATH_MIN:"min",ADDRESSBOOK_REGEXP_NAME:/^(.*\S.*)$/,ADDRESSBOOK_REGEXP_PHONE:/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,ADDRESSBOOK_REGEXP_EMAIL:/^([\w\.!#\$%&'\*\+-/=\?\^_`\{\|}~]+[0-9a-zA-Z_-]+@[a-zA-Z_-]+?\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?)$/,ADDRESSBOOK_REGEXP_NUMBER:/\{\*number\*\}/gi,ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH:800,ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT:600,ADDRESSBOOK_MODAL_WIDTH:300,ADDRESSBOOK_MODAL_HEIGHT:248,ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT:748,ADDRESSBOOK_DIALOG_TIMEOUT:2e3,ADDRESSBOOK_BLOCK_POINT_DELAY:450,ADDRESSBOOK_MOBILE_VIEW_TYPE:"mobile",ADDRESSBOOK_DESKTOP_VIEW_TYPE:"desktop",ADDRESSBOOK_MOBILE_VIEW_CLASS:"hold-screen",ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH:"IMPORT_CONTACTS_FINISH",ADDRESSBOOK_MMC_TYPE_ALERT:"ALERT",ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN:"CLEAR_TOKEN",ADDRESSBOOK_DIALOG_TYPE_SUCCESS:"success",ADDRESSBOOK_DIALOG_TYPE_WARNING:"warning",ADDRESSBOOK_DIALOG_SIZE_SM:"sm",ADDRESSBOOK_SEARCH_FIELD:"searchField",ADDRESSBOOK_LOGIN_URL:"/en/login.htm?msg=logout"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEditedImage=t.getIsCropEnabled=t.getUseSignNowTheme=t.getSignatureManagerLocale=t.getImageManagerLocale=void 0;var a,o=n(4),r=(a=o)&&a.__esModule?a:{default:a},i=n(633);t.getImageManagerLocale=function(e){return e.locale.imageManager},t.getSignatureManagerLocale=function(e){return e.locale.signatureManager},t.getUseSignNowTheme=function(e){return(0,r.default)(e,"modal.options.SignatureManagerWrapper.useSignNowTheme",!1)},t.getIsCropEnabled=function(e){return(0,r.default)(e,"signatureEditor.selectedTool","")===i.EDIT_TOOLS.crop},t.getEditedImage=function(e){return(0,r.default)(e,"signatureEditor.image","")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowType=void 0,t.wsConnectionOn=r,t.initCustom=i,t.setContacts=s,t.setInitialMode=l,t.setLocal=d,t.setSinglePage=function(){return{type:a.actionTypes.SET_SINGLE_PAGE}},t.setFieldsMask=u,t.setActiveRows=c,t.setFilterMask=p,t.setFilterToggle=h,t.closeModal=f,t.openDialog=m,t.closeDialog=E,t.handleChange=g,t.addContact=_,t.editContact=v,t.clickOnContact=S,t.doubleClickOnContact=y,t.selectAllContacts=T,t.unselectAllContacts=O,t.selectContactUp=function(){return{type:a.actionTypes.SELECT_CONTACT_UP}},t.selectContactDown=function(){return{type:a.actionTypes.SELECT_CONTACT_DOWN}},t.deleteSelectedContacts=b,t.deleteAllContacts=C,t.sortContacts=D,t.searchContacts=M,t.searchUpdate=function(e){return{type:a.actionTypes.SEARCH_UPDATE,searchBy:e}},t.clearSearch=A,t.dropdownToggle=w,t.importEmail=R,t.onResizeWindow=I,t.handleErrorModal=N,t.handleAlertModal=P,t.handleSavingContact=L,t.handleSearchField=function(e){return{type:a.actionTypes.HANDLE_SEARCH_FIELD,handler:e}},t.handleBlockPoint=k,t.setWsConnect=B;var a=n(848),o=n(635);function r(e){return{type:a.actionTypes.WS_CONNECTION_ON,wsConnectObj:e}}function i(e,t,n){return{type:a.actionTypes.INIT_CUSTOM,baseUrl:e,appKey:t,userCredentials:n}}function s(e){return{type:a.actionTypes.SET_CONTACTS,contacts:e}}function l(){return{type:a.actionTypes.SET_INITIAL_MODE}}function d(e){return{type:a.actionTypes.SET_LOCAL,local:e}}function u(e){return{type:a.actionTypes.SET_FIELDS_MASK,fieldsMask:e}}function c(e){return{type:a.actionTypes.SET_ACTIVE_ROWS,activeRows:e}}function p(e){return{type:a.actionTypes.SET_FILTER_MASK,filterMask:e}}function h(e){return{type:a.actionTypes.SET_FILTER_TOGGLE,filterToggle:e}}function f(){return{type:a.actionTypes.CLOSE}}function m(e){return{type:a.actionTypes.OPEN_DIALOG,contactActionType:e}}function E(){return{type:a.actionTypes.CLOSE_DIALOG}}function g(e,t,n){return{type:a.actionTypes.HANDLE_CHANGE,value:e,inputType:t,isCorrect:n}}function _(e){return{type:a.actionTypes.ADD_CONTACT,newContact:e}}function v(){return{type:a.actionTypes.EDIT_CONTACT}}function S(e,t,n,o){return n?{type:a.actionTypes.CLICK_ROW_SHIFT,contactID:e,selectMax:o}:t?{type:a.actionTypes.CLICK_ROW_CTRL,contactID:e,selectMax:o}:{type:a.actionTypes.CLICK_ROW,contactID:e}}function y(e){return{type:a.actionTypes.DOUBLE_CLICK_ROW,contactID:e}}function T(){return{type:a.actionTypes.SELECT_ALL}}function O(){return{type:a.actionTypes.UNSELECT_ALL}}function b(){return{type:a.actionTypes.DELETE_SELECTED}}function C(){return{type:a.actionTypes.DELETE_ALL}}function D(e,t){return{type:a.actionTypes.SORT_CONTACTS,sortBy:e,sortDirection:t}}function M(e,t){return{type:a.actionTypes.SEARCH_CONTACTS,searchBy:e,fieldsMask:t}}function A(){return{type:a.actionTypes.CLEAR_SEARCH}}function w(e,t){switch(e){case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:return{type:a.actionTypes.TOGGLE_IMPORT,dropdownToggle:t};case o.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT:return{type:a.actionTypes.TOGGLE_EDIT,dropdownToggle:t}}}function R(e,t){return{type:a.actionTypes.IMPORT_EMAIL,url:e,props:t}}function I(e){return{type:a.actionTypes.ON_RESIZE_WINDOW,viewType:e}}function N(e){return{type:a.actionTypes.HANDLE_ERROR_MODAL,errorModalOpen:e}}function P(e){return{type:a.actionTypes.HANDLE_ALERT_MODAL,alertModalOpen:e}}function L(e){return{type:a.actionTypes.HANDLE_SAVING_CONTACT,saved:e}}function k(e){return{type:a.actionTypes.HANDLE_BLOCK_POINT,handler:e}}function B(e,t){return{type:a.actionTypes.SET_WS_CONNECT,connect:e,baseUrl:t}}var x=t.setWindowType=function(){return{type:a.actionTypes.SET_WINDOW_TYPE}};t.default={wsConnectionOn:r,initCustom:i,setContacts:s,setLocal:d,setFieldsMask:u,setActiveRows:c,setFilterMask:p,setFilterToggle:h,closeModal:f,openDialog:m,closeDialog:E,handleChange:g,addContact:_,clickOnContact:S,doubleClickOnContact:y,selectAllContacts:T,unselectAllContacts:O,deleteSelectedContacts:b,deleteAllContacts:C,editContact:v,sortContacts:D,searchContacts:M,clearSearch:A,dropdownToggle:w,importEmail:R,setInitialMode:l,onResizeWindow:I,handleErrorModal:N,handleAlertModal:P,handleSavingContact:L,handleBlockPoint:k,setWsConnect:B,setWindowType:x}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=E(n(0)),u=E(n(7)),c=E(n(656)),p=n(72),h=n(130),f=E(n(678)),m=n(31);function E(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.connect)(function(e){return{state:e}},function(e){return{setInterfaceLock:(0,h.bindActionCreators)(m.setInterfaceLock,e),setInterfaceUnlock:(0,h.bindActionCreators)(m.setInterfaceUnlock,e)}})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.setInterfaceLock(),c.default.setAppElement("body")}},{key:"componentWillUnmount",value:function(){this.props.setInterfaceUnlock()}},{key:"render",value:function(){var e=f.default.modal.modalCustomStyle;return this.props.noOverflow&&e&&e.content&&(e.content.overflow=null),this.props.overflow&&e&&e.content&&(e.content.overflow=this.props.overflow),d.default.createElement(c.default,{isOpen:!0,style:e,onRequestClose:this.props.handleClick,className:this.props.className,contentLabel:this.props.contentLabel,overlayClassName:this.props.overlayClassName},this.props.children)}}]),t}(d.default.Component))||a;t.default=g,g.propTypes={setInterfaceLock:u.default.func,setInterfaceUnlock:u.default.func,noOverflow:u.default.bool,overflow:u.default.string,overlayClassName:u.default.any,children:u.default.any,contentLabel:u.default.any,className:u.default.any,handleClick:u.default.any}},,,function(e,t,n){var a=n(845),o=n(846);if("i"!=="I".toLowerCase())throw"I/i problem";var r=function(e){var t,n;"undefined"!=typeof window&&(t=window.parseCssDeclarations,n=window.sanitizeCssProperty,window.cssSchema);var a={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},r=/^#(\d+)$/,i=/^#x([0-9A-Fa-f]+)$/,s=/^[A-Za-z][A-za-z0-9]+$/,l="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;function d(e,t){return function(e){if(a.hasOwnProperty(e))return a[e];var t=e.match(r);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(i))return String.fromCharCode(parseInt(t[1],16));if(l&&s.test(e)){l.innerHTML="&"+e+";";var n=l.textContent;return a[e]=n,n}return"&"+e+";"}(t)}var u=/\0/g;var c=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,p=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function h(e){return e?e.replace(c,d):e}var f=/&/g,m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,E=/[<]/g,g=/>/g,_=/\"/g;function v(e){return e?(""+e).replace(f,"&amp;").replace(E,"&lt;").replace(g,"&gt;").replace(_,"&#34;"):e}function S(e){return e?e.replace(m,"&amp;$1").replace(E,"&lt;").replace(g,"&gt;"):e}var y=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),T=3==="a,b".split(/(,)/).length,O=e.eflags.CDATA|e.eflags.RCDATA;function b(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,n){return function(e,t,n){var a=function(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",T)return e.split(t);for(var n,a=[],o=0;null!==(n=t.exec(e));)a.push(e.substring(o,n.index)),a.push(n[0]),o=n.index+n[0].length;return a.push(e.substring(o)),a}(e);M(t,a,0,{noMoreGT:!1,noMoreEndComments:!1},n)}(e,t,n)}}var C={};function D(e,t,n,a,o){return function(){M(e,t,n,a,o)}}function M(t,n,a,o,r){try{var i,s,l;t.startDoc&&0==a&&t.startDoc(r);for(var d=a,u=n.length;d<u;){var c=n[d++],h=n[d];switch(c){case"&":p.test(h)?(t.pcdata&&t.pcdata("&"+h,r,C,D(t,n,d,o,r)),d++):t.pcdata&&t.pcdata("&amp;",r,C,D(t,n,d,o,r));break;case"</":(i=/^([-\w:]+)[^\'\"]*/.exec(h))?i[0].length===h.length&&">"===n[d+1]?(d+=2,l=i[1].toLowerCase(),t.endTag&&t.endTag(l,r,C,D(t,n,d,o,r))):d=A(n,d,t,r,C,o):t.pcdata&&t.pcdata("&lt;/",r,C,D(t,n,d,o,r));break;case"<":if(i=/^([-\w:]+)\s*\/?/.exec(h))if(i[0].length===h.length&&">"===n[d+1]){d+=2,l=i[1].toLowerCase(),t.startTag&&t.startTag(l,[],r,C,D(t,n,d,o,r));var f=e.ELEMENTS[l];if(f&O)d=I(n,{name:l,next:d,eflags:f},t,r,C,o)}else d=w(n,d,t,r,C,o);else t.pcdata&&t.pcdata("&lt;",r,C,D(t,n,d,o,r));break;case"\x3c!--":if(!o.noMoreEndComments){for(s=d+1;s<u&&(">"!==n[s]||!/--$/.test(n[s-1]));s++);if(s<u){if(t.comment){var m=n.slice(d,s).join("");t.comment(m.substr(0,m.length-2),r,C,D(t,n,s+1,o,r))}d=s+1}else o.noMoreEndComments=!0}o.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",r,C,D(t,n,d,o,r));break;case"<!":if(/^\w/.test(h)){if(!o.noMoreGT){for(s=d+1;s<u&&">"!==n[s];s++);s<u?d=s+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",r,C,D(t,n,d,o,r))}else t.pcdata&&t.pcdata("&lt;!",r,C,D(t,n,d,o,r));break;case"<?":if(!o.noMoreGT){for(s=d+1;s<u&&">"!==n[s];s++);s<u?d=s+1:o.noMoreGT=!0}o.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",r,C,D(t,n,d,o,r));break;case">":t.pcdata&&t.pcdata("&gt;",r,C,D(t,n,d,o,r));break;case"":break;default:t.pcdata&&t.pcdata(c,r,C,D(t,n,d,o,r))}}t.endDoc&&t.endDoc(r)}catch(e){if(e!==C)throw e}}function A(e,t,n,a,o,r){var i=N(e,t);return i?(n.endTag&&n.endTag(i.name,a,o,D(n,e,t,r,a)),i.next):e.length}function w(e,t,n,a,o,r){var i=N(e,t);return i?(n.startTag&&n.startTag(i.name,i.attrs,a,o,D(n,e,i.next,r,a)),i.eflags&O?I(e,i,n,a,o,r):i.next):e.length}var R={};function I(t,n,a,o,r,i){var s=t.length;R.hasOwnProperty(n.name)||(R[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=R[n.name],d=n.next,u=n.next+1;u<s&&("</"!==t[u-1]||!l.test(t[u]));u++);u<s&&(u-=1);var c=t.slice(d,u).join("");if(n.eflags&e.eflags.CDATA)a.cdata&&a.cdata(c,o,r,D(a,t,u,i,o));else{if(!(n.eflags&e.eflags.RCDATA))throw new Error("bug");a.rcdata&&a.rcdata(S(c),o,r,D(a,t,u,i,o))}return u}function N(t,n){var a=/^([-\w:]+)/.exec(t[n]),o={};o.name=a[1].toLowerCase(),o.eflags=e.ELEMENTS[o.name];for(var r=t[n].substr(a[0].length),i=n+1,s=t.length;i<s&&">"!==t[i];i++)r+=t[i];if(!(s<=i)){for(var l=[];""!==r;)if(a=y.exec(r)){if(a[4]&&!a[5]||a[6]&&!a[7]){for(var d=a[4]||a[6],u=!1,c=[r,t[i++]];i<s;i++){if(u){if(">"===t[i])break}else 0<=t[i].indexOf(d)&&(u=!0);c.push(t[i])}if(s<=i)break;r=c.join("");continue}var p=a[1].toLowerCase(),h=a[2]?P(a[3]):"";l.push(p,h),r=r.substr(a[0].length)}else r=r.replace(/^[\s\S][^a-z\s]*/,"");return o.attrs=l,o.next=i+1,o}}function P(e){var t=e.charCodeAt(0);return 34!==t&&39!==t||(e=e.substr(1,e.length-2)),h(e.replace(u,""))}function L(t){var n,a,o=function(e,t){a||t.push(e)};return b({startDoc:function(e){n=[],a=!1},startTag:function(o,r,i){if(!a&&e.ELEMENTS.hasOwnProperty(o)){var s=e.ELEMENTS[o];if(!(s&e.eflags.FOLDABLE)){var l=t(o,r);if(l){if("object"!=typeof l)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in l))throw new Error("tagPolicy gave no attribs");var d,u;if(r=l.attribs,"tagName"in l?(u=l.tagName,d=e.ELEMENTS[u]):(u=o,d=s),s&e.eflags.OPTIONAL_ENDTAG){var c=n[n.length-1];!c||c.orig!==o||c.rep===u&&o===u||i.push("</",c.rep,">")}s&e.eflags.EMPTY||n.push({orig:o,rep:u}),i.push("<",u);for(var p=0,h=r.length;p<h;p+=2){var f=r[p],m=r[p+1];null!=m&&i.push(" ",f,'="',v(m),'"')}i.push(">"),s&e.eflags.EMPTY&&!(d&e.eflags.EMPTY)&&i.push("</",u,">")}else a=!(s&e.eflags.EMPTY)}}},endTag:function(t,o){if(a)a=!1;else if(e.ELEMENTS.hasOwnProperty(t)){var r=e.ELEMENTS[t];if(!(r&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var i;if(r&e.eflags.OPTIONAL_ENDTAG)for(i=n.length;--i>=0;){var s=n[i].orig;if(s===t)break;if(!(e.ELEMENTS[s]&e.eflags.OPTIONAL_ENDTAG))return}else for(i=n.length;--i>=0&&n[i].orig!==t;);if(i<0)return;for(var l=n.length;--l>i;){var d=n[l].rep;e.ELEMENTS[d]&e.eflags.OPTIONAL_ENDTAG||o.push("</",d,">")}i<n.length&&(t=n[i].rep),n.length=i,o.push("</",t,">")}}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;n.length;n.length--)e.push("</",n[n.length-1].rep,">")}})}var k=/^(?:https?|mailto)$/i;function B(e,t,n,a,r){if(!r)return null;try{var i=o.parse(""+e);if(i&&(!i.hasScheme()||k.test(i.getScheme()))){var s=r(i,t,n,a);return s?s.toString():null}}catch(e){return null}return null}function x(e,t,n,a,o){if(n||e(t+" removed",{change:"removed",tagName:t}),a!==o){var r="changed";a&&!o?r="removed":!a&&o&&(r="added"),e(t+"."+n+" "+r,{change:r,tagName:t,attribName:n,oldValue:a,newValue:o})}}function F(e,t,n){var a;return a=t+"::"+n,e.hasOwnProperty(a)?e[a]:(a="*::"+n,e.hasOwnProperty(a)?e[a]:void 0)}function Y(t,n){return F(e.LOADERTYPES,t,n)}function U(t,n){return F(e.URIEFFECTS,t,n)}function H(a,o,r,i,s){for(var l=0;l<o.length;l+=2){var d,u=o[l],c=o[l+1],p=c,h=null;if(d=a+"::"+u,(e.ATTRIBS.hasOwnProperty(d)||(d="*::"+u,e.ATTRIBS.hasOwnProperty(d)))&&(h=e.ATTRIBS[d]),null!==h)switch(h){case e.atype.NONE:break;case e.atype.SCRIPT:c=null,s&&x(s,a,u,p,c);break;case e.atype.STYLE:if(void 0===t){c=null,s&&x(s,a,u,p,c);break}var f=[];t(c,{declaration:function(t,a){var o=t.toLowerCase();n(o,a,r?function(t){return B(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:o},r)}:null),a.length&&f.push(o+": "+a.join(" "))}}),c=f.length>0?f.join(" ; "):null,s&&x(s,a,u,p,c);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:c=i?i(c):c,s&&x(s,a,u,p,c);break;case e.atype.URI:c=B(c,U(a,u),Y(a,u),{TYPE:"MARKUP",XML_ATTR:u,XML_TAG:a},r),s&&x(s,a,u,p,c);break;case e.atype.URI_FRAGMENT:c&&"#"===c.charAt(0)?(c=c.substring(1),null!=(c=i?i(c):c)&&(c="#"+c)):c=null,s&&x(s,a,u,p,c);break;default:c=null,s&&x(s,a,u,p,c)}else c=null,s&&x(s,a,u,p,c);o[l+1]=c}return o}function j(t,n,a){return function(o,r){if(!(e.ELEMENTS[o]&e.eflags.UNSAFE))return{attribs:H(o,r,t,n,a)};a&&x(a,o,void 0,void 0,void 0)}}function W(e,t){var n=[];return L(t)(e,n),n.join("")}var K={};return K.escapeAttrib=K.escapeAttrib=v,K.makeHtmlSanitizer=K.makeHtmlSanitizer=L,K.makeSaxParser=K.makeSaxParser=b,K.makeTagPolicy=K.makeTagPolicy=j,K.normalizeRCData=K.normalizeRCData=S,K.sanitize=K.sanitize=function(e,t,n,a){return W(e,j(t,n,a))},K.sanitizeAttribs=K.sanitizeAttribs=H,K.sanitizeWithPolicy=K.sanitizeWithPolicy=W,K.unescapeEntities=K.unescapeEntities=h,K}(a),i=r.sanitize;"undefined"!=typeof window&&(window.html=r,window.html_sanitize=i);var s={};s.escapeAttrib=r.escapeAttrib,s.makeHtmlSanitizer=r.makeHtmlSanitizer,s.makeSaxParser=r.makeSaxParser,s.makeTagPolicy=r.makeTagPolicy,s.normalizeRCData=r.normalizeRCData,s.sanitizeAttribs=r.sanitizeAttribs,s.sanitizeWithPolicy=r.sanitizeWithPolicy,s.unescapeEntities=r.unescapeEntities,s.escape=r.escapeAttrib,s.sanitize=function(e,t,n,a){return"string"==typeof e&&(e=e.replace(/<([a-zA-Z]+)([^>]*)\/>/g,"<$1$2></$1>")),e?r.sanitize(e,t,n,a):e},e.exports&&(t=e.exports=s),t.Sanitizer=s},function(e,t,n){var a,o,r;o=[],void 0===(r="function"==typeof(a=function(){"use strict";var e={modifiers:"{name}--",states:"is-"},t=Array.prototype.push,n=Array.prototype.slice,a=Object.prototype.toString;function o(e){return a.call(e).slice(8,-1).toLowerCase()}var r={};function i(e){return e.trim().split(/ +/)}function s(a){if(!a)return"";var s,l=n.call(arguments).slice(1),d=[];return Object.keys(a).forEach(function(n){switch(o(a[n])){case"string":t.apply(d,i(a[n]));break;case"array":l.forEach(function(o){if(r.object(o)){var i=(s=a[n],l=o,u=(u=function(t,n){return(e[t]||"").replace(/\{([\w-]*?)\}/g,function(e,t){return n[t]||""})}(n,a))||"",s.filter(function(e){return!!l[e]}).map(function(e){return u+(r.boolean(l[e])?e:l[e])}));t.apply(d,i)}var s,l,u})}}),l.forEach(function(e){switch(o(e)){case"string":t.apply(d,i(e));break;case"array":t.apply(d,e)}}),function(e){return e.filter(function(e){return r.string(e)&&""!==e.trim()}).map(function(e){return e.trim()})}((s=d).filter(function(e,t){return s.indexOf(e)===t})).join(" ").trim()}return["string","boolean","array","object"].forEach(function(e){r[e]=function(t){return o(t)===e}}),s.prefixes=e,s})?a.apply(t,o):a)||(e.exports=r)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findContactById=void 0;var a=i(n(269)),o=i(n(109));t.detectSafari=s,t.detectIE=l,t.windowFocus=d,t.openWindow=u,t.compare=c,t.uniqArr=p,t.filterMaskApply=h,t.addMobileClass=f,t.removeMobileClass=m,t.setWindowType=E,t.redirect=_;var r=n(635);function i(e){return e&&e.__esModule?e:{default:e}}function s(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1}function l(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var a=e.indexOf("Edge/");return a>0&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}function d(){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&l()&&window.focus()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=screen.height/2-n/2,r=screen.width/2-t/2;a.length>0&&(e.indexOf("?")>=0?e+="&"+a:e+="?"+a),window.childWindow=window.open(e,"sharer","top="+o+",left="+r+",toolbar=0,status=0,width="+t+",height="+n)}function c(e,t){return t===r.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA?function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?1:a>o?-1:0:-1:1}:function(t,n){if(!t[e])return 1;if(!n[e])return-1;var a=t[e].toLowerCase(),o=n[e].toLowerCase();return a?o?a<o?-1:a>o?1:0:-1:1}}function p(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}function h(e,t,n,o){var r=e.length;if(t===n){var i=e.find(function(e){return(0,a.default)(o).find(function(t){return-1!==e.indexOf(t)&&o[t].length>0})});return Boolean(i)}return(0,a.default)(o).filter(function(t){return e.find(function(e){return-1!==e.indexOf(t)&&o[t].length>0})}).length===r}function f(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)||(document.body.className+=" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)}function m(){document.body.classList.contains(r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+r.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS,""))}function E(e,t,n){var a=e.getState();("undefined"==typeof window?"undefined":(0,o.default)(window))!==t.ADDRESSBOOK_UNDEFINED&&(window.innerWidth<=t.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?a.modal.itemsToRender.length>0?(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),f()):(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),m()):(e.dispatch(n(t.ADDRESSBOOK_DESKTOP_VIEW_TYPE)),m()))}var g=t.findContactById=function(e,t){return e.find(function(e){return+e.id==+t})};function _(e,t){("undefined"==typeof window?"undefined":(0,o.default)(window))!==r.SYSTEM.ADDRESSBOOK_UNDEFINED&&(window.location=""+e+t)}t.default={detectSafari:s,detectIE:l,windowFocus:d,openWindow:u,compare:c,uniqArr:p,filterMaskApply:h,setWindowType:E,findContactById:g,redirect:_}},function(e,t,n){"use strict";var a=n(658),o=n(749),r=n(1109),i=n(670),s=n(1110),l=n(1111),d={};function u(e){var t,n,l=this;function d(){o.add(e,"ps-focus")}function u(){o.remove(e,"ps-focus")}l.settings=a.clone(r),l.containerWidth=null,l.containerHeight=null,l.contentWidth=null,l.contentHeight=null,l.isRtl="rtl"===i.css(e,"direction"),l.isNegativeScroll=(n=e.scrollLeft,e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=n,t),l.negativeScrollAdjustment=l.isNegativeScroll?e.scrollWidth-e.clientWidth:0,l.event=new s,l.ownerDocument=e.ownerDocument||document,l.scrollbarXRail=i.appendTo(i.e("div","ps-scrollbar-x-rail"),e),l.scrollbarX=i.appendTo(i.e("div","ps-scrollbar-x"),l.scrollbarXRail),l.scrollbarX.setAttribute("tabindex",0),l.event.bind(l.scrollbarX,"focus",d),l.event.bind(l.scrollbarX,"blur",u),l.scrollbarXActive=null,l.scrollbarXWidth=null,l.scrollbarXLeft=null,l.scrollbarXBottom=a.toInt(i.css(l.scrollbarXRail,"bottom")),l.isScrollbarXUsingBottom=l.scrollbarXBottom==l.scrollbarXBottom,l.scrollbarXTop=l.isScrollbarXUsingBottom?null:a.toInt(i.css(l.scrollbarXRail,"top")),l.railBorderXWidth=a.toInt(i.css(l.scrollbarXRail,"borderLeftWidth"))+a.toInt(i.css(l.scrollbarXRail,"borderRightWidth")),i.css(l.scrollbarXRail,"display","block"),l.railXMarginWidth=a.toInt(i.css(l.scrollbarXRail,"marginLeft"))+a.toInt(i.css(l.scrollbarXRail,"marginRight")),i.css(l.scrollbarXRail,"display",""),l.railXWidth=null,l.railXRatio=null,l.scrollbarYRail=i.appendTo(i.e("div","ps-scrollbar-y-rail"),e),l.scrollbarY=i.appendTo(i.e("div","ps-scrollbar-y"),l.scrollbarYRail),l.scrollbarY.setAttribute("tabindex",0),l.event.bind(l.scrollbarY,"focus",d),l.event.bind(l.scrollbarY,"blur",u),l.scrollbarYActive=null,l.scrollbarYHeight=null,l.scrollbarYTop=null,l.scrollbarYRight=a.toInt(i.css(l.scrollbarYRail,"right")),l.isScrollbarYUsingRight=l.scrollbarYRight==l.scrollbarYRight,l.scrollbarYLeft=l.isScrollbarYUsingRight?null:a.toInt(i.css(l.scrollbarYRail,"left")),l.scrollbarYOuterWidth=l.isRtl?a.outerWidth(l.scrollbarY):null,l.railBorderYWidth=a.toInt(i.css(l.scrollbarYRail,"borderTopWidth"))+a.toInt(i.css(l.scrollbarYRail,"borderBottomWidth")),i.css(l.scrollbarYRail,"display","block"),l.railYMarginHeight=a.toInt(i.css(l.scrollbarYRail,"marginTop"))+a.toInt(i.css(l.scrollbarYRail,"marginBottom")),i.css(l.scrollbarYRail,"display",""),l.railYHeight=null,l.railYRatio=null}function c(e){return e.getAttribute("data-ps-id")}t.add=function(e){var t=l();return function(e,t){e.setAttribute("data-ps-id",t)}(e,t),d[t]=new u(e),d[t]},t.remove=function(e){delete d[c(e)],function(e){e.removeAttribute("data-ps-id")}(e)},t.get=function(e){return d[c(e)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flipImage=t.rotateImage=t.trimImage=t.editImage=t.editImageData=t.transformImage=t.resizeToFit=t.validateFiles=t.base64ToImage=t.imageToBase64=void 0;var a=l(n(109)),o=l(n(328)),r=l(n(449)),i=l(n(750)),s=n(751);function l(e){return e&&e.__esModule?e:{default:e}}var d="png";function u(e,t,n,a,o){if(e.length){var r=e.shift();return function(e,t,n,a,o){!function(e,t,n){var a=new FileReader;a.onload=function(e){try{var a=new DataView(e.target.result);if(65496!=a.getUint16(0,!1))return t(-2);for(var o=a.byteLength,r=2;r<o;){var i=a.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=a.getUint32(r+=2,!1))return t(-1);var s=18761==a.getUint16(r+=6,!1);r+=a.getUint32(r+4,s);var l=a.getUint16(r,s);r+=2;for(var d=0;d<l;d++)if(274==a.getUint16(r+12*d,s))return t(a.getUint16(r+12*d+8,s))}else{if(65280!=(65280&i))break;r+=a.getUint16(r,!1)}}}catch(e){n(e)}return t(-1)},a.onerror=function(e){return n(e)},a.readAsArrayBuffer(e)}(e,function(r){var i=new FileReader;i.onloadend=function(){c({dataUri:i.result,width:n.width,height:n.height,orientation:r,isImageMirrored:t}).then(a).catch(o)},i.onerror=function(e){return o(e)},i.readAsDataURL(e)},o)}(r,!1,n,function(i){var s={type:r.type.split("/")[1],data:i.resizedImage,width:i.width,height:i.height};t.push(s),u(e,t,n,a,o)},o)}return a(t)}function c(e){var t=e.dataUri,n=e.width,a=e.height,o=e.isImageMirrored,i=e.orientation;return new r.default(function(e,s){var l=new Image;l.onload=function(){var d=l.width/l.height,u=l.width,c=l.height;u>=n&&d>=1?c=(u=n)/d:c>=a&&(u=(c=a)*d),function(e){var t=e.dataUri,n=e.width,a=e.height,o=e.isImageMirrored,i=e.orientation;return new r.default(function(e,r){var s=t.match(/data:(.+);/im)[1],l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d");switch(6===i||8===i?(t.width=a,t.height=n):(t.width=n,t.height=a),i){case 2:r.transform(-1,0,0,1,n,0);break;case 3:r.transform(-1,0,0,-1,n,a);break;case 4:r.transform(1,0,0,-1,0,a);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a,0);break;case 7:r.transform(0,-1,-1,0,a,n);break;case 8:r.transform(0,-1,1,0,0,n);break;default:r.transform(1,0,0,1,0,0)}o?(r.save(),r.scale(-1,1),r.drawImage(l,0,0,-1*n,a),r.restore()):r.drawImage(l,0,0,n,a);var d={src:t.toDataURL(s),width:t.width,height:t.height};e(d)},l.onerror=function(e){return r(e)},l.src=t})}({width:u,height:c,isImageMirrored:o,orientation:i,dataUri:t}).then(function(t){var n=t.src,a=t.width,o=t.height;e({resizedImage:n,height:o,width:a})}).catch(s)},l.onerror=function(e){return s(e)},l.src=t})}var p=function(e,t){return t*(e-128)+128},h=function(e,t){var n=e+t;return n<0?0:n>255?255:n};t.imageToBase64=function(e,t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d");e.height=n.height,e.width=n.width,a.drawImage(n,0,0),t(e.toDataURL("image/"+d))},n.src=e},t.base64ToImage=function(e){return new r.default(function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=function(e){return n(e)},a.src=e})},t.validateFiles=function(e,t,n,r){var l=t.maxFileSize,d=t.allowedFileTypes,c=t.maxFilesNumber,p=t.checkImage,h=t.imageDimensions,f=t.customErrors,m=function(e){if(e&&e.length)return"string"==typeof e?e.split("/")[1].toUpperCase():e.map(function(e){return e.split("/")[1].toUpperCase()}).join(", ");return""}(d),E={bigFile:s.ERRORS.BIG_FILE,wrongType:s.ERRORS.WRONG_TYPE,noFiles:s.ERRORS.NO_FILES,tooManyFiles:s.ERRORS.TOO_MANY_FILES,defaultError:s.ERRORS.DEFAULT_ERROR};if(f&&(E=(0,o.default)({},E,f)),!e||!e.length)return r([{error:E.noFiles,brokenCondition:""}]);if(c&&e.length>c)return r([{error:E.tooManyFiles,brokenCondition:""}]);for(var g=[],_=[],v=void 0,S=0;S<e.length;S++)v=e[S],l&&v.size>(0,i.default)(l.toLowerCase())?_.push({error:E.bigFile,fileName:v.name,brokenCondition:l}):d.length&&-1===d.indexOf(v.type)?_.push({error:E.wrongType,fileName:v.name,brokenCondition:m}):g.push(v);if(_.length)return r(_);if(p){if("string"==typeof d&&d.indexOf("image")>-1)return u(g,[],h,n,function(){return r(E.defaultError)});if("object"===(void 0===d?"undefined":(0,a.default)(d))&&d.join().indexOf("image")>-1)return u(g,[],h,n,function(){return r(E.defaultError)})}n(g)},t.resizeToFit=c,t.transformImage=function(e){var t=e.src,n=e.degrees,a=e.maxWidth,o=e.maxHeight,i=e.flipHorizontally,s=e.flipVertically;return new r.default(function(e,r){var l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),u=l.height===l.width,c=l.height>l.width,p=n%180==90,h=n*Math.PI/180,f=l.height/l.width,m=l.width,E=l.height,g=1,_=void 0;if(u)E>o&&(m*=g=(E-=E-o)/l.width);else if(p)if(c)if(l.height>a)E=(m=E*f)/f,m>a&&(E=(m-=m-a)/f,g=m/l.height);else{var v=E;E=m,m=v}else if(l.width>o)E=m/f,m*=f,E>o&&(m*=g=(E-=E-o)/l.width);else{var S=E;E=m,m=S}else c?E>o&&(m=(E-=E-o)/f,g=E/l.height):m>a&&(g=(m-=m-a)/l.width,E=m*f);t.width=m,t.height=E,r.save(),r.fillStyle="#fff",r.fillRect(0,0,m,E),r.translate(m/2,E/2),r.rotate(h),_=g,p?(g=s?-1*g:g,_=i?-1*_:_):(g=i?-1*g:g,_=s?-1*_:_),r.scale(g,_),r.drawImage(l,-l.width/2,-l.height/2),r.restore();var y={src:t.toDataURL("image/"+d),width:m,height:E};e(y)},l.onerror=function(e){return r(e)},l.crossOrigin="Anonymous",l.src=t})},t.editImageData=function(e,t,n,a,o){return new r.default(function(r){var i=e.data,s=i.length,l=t.data,d=void 0,u=void 0,c=void 0,f=void 0,m=void 0;for(d=0;d<s;d+=4)m=.2126*(u=h(p(i[d],o),a))+.7152*(c=h(p(i[d+1],o),a))+.0722*(f=h(p(i[d+2],o),a))>=n,l[d]=u,l[d+1]=c,l[d+2]=f,l[d+3]=m?0:i[d+3];r(t)})},t.editImage=function(e){var t=e.src,n=e.threshold,a=e.brightness,o=e.contrast,i=e.flipHorizontally,s=e.flipVertically;return new r.default(function(e,r){var l=new Image;l.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),u=1,c=1;if(i&&(u=-1),s&&(c=-1),t.width=l.width,t.height=l.height,r.save(),r.scale(u,c),r.drawImage(l,0,0,l.width*u,l.height*c),r.restore(),255!==n||0!==a||0!==o){var f=r.getImageData(0,0,t.width,t.height),m=259*(o+255)/(255*(259-o)),E=f.data,g=E.length,_=void 0,v=void 0,S=void 0,y=void 0,T=void 0;for(_=0;_<g;_+=4)T=.2989*(v=h(p(E[_],m),a))+.587*(S=h(p(E[_+1],m),a))+.114*(y=h(p(E[_+2],m),a)),E[_]=v,E[_+1]=S,E[_+2]=y,.2126*T+.7152*T+.0722*T>=n&&(E[_+3]=0);r.clearRect(0,0,t.width,t.height),r.putImageData(f,0,0)}var O={src:t.toDataURL("image/"+d),width:l.width,height:l.height};e(O)},l.onerror=function(e){return r(e)},l.src=t})},t.trimImage=function(e){return new r.default(function(t,n){var a=new Image;a.onload=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=a.width,e.height=a.height,n.drawImage(a,0,0);var o,r,i=n.getImageData(0,0,a.width,a.height),s={top:null,left:null,right:null,bottom:null},l=a.width+1,u=a.height+1,c=void 0,p=void 0,h=void 0;for(p=0;p<u;++p)for(c=0;c<l;++c)4*(p*l+c)&&(null===s.top&&(s.top=p),(null===s.left||c<s.left)&&(s.left=c),(null===s.right||s.right<c)&&(s.right=c),(null===s.bottom||s.bottom<p)&&(s.bottom=p));o=s.bottom-s.top,r=s.right-s.left,o&&r?(h=n.getImageData(s.left,s.top,r,o),e.width=r,e.height=o):h=i,n.putImageData(h,0,0),t(e.toDataURL("image/"+d))},a.onerror=function(e){return n(e)},a.src=e})},t.rotateImage=function(e){var t=e.src,n=e.clockwise;return new r.default(function(e,a){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),r=(n?90:-90)*Math.PI/180;t.width=o.height,t.height=o.width,a.save(),a.translate(t.width/2,t.height/2),a.rotate(r),a.drawImage(o,-o.width/2,-o.height/2),a.restore();var i={src:t.toDataURL("image/"+d),width:o.width,height:o.height};e(i)},o.onerror=function(e){return a(e)},o.crossOrigin="Anonymous",o.src=t})},t.flipImage=function(e){var t=e.src,n=e.flipHorizontally;return new r.default(function(e,a){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),r=1,i=1;n?r=-1:i=-1,t.width=o.width,t.height=o.height,a.save(),a.scale(r,i),a.drawImage(o,0,0,o.width*r,o.height*i),a.restore(),e(t.toDataURL("image/"+d))},o.onerror=function(e){return a(e)},o.src=t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var a,o=n(710);var r=((a=o)&&a.__esModule?a:{default:a}).default,i=r.canUseDOM?window.HTMLElement:{};t.canUseDOM=r.canUseDOM;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(328),r=(a=o)&&a.__esModule?a:{default:a},i=n(671);t.default={setLocale:function(e){return{type:i.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET,locale:e}},resetEditor:function(){return{type:i.ACTION_TYPES.EDITOR_RESET}},setEditorDimensions:function(e){return{type:i.ACTION_TYPES.EDITOR_DIMENSIONS_SET,dimensions:e}},restoreInitialState:function(){return{type:i.ACTION_TYPES.INITIAL_STATE_RESTORE}},restoreEditedImage:function(){return{type:i.ACTION_TYPES.EDITED_IMAGE_RESTORE}},selectTool:function(e){return{type:i.ACTION_TYPES.TOOL_SELECT,tool:e}},setInitialImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:i.ACTION_TYPES.IMAGE_INITIAL_SET,image:e,initialImage:t}},setImage:function(e){return{type:i.ACTION_TYPES.IMAGE_SET,image:e}},setImageDimensions:function(e){return{type:i.ACTION_TYPES.IMAGE_DIMENSIONS_SET,dimensions:e}},setCroppedImage:function(e){return{type:i.ACTION_TYPES.CROPPED_IMAGE_SET,image:e}},setEditedImage:function(e,t){return{type:i.ACTION_TYPES.EDITED_IMAGE_SET,image:e,totalSteps:t}},resetImageParams:function(){return{type:i.ACTION_TYPES.IMAGE_PARAMS_RESET}},setImageParams:function(e){return{type:i.ACTION_TYPES.IMAGE_PARAMS_SET,params:e}},rotateImage:function(e){return{type:i.ACTION_TYPES.IMAGE_ROTATE,clockwise:e}},flipImage:function(e){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_FLIP},e)},flipImageHorizontally:function(){return{type:i.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP}},flipImageVertically:function(){return{type:i.ACTION_TYPES.IMAGE_VERTICAL_FLIP}},setThickness:function(e){return{type:i.ACTION_TYPES.THICKNESS_SET,size:e}},applyCrop:function(){return{type:i.ACTION_TYPES.CROP_APPLY}},setBrightness:function(e){return{type:i.ACTION_TYPES.BRIGHTNESS_SET,value:e}},setContrast:function(e){return{type:i.ACTION_TYPES.CONTRAST_SET,value:e}},setThreshold:function(e){return{type:i.ACTION_TYPES.THRESHOLD_SET,value:e}},zoomIn:function(){return{type:i.ACTION_TYPES.ZOOM_IN}},zoomOut:function(){return{type:i.ACTION_TYPES.ZOOM_OUT}},addHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_STEP_ADD,totalSteps:e}},setHistoryState:function(e,t,n){return{type:i.ACTION_TYPES.HISTORY_STATE_SET,image:e,imageParams:t,step:n}},undoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_UNDO}},redoHistory:function(){return{type:i.ACTION_TYPES.HISTORY_REDO}},saveErasedImage:function(e){return{type:i.ACTION_TYPES.ERASED_IMAGE_SAVE,image:e}},saveImageState:function(){return{type:i.ACTION_TYPES.IMAGE_STATE_SAVE}},autoAdjustImage:function(){return(0,r.default)({type:i.ACTION_TYPES.IMAGE_AUTO_ADJUST},i.AUTO_ADJUST_PARAMS)},initialImageAdjust:function(e){return{type:i.ACTION_TYPES.IMAGE_INITIAL_ADJUST,params:(0,r.default)({},i.AUTO_ADJUST_PARAMS,{src:e,flipHorizontally:!1,flipVertically:!1})}},setCurrentHistoryStep:function(e){return{type:i.ACTION_TYPES.HISTORY_CURRENT_STEP_SET,step:e}},setTotalHistorySteps:function(e){return{type:i.ACTION_TYPES.HISTORY_TOTAL_STEPS_SET,steps:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnSecondary=void 0;var a=c(n(51)),o=c(n(41)),r=c(n(43)),i=c(n(52)),s=c(n(53)),l=c(n(7)),d=n(0),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}var p={addClass:l.default.string,children:l.default.string,onClick:l.default.func,disabled:l.default.bool};(t.BtnSecondary=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.addClass,a=void 0===n?"":n,o=e.children,r=e.onClick;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-secondary g-btn-auto-width "+a,onClick:r,disabled:t},o)}}]),t}(d.Component)).propTypes=p},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(705),r=(a=o)&&a.__esModule?a:{default:a};t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActualImageAndApplyCropIfNeed=t.ps=t.isIeOrEdge=t.isPhone=t.isTablet=t.isDesktop=t.isTabletOrMobile=void 0;var a=s(n(1106)),o=s(n(651)),r=n(633),i=n(637);function s(e){return e&&e.__esModule?e:{default:e}}t.isTabletOrMobile=function(e){return e&&e.type&&e.type!==r.RENDER.DESKTOP_TYPE},t.isDesktop=function(e){return e.type===r.RENDER.DESKTOP_TYPE},t.isTablet=function(e){return e.type===r.RENDER.TABLET_TYPE},t.isPhone=function(e){return e.type!==r.RENDER.PHONE_TYPE},t.isIeOrEdge=function(){var e=/* @cc_on!@ */!!document.documentMode,t=!e&&-1!==navigator.appName.indexOf("Netscape")&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge");return e||t},t.ps=function(e){return{initialize:function(t){return a.default.initialize(e,t)},update:function(){return a.default.update(e)},destroy:function(){return a.default.destroy(e)}}},t.getActualImageAndApplyCropIfNeed=function(e,t){var n=e.dispatch,a=e.getState;return(0,i.getIsCropEnabled)(a())?(n(o.default.applyCrop()),(0,i.getEditedImage)(a())):t}},function(e,t,n){"use strict";var a=n(749),o=n(670),r=t.toInt=function(e){return parseInt(e,10)||0},i=t.clone=function(e){if(e){if(Array.isArray(e))return e.map(i);if("object"==typeof e){var t={};for(var n in e)t[n]=i(e[n]);return t}return e}return null};t.extend=function(e,t){var n=i(e);for(var a in t)n[a]=i(t[a]);return n},t.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=a.list(e),n=0;n<t.length;n++){var o=t[n];0===o.indexOf("ps-")&&a.remove(e,o)}},t.outerWidth=function(e){return r(o.css(e,"width"))+r(o.css(e,"paddingLeft"))+r(o.css(e,"paddingRight"))+r(o.css(e,"borderLeftWidth"))+r(o.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){a.add(e,"ps-in-scrolling"),void 0!==t?a.add(e,"ps-"+t):(a.add(e,"ps-x"),a.add(e,"ps-y"))},t.stopScrolling=function(e,t){a.remove(e,"ps-in-scrolling"),void 0!==t?a.remove(e,"ps-"+t):(a.remove(e,"ps-x"),a.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},function(e,t,n){"use strict";var a=n(658),o=n(749),r=n(670),i=n(648),s=n(664);function l(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}e.exports=function(e){var t,n=i.get(e);n.containerWidth=e.clientWidth,n.containerHeight=e.clientHeight,n.contentWidth=e.scrollWidth,n.contentHeight=e.scrollHeight,e.contains(n.scrollbarXRail)||((t=r.queryChildren(e,".ps-scrollbar-x-rail")).length>0&&t.forEach(function(e){r.remove(e)}),r.appendTo(n.scrollbarXRail,e)),e.contains(n.scrollbarYRail)||((t=r.queryChildren(e,".ps-scrollbar-y-rail")).length>0&&t.forEach(function(e){r.remove(e)}),r.appendTo(n.scrollbarYRail,e)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=l(n,a.toInt(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=a.toInt((n.negativeScrollAdjustment+e.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=l(n,a.toInt(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=a.toInt(e.scrollTop*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),function(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,r.css(t.scrollbarXRail,n);var a={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?a.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:a.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?a.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:a.left=t.scrollbarYLeft+e.scrollLeft,r.css(t.scrollbarYRail,a),r.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),r.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,n),n.scrollbarXActive?o.add(e,"ps-active-x"):(o.remove(e,"ps-active-x"),n.scrollbarXWidth=0,n.scrollbarXLeft=0,s(e,"left",0)),n.scrollbarYActive?o.add(e,"ps-active-y"):(o.remove(e,"ps-active-y"),n.scrollbarYHeight=0,n.scrollbarYTop=0,s(e,"top",0))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnPrimary=void 0;var a,o,r=h(n(51)),i=h(n(41)),s=h(n(43)),l=h(n(52)),d=h(n(53)),u=h(n(7)),c=n(0),p=h(c);function h(e){return e&&e.__esModule?e:{default:e}}var f={addClass:u.default.string,children:u.default.string,onClick:u.default.func,disabled:u.default.bool};(t.BtnPrimary=(o=a=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.onClick,a=e.disabled,o=e.children,r=this.context.useSignNowTheme?"blue":"primary";return p.default.createElement("button",{type:"button",className:"g-btn g-btn-"+r+" g-btn-auto-width "+t,onClick:n,disabled:a},o)}}]),t}(c.Component),a.contextTypes={useSignNowTheme:u.default.bool},o)).propTypes=f},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var a=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function r(e,t){var n=e.nodeName.toLowerCase();return(a.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&r(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=d,t.hide=function(e){d(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){d(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var a,o=n(709),r=(a=o)&&a.__esModule?a:{default:a},i=n(650);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function d(e){return!(!e&&!s)||((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";var a,o,r=n(648),i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(i("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(i("ps-x-reach-start")));var s=r.get(e);"top"===t&&n>=s.contentHeight-s.containerHeight&&((n=s.contentHeight-s.containerHeight)-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(i("ps-y-reach-end"))),"left"===t&&n>=s.contentWidth-s.containerWidth&&((n=s.contentWidth-s.containerWidth)-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(i("ps-x-reach-end"))),a||(a=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&n<a&&e.dispatchEvent(i("ps-scroll-up")),"top"===t&&n>a&&e.dispatchEvent(i("ps-scroll-down")),"left"===t&&n<o&&e.dispatchEvent(i("ps-scroll-left")),"left"===t&&n>o&&e.dispatchEvent(i("ps-scroll-right")),"top"===t&&(e.scrollTop=a=n,e.dispatchEvent(i("ps-scroll-y"))),"left"===t&&(e.scrollLeft=o=n,e.dispatchEvent(i("ps-scroll-x")))}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(669)),i=m(n(132)),s=m(n(51)),l=m(n(41)),d=m(n(43)),u=m(n(52)),c=m(n(53)),p=n(0),h=m(p),f=m(n(7));function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return Object.defineProperty(n,"dragInit",{enumerable:!0,writable:!0,value:function(){n.draggable=n.main,n.draggable&&(n.elementX=n.mouseX-n.draggable.offsetLeft,n.elementY=n.mouseY-n.draggable.offsetTop),n.props.onMouseDown&&n.props.onMouseDown()}}),Object.defineProperty(n,"move",{enumerable:!0,writable:!0,value:function(e){if(n.mouseX=document.all?window.event.clientX:e.pageX,n.mouseY=document.all?window.event.clientY:e.pageY,n.draggable){var t=n.mouseY-n.elementY,a=n.mouseX-n.elementX,o=800,r=600;"undefined"!=typeof window&&(o=window.innerWidth,r=window.innerHeight);var i=n.props.sticky,s=n.props.modalWidth||n.draggable.clientWidth,l=n.props.modalHeight||n.draggable.clientHeight;i&&(t<0?t=0:t>r-l&&(t=r-l),a<0?a=0:a>o-s&&(a=o-s)),n.setState({left:a,top:t})}}}),Object.defineProperty(n,"stop",{enumerable:!0,writable:!0,value:function(){if(n.draggable){n.draggable=!1;var e=n.state,t=e.left,a=e.top;n.props.onStop&&n.props.onStop({left:t,top:a})}}}),Object.defineProperty(n,"draggableOn",{enumerable:!0,writable:!0,value:function(){var e=n.props.zIndex,t=n.state,a={left:t.left,top:t.top,position:"absolute"};return void 0===e?(0,i.default)({},a,{zIndex:1}):e?(0,i.default)({},a,{zIndex:e}):a}}),Object.defineProperty(n,"draggableOff",{enumerable:!0,writable:!0,value:function(){var e=n.props,t=e.zIndex,a=e.displayCenter,o=n.state,r=o.left,s=o.top,l={left:0,top:0,position:"fixed"};return a?(0,i.default)({},l,{left:r,top:s,zIndex:t}):void 0===t?(0,i.default)({},l,{zIndex:1}):n.props.zIndex?(0,i.default)({},l,{zIndex:t}):l}}),Object.defineProperty(n,"createMainRef",{enumerable:!0,writable:!0,value:function(e){n.main=e,n.props.modalRef&&n.props.modalRef(e)}}),Object.defineProperty(n,"createHeaderRef",{enumerable:!0,writable:!0,value:function(e){n.header=e}}),n.state={left:e.left,top:e.top},n.elementX=0,n.elementY=0,n.mouseX=0,n.mouseY=0,n.draggable=!1,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.draggableOff;this.header&&!e&&(this.header.onmousedown=this.dragInit,this.props.onMouseUp&&(this.header.onmouseup=this.props.onMouseUp),document.addEventListener("mouseup",this.stop),document.addEventListener("mousemove",this.move))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.stop),document.removeEventListener("mousemove",this.move)}},{key:"renderHeader",value:function(e){return h.default.createElement("div",{ref:this.createHeaderRef,className:this.props.headerClassName},e)}},{key:"render",value:function(){var e=this.props,t=e.draggableOff,n=e.className,a=(0,r.default)(this.props.children),o=a[0],i=a.slice(1),s=t?this.draggableOff():this.draggableOn();return h.default.createElement("div",{ref:this.createMainRef,className:n,style:s},this.renderHeader(o),i)}}]),t}(p.Component),Object.defineProperty(a,"propTypes",{enumerable:!0,writable:!0,value:{children:f.default.oneOfType([f.default.array.isRequired,f.default.element.isRequired]).isRequired,left:f.default.number,top:f.default.number,modalHeight:f.default.number,modalWidth:f.default.number,sticky:f.default.bool,draggableOff:f.default.bool,onMouseDown:f.default.func,onMouseUp:f.default.func,onStop:f.default.func,zIndex:f.default.number,displayCenter:f.default.bool,className:f.default.string,headerClassName:f.default.string,modalRef:f.default.func}}),Object.defineProperty(a,"defaultProps",{enumerable:!0,writable:!0,value:{left:0,top:0,modalHeight:0,modalWidth:0,zIndex:0,sticky:!1,draggableOff:!1,displayCenter:!1,className:"",headerClassName:"",onStop:null,onMouseDown:null,onMouseUp:null,modalRef:null}}),o);t.default=E},function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(451),r=(a=o)&&a.__esModule?a:{default:a};t.default=function(e){return Array.isArray(e)?e:(0,r.default)(e)}},function(e,t,n){"use strict";var a={};a.e=function(e,t){var n=document.createElement(e);return n.className=t,n},a.appendTo=function(e,t){return t.appendChild(e),e},a.css=function(e,t,n){return"object"==typeof t?function(e,t){for(var n in t){var a=t[n];"number"==typeof a&&(a=a.toString()+"px"),e.style[n]=a}return e}(e,t):void 0===n?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}(e,t,n)},a.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},a.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},a.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return a.matches(e,t)})},e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PADDING=t.ISCROLL_CONFIG=t.MAX_ZOOM=t.MAX_HISTORY_LENGTH=t.AUTO_ADJUST_PARAMS=t.IMAGE_CLEANER_CONFIG=t.LOCALE=t.ACTION_TYPES=t.TOOLS=void 0;var a=u(n(1121)),o=u(n(975)),r=u(n(1122)),i=u(n(1123)),s=u(n(1124)),l=u(n(1125)),d=n(976);function u(e){return e&&e.__esModule?e:{default:e}}t.TOOLS=a.default,t.ACTION_TYPES=o.default,t.LOCALE=r.default,t.IMAGE_CLEANER_CONFIG=i.default,t.AUTO_ADJUST_PARAMS=s.default,t.MAX_HISTORY_LENGTH=d.MAX_HISTORY_LENGTH,t.MAX_ZOOM=d.MAX_ZOOM,t.ISCROLL_CONFIG=l.default,t.DEFAULT_PADDING=d.DEFAULT_PADDING},,,,,,,function(e,t,n){"use strict";e.exports={modal:n(713)}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),i=f(r),s=f(n(93)),l=f(n(7)),d=f(n(706)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(663)),c=n(650),p=f(c),h=n(712);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",_=void 0!==s.default.createPortal,v=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function S(e){return e()}var y=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.removePortal=function(){!_&&s.default.unmountComponentAtNode(o.node),S(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=v()(o,i.default.createElement(d.default,a({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidMount",value:function(){c.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,S(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:S(e.parentSelector),nextParent:S(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(c.canUseDOM){var a=this.props,o=a.isOpen,r=a.portalClassName;e.portalClassName!==r&&(this.node.className=r);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(c.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return c.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),v()(i.default.createElement(d.default,a({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();y.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},y.defaultProps={isOpen:!1,portalClassName:E,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},y.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(y),t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),s=m(i),l=m(n(7)),d=f(n(707)),u=m(n(708)),c=f(n(663)),p=f(n(711)),h=m(n(650));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var E={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=9,_=27,v=0,S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,a=e.ariaHideApp,o=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&p.remove(document.body,r),o&&p.remove(document.getElementsByTagName("html")[0],o),a&&v>0&&0===(v-=1)&&c.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(d.returnFocus(),d.teardownScopedFocus()):d.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(d.setupScopedFocus(n.node),d.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===g&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===_&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var a="object"===(void 0===t?"undefined":o(t))?t:{base:E[e],afterOpen:E[e]+"--after-open",beforeClose:E[e]+"--before-close"},r=a.base;return n.state.afterOpen&&(r=r+" "+a.afterOpen),n.state.beforeClose&&(r=r+" "+a.beforeClose),"string"==typeof t&&t?r+" "+t:r},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,a){return n[e+"-"+a]=t[a],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,a=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&p.add(document.body,o),a&&p.add(document.getElementsByTagName("html")[0],a),n&&(v+=1,c.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,r=e.defaultStyles,i=n?{}:r.content,l=o?{}:r.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:a({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",a({id:t,ref:this.setContentRef,style:a({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();S.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},S.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=S,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=d,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",d,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",d),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",d),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",d),document.detachEvent("onFocus",u))};var a,o=n(662),r=(a=o)&&a.__esModule?a:{default:a};var i=[],s=null,l=!1;function d(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);if(!n.length)return void t.preventDefault();var a,o=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;a=s}s!==document.activeElement||o||(a=i);i===document.activeElement&&o&&(a=s);if(a)return t.preventDefault(),void a.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var d=n.indexOf(document.activeElement);d>-1&&(d+=o?-1:1);if(void 0===n[d])return t.preventDefault(),void(a=o?s:i).focus();t.preventDefault(),n[d].focus()};var a,o=n(662),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";var a=function(){};e.exports=a},function(e,t,n){var a;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(a=function(){return r}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var a={},o={};t.add=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?a:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(r,e),n.add(e)});var n,r},t.remove=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?a:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(r,e),0===r[e]&&n.remove(e)});var n,r}},function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function r(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,d="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+d+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,a)}}return e}n.r(t),n.d(t,"polyfill",function(){return i}),a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},function(e){e.exports=JSON.parse('{"overlay":{"position":"fixed","top":0,"left":0,"right":0,"bottom":0,"backgroundColor":"rgba(0, 0, 0, 0.50)"},"content":{"position":"absolute","top":"50%","left":"50%","right":"auto","bottom":"auto","border":"none","background":"#000","borderRadius":"0","outline":"none","padding":"0","marginRight":"-50%","overflow":"inherit","transform":"translate(-50%, -50%)"},"modalCustomStyle":{"overlay":{"backgroundColor":null},"content":{"top":0,"left":0,"right":0,"bottom":0,"border":null,"background":null,"borderRadius":null,"padding":null,"position":null,"overflow":"inherit"}},"alertCustomStyle":{"overlay":{"backgroundColor":"rgba(255, 255, 255, 0)"},"content":{"top":null,"left":null,"right":null,"bottom":null,"border":null,"background":null,"borderRadius":null,"padding":null,"position":null,"overflow":"inherit"}}}')},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={EVENT_CLICK:"click",EVENT_TOUCH_START:"touchstart",EVENT_SCROLL:"scroll",EVENT_KEY_DOWN:"keydown",EVENT_KEY_UP:"keyup",EVENT_PRESS_ENTER:"enter",EVENT_PRESS_ESCAPE:"escape",EVENT_PRESS_TAB:"tab",EVENT_PRESS_UP:"up",EVENT_PRESS_DOWN:"down",EVENT_PRESS_DELETE:"delete",EVENT_PRESS_CTRL_A:"ctrl_a",ENTER_ESCAPE_CONTROLLER:"ENTER_ESCAPE_CONTROLLER",ADDRESS_BOOK_CONTROLLER:"ADDRESS_BOOK_CONTROLLER"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODE_TYPES=void 0;var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.MODE_TYPES=(0,r.default)({INITIAL:null,EDIT:null,UPLOAD:null,MOBILE_UPLOAD:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,BIG_FOOTER:null,CAPTURE:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_UPLOADER:null,SM_UPLOADING:null,SM_MOBILE_UPLOADER:null,SM_CAPTURE:null,SM_NOTARIZE:null,SM_MOBILE_SIGN_LOADING:null,SM_EDITOR_PREVIEW:null,SM_EDITOR:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR_TYPES={ADDRESSBOOK_GET_CONTACTS:"getContacts",ADDRESSBOOK_ADD_CONTACT_DOUBLE:"addContactDouble",ADDRESSBOOK_ADD_CONTACT:"addContact",ADDRESSBOOK_EDIT_CONTACT:"editContact",ADDRESSBOOK_DELETE_CONTACT:"deleteContact",ADDRESSBOOK_DELETE_ALL_CONTACTS:"deleteAllContacts"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownTrigger=t.DropdownContent=void 0;var a=i(n(1072)),o=i(n(1073)),r=i(n(965));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default,t.DropdownContent=o.default,t.DropdownTrigger=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultController=o,t.setCurrentController=r,t.cancelCurrentController=i,t.emit=s;var a=n(469);function o(e){return{type:a.actionTypes.SET_DEFAULT_CONTROLLER,controller:e}}function r(e){return{type:a.actionTypes.SET_CURRENT_CONTROLLER,controller:e}}function i(e){return{type:a.actionTypes.CANCEL_CURRENT_CONTROLLER,controller:e}}function s(e,t){return{type:a.actionTypes.EMIT,eventType:e,event:t}}t.default={setDefaultController:o,setCurrentController:r,cancelCurrentController:i,emit:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INITIAL:null,EDIT:null,GALLERY:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,CAPTURE:null,SET_UPLOADED_PERCENT:null,DISABLE_WEBCAM:null,API_REST_SET:null,ERROR_SET:null,ERRORS_CLEAN:null,CLOSE_SIGNATURE:null,SM_SET_DRAW_CONFIG:null,SM_INITIAL:null,SM_TEXT_EDIT:null,SM_CURVE_EDIT:null,SM_IMAGE_EDIT:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_NOTARIZE:null,SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:null,SM_SIGNATURE_SAVE:null,SM_SET_INITIAL_SIGNATURE:null,SM_SET_ADDRESSBOOK_API_REST:null,LAUNCH_UPLOAD_IMAGE:null,SM_SET_ORIGINAL_IMAGE:null,SM_UPLOADER:null,SM_MOBILE_UPLOADER:null,SM_UPLOADING:null,SM_CAPTURE:null,SM_MOBILE_SIGN_LOADING:null,SM_LAUNCH_UPLOAD_IMAGE:null,SM_GET_QR_URL:null,SM_SET_QR_URL:null,SM_SEND_PHONE_NUMBER:null,SM_SEND_EMAIL:null,SM_SAVE_PHONE_NUMBER:null,SM_SAVE_EMAIL:null,SM_SET_MOBILE_SIGNATURE_METHOD:null,SM_MOBILE_SIGNATURE_RESEND:null,SM_GET_CONTACT_EMAIL:null,SM_GET_CONTACT_PHONE_NUMBER:null,SM_EDITOR_PREVIEW_OPEN:null,SM_EDITOR_OPEN:null,SM_ERROR_SET:null})},function(e,t,n){"use strict";t.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var n=e.className.split(" "),a=n.indexOf(t);a>=0&&n.splice(a,1),e.className=n.join(" ")}(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return l(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=l;var a=/\B(?=(\d{3})+(?!\d))/g,o=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),i=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",l=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,d=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&r[u.toLowerCase()]||(u=n>=r.pb?"PB":n>=r.tb?"TB":n>=r.gb?"GB":n>=r.mb?"MB":n>=r.kb?"KB":"B");var c=(e/r[u.toLowerCase()]).toFixed(l);return d||(c=c.replace(o,"$1")),i&&(c=c.replace(a,i)),c+s+u}function l(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),a="b";return n?(t=parseFloat(n[1]),a=n[4].toLowerCase()):(t=parseInt(e,10),a="b"),Math.floor(r[a]*t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0;var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.ERRORS=(0,r.default)({BIG_FILE:null,WRONG_TYPE:null,NO_FILES:null,FILE_CANT_BE_OPENED:null,TOO_MANY_FILES:null,DEFAULT_ERROR:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(855),r=(a=o)&&a.__esModule?a:{default:a},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(857));t.default={Webcam:r.default,WebcamUtils:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IDS={button:"DropzoneButton",content:"DropzoneContent",title:"DropzoneTitle"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.moveCaretAtEnd=function(e){var t=e.target;/text|password|search|tel|url/.test(t.type)&&t.setSelectionRange(t.value.length,t.value.length)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=f(n(51)),r=f(n(41)),i=f(n(43)),s=f(n(52)),l=f(n(53)),d=f(n(7)),u=n(0),c=f(u),p=n(72),h=n(652);function f(e){return e&&e.__esModule?e:{default:e}}var m={title:d.default.string,btns:d.default.array};(t.Loader=(0,p.connect)(function(e){return e.im.modeSignature})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderTitle",value:function(){var e=this.props.title;return e?c.default.createElement("div",{className:"g-loader__label g-loader__label--md"},e):null}},{key:"renderBtn",value:function(){var e=this.props.btns;return e?c.default.createElement("div",{className:"g-loader-btn-block"},e.map(function(e,t){return c.default.createElement(h.BtnSecondary,{addClass:"g-btn-sm",key:t,onClick:e.btnDispatch},e.btnText)})):null}},{key:"render",value:function(){return c.default.createElement("div",{className:"g-loader g-loader--md"},c.default.createElement("div",{className:"g-loader__wrapper"},c.default.createElement("div",{className:"g-loader__layer"},c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__gap-patch"},c.default.createElement("div",{className:"g-loader__circle"})),c.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},c.default.createElement("div",{className:"g-loader__circle"})))),this.renderTitle(),this.renderBtn())}}]),t}(u.Component))||a).propTypes=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={atype:{NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10},ATTRIBS:{"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::tabindex":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0},eflags:{OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128},ELEMENTS:{a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:84,select:0,small:0,span:0,strike:0,strong:0,style:148,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,var:0},URIEFFECTS:{},LOADERTYPES:{}};e.exports&&(t=e.exports=a),t.URI=a},function(e,t,n){var a=function(){function e(e){var t=(""+e).match(c);return t?new d(u(t[1]),u(t[2]),u(t[3]),u(t[4]),u(t[5]),u(t[6]),u(t[7])):null}function t(e){return"string"==typeof e?encodeURIComponent(e):null}function n(e,t){return"string"==typeof e?encodeURI(e).replace(t,a):null}function a(e){var t=e.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(t>>4&15)+"0123456789ABCDEF".charAt(15&t)}var o=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),r=new RegExp(o),i=/^(?:\.\.\/)*(?:\.\.$)?/;function s(e){if(null===e)return null;for(var t,n=function(e){return e.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}(e),a=r;(t=n.replace(a,"$1"))!=n;n=t);return n}function l(e,t){var n=e.clone(),a=t.hasScheme();a?n.setRawScheme(t.getRawScheme()):a=t.hasCredentials(),a?n.setRawCredentials(t.getRawCredentials()):a=t.hasDomain(),a?n.setRawDomain(t.getRawDomain()):a=t.hasPort();var o=t.getRawPath(),r=s(o);if(a)n.setPort(t.getPort()),r=r&&r.replace(i,"");else if(a=!!o){if(47!==r.charCodeAt(0)){var l=s(n.getRawPath()||"").replace(i,""),d=l.lastIndexOf("/")+1;r=s((d?l.substring(0,d):"")+s(o)).replace(i,"")}}else(r=r&&r.replace(i,""))!==o&&n.setRawPath(r);return a?n.setRawPath(r):a=t.hasQuery(),a?n.setRawQuery(t.getRawQuery()):a=t.hasFragment(),a&&n.setRawFragment(t.getRawFragment()),n}function d(e,t,n,a,o,r,i){this.scheme_=e,this.credentials_=t,this.domain_=n,this.port_=a,this.path_=o,this.query_=r,this.fragment_=i,this.paramCache_=null}function u(e){return"string"==typeof e&&e.length>0?e:null}d.prototype.toString=function(){var e=[];return null!==this.scheme_&&e.push(this.scheme_,":"),null!==this.domain_&&(e.push("//"),null!==this.credentials_&&e.push(this.credentials_,"@"),e.push(this.domain_),null!==this.port_&&e.push(":",this.port_.toString())),null!==this.path_&&e.push(this.path_),null!==this.query_&&e.push("?",this.query_),null!==this.fragment_&&e.push("#",this.fragment_),e.join("")},d.prototype.clone=function(){return new d(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},d.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},d.prototype.getRawScheme=function(){return this.scheme_},d.prototype.setScheme=function(e){return this.scheme_=n(e,p),this},d.prototype.setRawScheme=function(e){return this.scheme_=e||null,this},d.prototype.hasScheme=function(){return null!==this.scheme_},d.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},d.prototype.getRawCredentials=function(){return this.credentials_},d.prototype.setCredentials=function(e){return this.credentials_=n(e,p),this},d.prototype.setRawCredentials=function(e){return this.credentials_=e||null,this},d.prototype.hasCredentials=function(){return null!==this.credentials_},d.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},d.prototype.getRawDomain=function(){return this.domain_},d.prototype.setDomain=function(e){return this.setRawDomain(e&&encodeURIComponent(e))},d.prototype.setRawDomain=function(e){return this.domain_=e||null,this.setRawPath(this.path_)},d.prototype.hasDomain=function(){return null!==this.domain_},d.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},d.prototype.setPort=function(e){if(e){if((e=Number(e))!==(65535&e))throw new Error("Bad port number "+e);this.port_=""+e}else this.port_=null;return this},d.prototype.hasPort=function(){return null!==this.port_},d.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},d.prototype.getRawPath=function(){return this.path_},d.prototype.setPath=function(e){return this.setRawPath(n(e,h))},d.prototype.setRawPath=function(e){return e?(e=String(e),this.path_=!this.domain_||/^\//.test(e)?e:"/"+e):this.path_=null,this},d.prototype.hasPath=function(){return null!==this.path_},d.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},d.prototype.getRawQuery=function(){return this.query_},d.prototype.setQuery=function(e){return this.paramCache_=null,this.query_=t(e),this},d.prototype.setRawQuery=function(e){return this.paramCache_=null,this.query_=e||null,this},d.prototype.hasQuery=function(){return null!==this.query_},d.prototype.setAllParameters=function(e){if("object"==typeof e&&!(e instanceof Array)&&(e instanceof Object||"[object Array]"!==Object.prototype.toString.call(e))){var t=[],n=-1;for(var a in e){"string"==typeof(s=e[a])&&(t[++n]=a,t[++n]=s)}e=t}this.paramCache_=null;for(var o=[],r="",i=0;i<e.length;){a=e[i++];var s=e[i++];o.push(r,encodeURIComponent(a.toString())),r="&",s&&o.push("=",encodeURIComponent(s.toString()))}return this.query_=o.join(""),this},d.prototype.checkParameterCache_=function(){if(!this.paramCache_){var e=this.query_;if(e){for(var t=e.split(/[&\?]/),n=[],a=-1,o=0;o<t.length;++o){var r=t[o].match(/^([^=]*)(?:=(.*))?$/);n[++a]=decodeURIComponent(r[1]).replace(/\+/g," "),n[++a]=decodeURIComponent(r[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},d.prototype.setParameterValues=function(e,t){"string"==typeof t&&(t=[t]),this.checkParameterCache_();for(var n=0,a=this.paramCache_,o=[],r=0;r<a.length;r+=2)e===a[r]?n<t.length&&o.push(e,t[n++]):o.push(a[r],a[r+1]);for(;n<t.length;)o.push(e,t[n++]);return this.setAllParameters(o),this},d.prototype.removeParameter=function(e){return this.setParameterValues(e,[])},d.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},d.prototype.getParameterValues=function(e){this.checkParameterCache_();for(var t=[],n=0;n<this.paramCache_.length;n+=2)e===this.paramCache_[n]&&t.push(this.paramCache_[n+1]);return t},d.prototype.getParameterMap=function(e){this.checkParameterCache_();for(var t={},n=0;n<this.paramCache_.length;n+=2){var a=this.paramCache_[n++],o=this.paramCache_[n++];a in t?t[a].push(o):t[a]=[o]}return t},d.prototype.getParameterValue=function(e){this.checkParameterCache_();for(var t=0;t<this.paramCache_.length;t+=2)if(e===this.paramCache_[t])return this.paramCache_[t+1];return null},d.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},d.prototype.getRawFragment=function(){return this.fragment_},d.prototype.setFragment=function(e){return this.fragment_=e?encodeURIComponent(e):null,this},d.prototype.setRawFragment=function(e){return this.fragment_=e||null,this},d.prototype.hasFragment=function(){return null!==this.fragment_};var c=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),p=/[#\/\?@]/g,h=/[\#\?]/g;return d.parse=e,d.create=function(e,o,r,i,s,l,u){var c=new d(n(e,p),n(o,p),t(r),i>0?i.toString():null,n(s,h),null,t(u));return l&&("string"==typeof l?c.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,a)):c.setAllParameters(l)),c},d.resolve=l,d.collapse_dots=s,d.utils={mimeTypeOf:function(t){var n=e(t);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(t,n){return t?l(e(t),e(n)).toString():""+n}},d}();e.exports&&(t=e.exports=a),t.URI=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.actionTypes=(0,r.default)({INIT_CUSTOM:null,OPEN:null,CLOSE:null,OPEN_DIALOG:null,CLOSE_DIALOG:null,HANDLE_CHANGE:null,ADD_CONTACT:null,CLICK_ROW:null,DOUBLE_CLICK_ROW:null,CLICK_ROW_SHIFT:null,CLICK_ROW_CTRL:null,SELECT_ALL:null,UNSELECT_ALL:null,SELECT_CONTACT_UP:null,SELECT_CONTACT_DOWN:null,DELETE_SELECTED:null,EDIT_CONTACT:null,SORT_CONTACTS:null,SEARCH_CONTACTS:null,SEARCH_UPDATE:null,CLEAR_SEARCH:null,TOGGLE_IMPORT:null,TOGGLE_EDIT:null,SET_CONTACTS:null,SET_INITIAL_MODE:null,DELETE_ALL:null,SET_LOCAL:null,SET_FIELDS_MASK:null,SET_FILTER_MASK:null,SET_FILTER_TOGGLE:null,SET_ACTIVE_ROWS:null,APPLY_CONTACTS_MASK:null,IMPORT_EMAIL:null,SET_SINGLE_PAGE:null,ON_RESIZE_WINDOW:null,HANDLE_ERROR_MODAL:null,HANDLE_ALERT_MODAL:null,WS_CONNECTION_ON:null,HANDLE_SAVING_CONTACT:null,HANDLE_SEARCH_FIELD:null,HANDLE_BLOCK_POINT:null,SET_WS_CONNECT:null,SET_WINDOW_TYPE:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookCounter=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=n(635);function h(e){return e&&e.__esModule?e:{default:e}}t.AddressBookCounter=(0,c.connect)(function(e){return{contactsNumber:e.ab.contacts.length,singlePage:e.ab.singlePage,viewType:e.ab.viewType}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return this.props.contactsNumber>0?this.props.singlePage?this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):u.default.createElement("div",{className:"myac-counter-header__contact-counter"},u.default.createElement("span",{className:"dab-header-title__label"},this.props.contactsNumber," contacts")):u.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):null}}]),t}(d.Component))||a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=p(n(0)),d=p(n(7)),u=p(n(10)),c=p(n(644));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,n(454).safe)(e.document),f=h.$("documentElement").ensure({clientHeight:900,scrollHeight:900,offsetHeight:900}).$(),m=h.$("body").ensure({scrollHeight:900,offsetHeight:900}).$(),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return Math.max(e.clientHeight,e.scrollHeight,e.offsetHeight,t.scrollHeight,t.offsetHeight)},g=t.Select=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.show=function(){n.setState({show:!n.state.show,openAbove:n.shouldThisFlip()})},n.showLabelText=function(){if(n.state.selected)return n.props.labelText&&n.props.labelText.length>0?[l.default.createElement("div",{key:"prefix",className:"g-select__label-prefix"},n.props.labelText),l.default.createElement("div",{key:"content",className:"g-select__label-content"},n.state.selected.name||n.state.selected)]:n.state.selected.name||n.state.selected},n.shouldThisFlip=function(){var e=n.props.heightList||175,t=n.gSelect.getBoundingClientRect(),a=Math.ceil(t.top+(window.scrollY||window.pageYOffset)+t.height);if(n.props.selectWrap){var o=n.props.selectWrap.getBoundingClientRect();return n.winHeight=Math.max(n.props.selectWrap.offsetHeight,n.props.selectWrap.clientHeight),Math.ceil(t.top-o.top+t.height)+e>=n.winHeight}return a+e>=n.winHeight},n.select=function(e){n.props.handleSelect(e),n.setState({selected:e})},n._onWindowClick=function(e){if(n.isActive()){var t=n.gSelect;t&&!t.contains(e.target)&&n.hide()}},n.storeListWrapRef=function(e){n.listWrap=e},n.storeGSelectRef=function(e){n.gSelect=e},n.state={show:!1,selected:n.props.selected||n.props.list[0],openAbove:!1},n.winHeight=E(),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.selected&&this.setState({selected:e.selected})}},{key:"isActive",value:function(){return"boolean"==typeof this.props.show?this.props.show:this.state.show}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"renderList",value:function(e){var t=this;return e.map(function(e,n){var a=e===t.state.selected?"g-select__option g-select__option--active":"g-select__option";return t.state.show?e.name?l.default.createElement("div",{className:a,key:n,value:e.value,onClick:function(){return t.select(e)}},e.name):l.default.createElement("div",{className:a,key:n,onClick:function(){return t.select(e)}},e):null})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this._onWindowClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._onWindowClick)}},{key:"render",value:function(){var e=(0,u.default)({"g-select--open":this.state.show,"g-select--above":this.state.openAbove});return l.default.createElement("div",{ref:this.storeGSelectRef,className:(0,c.default)({name:"g-select",modifiers:["type","size"]},this.props,e,this.props.className),onClick:this.show},l.default.createElement("div",{className:"g-select__label"},this.showLabelText()),l.default.createElement("div",{className:"g-select__list-wrap",ref:this.storeListWrapRef},l.default.createElement("div",{className:"g-select__list"},this.renderList(this.props.list))))}}]),t}(l.default.Component);g.defaultProps={handleSelect:function(){},list:[]},g.propTypes={list:d.default.array.isRequired,handleSelect:d.default.func,labelText:d.default.string}}).call(this,n(222))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrorGenerator=o;var a=n(745);function o(e,t,n,o,r){var i=void 0,s=void 0,l=void 0;switch(t){case a.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT;break;default:i=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT}n(i,s,l,o,r)}t.default={handleErrorGenerator:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deviceProps=t.ws=t.im=void 0;var a,o=n(1093),r=n(1103),i=n(1104),s=(a=i)&&a.__esModule?a:{default:a};t.im=o.im,t.ws=r.ws,t.deviceProps=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_SIGNATURE_FONT_SIZE=24;t.default={JELLYCA:{original:"Jellyka CuttyCupcakes",custom:"font-JellykaCuttyCupcakes"},PETRA:{original:"PetraScriptEF",custom:"font-PetraScriptEF"},SIGNATURE:{original:"signature",custom:"font-signature"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorManager=t.imageSignature=void 0;var a=r(n(1105)),o=r(n(1126));function r(e){return e&&e.__esModule?e:{default:e}}t.imageSignature=a.default,t.editorManager=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=n(0),d=h(l),u=h(n(7)),c=h(n(856)),p=n(649);function h(e){return e&&e.__esModule?e:{default:e}}var f="jpeg",m={handleImage:u.default.func.isRequired,imageDimensions:u.default.object,handleError:u.default.func,config:u.default.object,staticUrl:u.default.string,isImageMirrored:u.default.bool,jsOnly:u.default.bool,crop:u.default.bool},E=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleError=function(t){(0,e.props.handleError)(t.message),e.setState({isReady:!1})},e.handleLive=function(){var t=e.props.crop;e.setState({isReady:!0,showRect:t})},e.handleImage=function(t){var n=e.props,a=n.handleImage,o=n.isImageMirrored,r=n.imageDimensions,i={dataUri:t,width:r.width,height:r.height,orientation:null,isImageMirrored:o};(0,p.resizeToFit)(i).then(function(e){var t=e.resizedImage,n=e.height,o=e.width;a(t,n,o,f)})},e.storeContainerRef=function(t){e.container=t},e.storeFrameRef=function(t){e.frame=t},e.webcam=null,e.state={isReady:!1,showRect:!1},"undefined"!=typeof window&&(e.webcam=c.default),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.webcam&&this.initWebcam()}},{key:"componentWillUnmount",value:function(){this.webcam&&(this.webcam.set({flip_horiz:!1}),this.webcam.reset(!0),this.webcam.off("error",this.handleError),this.webcam.off("live",this.handleLive))}},{key:"componentDidUpdate",value:function(e){var t=this.props.deviceId;e.deviceId!==t&&(this.webcam.reset(),this.initWebcam())}},{key:"initWebcam",value:function(){var e=this.props,t=e.config,n=e.isImageMirrored,a=e.jsOnly,o=e.staticUrl,r=e.deviceId,i=t.webcamjsSWFLocation,s=t.webcamSnapQuality,l=t.webcamElementId,d=this.container.getBoundingClientRect(),u={jpeg_quality:s,flip_horiz:n,enable_flash:!a,width:d.width,height:d.height,deviceId:r};this.webcam.set(u),this.webcam.setSWFLocation(o+i),this.webcam.attach("#"+l),this.webcam.on("error",this.handleError),this.webcam.on("live",this.handleLive)}},{key:"takeSnapshot",value:function(){var e=this.props.crop;this.state.isReady&&(e?(this.webcam.set({crop_width:this.frame.clientWidth,crop_height:this.frame.clientHeight}),this.webcam.snap(this.handleImage),this.webcam.set({crop_width:null,crop_height:null})):this.webcam.snap(this.handleImage))}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.crop,a={zIndex:this.state.showRect?1:-1};return d.default.createElement("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:2}},d.default.createElement("div",{ref:this.storeContainerRef,id:t.webcamElementId,className:"crop-body-flash"}),n?d.default.createElement("div",{className:"crop-field",style:a},d.default.createElement("div",{className:"crop-field__rectangle",ref:this.storeFrameRef})):null)}}]),t}(l.Component);t.default=E,E.propTypes=m,E.defaultProps={imageDimensions:{width:640,height:480},handleError:function(){return{}},staticUrl:"https://static.pdffiller.com",isImageMirrored:!1,jsOnly:!1,crop:!1,config:{webcamjsSWFLocation:"/swf/webcam.swf",webcamElementId:"webcam",webcamSnapQuality:100}}},function(e,t,a){"use strict";var o,r=s(a(109)),i=s(a(449));function s(e){return e&&e.__esModule?e:{default:e}}!function(s){var l;function d(){var e=Error.apply(this,arguments);e.name=this.name="FlashError",this.stack=e.stack,this.message=e.message}function u(){var e=Error.apply(this,arguments);e.name=this.name="WebcamError",this.stack=e.stack,this.message=e.message}var c=function(){};c.prototype=Error.prototype,d.prototype=new c,u.prototype=new c;var p={version:"1.0.25",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!s.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:d,WebcamError:u},hooks:{},init:function(){var e=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new i.default(function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)})}}:null,s.URL=s.URL||s.webkitURL||s.mozURL||s.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!s.URL,this.iOS&&(this.userMedia=null),navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&s.addEventListener("beforeunload",function(t){e.reset()})},exifOrientation:function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var a=2;a<e.byteLength;){if(255!=t.getUint8(a))return console.log("Not a valid marker at offset "+a+", found: "+t.getUint8(a)),0;if(225==t.getUint8(a+1)){a+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(t.getUint8(a+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;a+=6;var r=null;if(18761==t.getUint16(a))r=!1;else{if(19789!=t.getUint16(a))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;r=!0}if(42!=t.getUint16(a+2,!r))return console.log("Not valid TIFF data! (no 0x002A)"),0;var i=t.getUint32(a+4,!r);if(i<8)return console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(a+4,!r)),0;for(var s=a+i,l=t.getUint16(s,!r),d=0;d<l;d++){var u=s+12*d+2;if(274==t.getUint16(u,!r)){var c=t.getUint16(u+2,!r),p=t.getUint32(u+4,!r);if(3!=c&&1!=p)return console.log("Invalid EXIF orientation value type ("+c+") or count ("+p+")"),0;var h=t.getUint16(u+8,!r);return h<1||h>8?(console.log("Invalid EXIF orientation value ("+h+")"),0):h}}}else a+=2+t.getUint16(a+2)}return 0},fixOrientation:function(e,t,n){var a=new Image;a.addEventListener("load",function(e){var o=document.createElement("canvas"),r=o.getContext("2d");switch(t<5?(o.width=a.width,o.height=a.height):(o.width=a.height,o.height=a.width),t){case 2:r.transform(-1,0,0,1,a.width,0);break;case 3:r.transform(-1,0,0,-1,a.width,a.height);break;case 4:r.transform(1,0,0,-1,0,a.height);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a.height,0);break;case 7:r.transform(0,-1,-1,0,a.height,a.width);break;case 8:r.transform(0,-1,1,0,0,a.width)}r.drawImage(a,0,0),n.src=o.toDataURL()},!1),a.src=e},attach:function(e){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)return this.dispatch("error",new u("Could not locate DOM element to attach to."));this.container=e,e.innerHTML="";var t=document.createElement("div");if(e.appendChild(t),this.peg=t,this.params.width||(this.params.width=e.offsetWidth),this.params.height||(this.params.height=e.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new u("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===l?this.userMedia:l,this.params.force_flash&&(l=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var o=document.createElement("video");o.setAttribute("autoplay","autoplay"),o.style.width=this.params.dest_width+"px",o.style.height=this.params.dest_height+"px",1==n&&1==a||(e.style.overflow="hidden",o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+n+") scaleY("+a+")",o.style.mozTransform="scaleX("+n+") scaleY("+a+")",o.style.msTransform="scaleX("+n+") scaleY("+a+")",o.style.oTransform="scaleX("+n+") scaleY("+a+")",o.style.transform="scaleX("+n+") scaleY("+a+")");var r="";this.params.deviceId&&(r={deviceId:this.params.deviceId?{exact:this.params.deviceId}:void 0}),e.appendChild(o),this.video=o;var i=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||r||{width:{ideal:this.params.dest_width},height:{ideal:this.params.dest_height}}}).then(function(e){o.onloadedmetadata=function(t){i.stream=e,i.loaded=!0,i.live=!0,i.dispatch("load"),i.dispatch("live"),i.flip()},"srcObject"in o?o.srcObject=e:o.src=s.URL.createObjectURL(e)}).catch(function(t){i.params.enable_flash&&i.detectFlash()?setTimeout(function(){i.params.force_flash=1,i.attach(e)},1):i.dispatch("error",t)})}else if(this.iOS){(m=document.createElement("div")).id=this.container.id+"-ios_div",m.className="webcamjs-ios-placeholder",m.style.width=this.params.width+"px",m.style.height=this.params.height+"px",m.style.textAlign="center",m.style.display="table-cell",m.style.verticalAlign="middle",m.style.backgroundRepeat="no-repeat",m.style.backgroundSize="contain",m.style.backgroundPosition="center";var d=document.createElement("span");d.className="webcamjs-ios-text",d.innerHTML=this.params.iosPlaceholderText,m.appendChild(d);var c=document.createElement("img");c.id=this.container.id+"-ios_img",c.style.width=this.params.dest_width+"px",c.style.height=this.params.dest_height+"px",c.style.display="none",m.appendChild(c);var h=document.createElement("input");h.id=this.container.id+"-ios_input",h.setAttribute("type","file"),h.setAttribute("accept","image/*"),h.setAttribute("capture","camera");i=this;var f=this.params;h.addEventListener("change",function(e){if(e.target.files.length>0&&0==e.target.files[0].type.indexOf("image/")){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.addEventListener("load",function(e){var t=document.createElement("canvas");t.width=f.dest_width,t.height=f.dest_height;var a=t.getContext("2d");ratio=Math.min(n.width/f.dest_width,n.height/f.dest_height);var o=f.dest_width*ratio,r=f.dest_height*ratio,i=(n.width-o)/2,s=(n.height-r)/2;a.drawImage(n,i,s,o,r,0,0,f.dest_width,f.dest_height);var l=t.toDataURL();c.src=l,m.style.backgroundImage="url('"+l+"')"},!1);var a=new FileReader;a.addEventListener("load",function(e){var a=i.exifOrientation(e.target.result);a>1?i.fixOrientation(t,a,n):n.src=t},!1);var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},o.send()}},!1),h.style.display="none",e.appendChild(h),m.addEventListener("click",function(e){f.user_callback?i.snap(f.user_callback,f.user_canvas):(h.style.display="block",h.focus(),h.click(),h.style.display="none")},!1),e.appendChild(m),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){var m;s.Webcam=p,(m=document.createElement("div")).innerHTML=this.getSWFHTML(),e.appendChild(m)}else this.dispatch("error",new u(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var E=Math.floor(this.params.crop_width*n),g=Math.floor(this.params.crop_height*a);e.style.width=E+"px",e.style.height=g+"px",e.style.overflow="hidden",e.scrollLeft=Math.floor(this.params.width/2-E/2),e.scrollTop=Math.floor(this.params.height/2-g/2)}else e.style.width=this.params.width+"px",e.style.height=this.params.height+"px"},reset:function(e){var t=this;if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var n=this.stream.getVideoTracks();n&&n[0]&&n[0].stop&&n[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(!0!==this.userMedia&&this.loaded&&!this.iOS){var a=this.getMovie();a&&a._releaseCamera&&a._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1,e&&setTimeout(function(){return t.reset()},300)},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var e=arguments[0].replace(/^on/i,"").toLowerCase(),t=Array.prototype.slice.call(arguments,1);if(this.hooks[e]&&this.hooks[e].length){for(var n=0,a=this.hooks[e].length;n<a;n++){var o=this.hooks[e][n];"function"==typeof o?o.apply(this,t):"object"==(void 0===o?"undefined":(0,r.default)(o))&&2==o.length?o[0][o[1]].apply(o[0],t):s[o]&&s[o].apply(s,t)}return!0}if("error"==e){var i="";i=t[0]instanceof d||t[0]instanceof u?t[0].message:"Could not access webcam: "+t[0].name+": "+t[0].message+" "+t[0].toString(),alert("Webcam.js Error: "+i)}return!1},setSWFLocation:function(e){this.set("swfURL",e)},detectFlash:function(){var e=s,t=navigator,n=!1;if(void 0!==t.plugins&&"object"===(0,r.default)(t.plugins["Shockwave Flash"]))t.plugins["Shockwave Flash"].description&&void 0!==t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&t.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0);else if(void 0!==e.ActiveXObject)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)a.GetVariable("$version")&&(n=!0)}catch(e){}return n},getSWFHTML:function(){var e="",t=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new d("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new d("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!t){for(var n="",a=document.getElementsByTagName("script"),o=0,r=a.length;o<r;o++){var i=a[o].getAttribute("src");i&&i.match(/\/webcam(\.min)?\.js/)&&(n=i.replace(/\/webcam(\.min)?\.js.*$/,""),o=r)}t=n?n+"/webcam.swf":"webcam.swf"}s.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var l="";for(var u in this.params)l&&(l+="&"),l+=u+"="+escape(this.params[u]);return e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+l+'"/><embed id="webcam_movie_embed" src="'+t+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+l+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new d("Flash Movie is not loaded yet"));var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error",new d("Cannot locate Flash movie in DOM")),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;this.unflip();var o=t.crop_width||t.dest_width,r=t.crop_height||t.dest_height,i=document.createElement("canvas");i.width=o,i.height=r;var s=i.getContext("2d");this.preview_canvas=i,this.preview_context=s,1==n&&1==a||(i.style.webkitTransformOrigin="0px 0px",i.style.mozTransformOrigin="0px 0px",i.style.msTransformOrigin="0px 0px",i.style.oTransformOrigin="0px 0px",i.style.transformOrigin="0px 0px",i.style.webkitTransform="scaleX("+n+") scaleY("+a+")",i.style.mozTransform="scaleX("+n+") scaleY("+a+")",i.style.msTransform="scaleX("+n+") scaleY("+a+")",i.style.oTransform="scaleX("+n+") scaleY("+a+")",i.style.transform="scaleX("+n+") scaleY("+a+")"),this.snap(function(){i.style.position="relative",i.style.left=e.container.scrollLeft+"px",i.style.top=e.container.scrollTop+"px",e.container.insertBefore(i,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},i)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,a=this.preview_canvas,o=this.preview_context;t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o),this.params.unfreeze_snap&&this.unfreeze()},snap:function(e,t){e||(e=this.params.user_callback),t||(t=this.params.user_canvas);var n=this.params,a=n.dest_width,o=n.dest_height;if(this.video&&(a=this.video.offsetHeight/this.video.videoHeight*this.video.videoWidth,o=this.video.offsetHeight),!this.loaded)return this.dispatch("error",new u("Webcam is not loaded yet"));if(!e)return this.dispatch("error",new u("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(e,t),null;var r=document.createElement("canvas");r.width=a,r.height=o;var i=r.getContext("2d");this.params.flip_horiz&&(i.translate(a,0),i.scale(-1,1));var s=function(){if(this.src&&this.width&&this.height&&i.drawImage(this,0,0,a,o),n.crop_width&&n.crop_height){var s=document.createElement("canvas");s.width=n.crop_width,s.height=n.crop_height;var l=s.getContext("2d");l.drawImage(r,Math.floor(a/2-n.crop_width/2),Math.floor(o/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),i=l,r=s}t&&t.getContext("2d").drawImage(r,0,0);e(t?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,i)};if(this.userMedia)i.drawImage(this.video,0,0,a,o),s.call(this);else if(this.iOS){var l=document.getElementById(this.container.id+"-ios_div"),d=document.getElementById(this.container.id+"-ios_img"),c=document.getElementById(this.container.id+"-ios_input");iFunc=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){s.call(d),d.removeEventListener("load",iFunc),l.style.backgroundImage="none",d.removeAttribute("src"),c.value=null}),c.value?iFunc(null):(d.addEventListener("load",iFunc),c.style.display="block",c.focus(),c.click(),c.style.display="none")}else{var p=this.getMovie()._snap();(d=new Image).onload=s.bind(d),d.src="data:image/"+this.params.image_format+";base64,"+p}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new d(t))}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,a,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=o.length,i=t?Math.ceil((3*r+1>>2)/t)*t:3*r+1>>2,s=new Uint8Array(i),l=0,d=0,u=0;u<r;u++)if(a=3&u,l|=this.b64ToUint6(o.charCodeAt(u))<<18-6*a,3===a||r-u==1){for(n=0;n<3&&d<i;n++,d++)s[d]=l>>>(16>>>n&24)&255;l=0}return s},upload:function(e,t,n){var a=this.params.upload_name||"webcam",o="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";o=RegExp.$1;var r=e.replace(/^data\:image\/\w+\;base64\,/,""),i=new XMLHttpRequest;i.open("POST",t,!0),i.upload&&i.upload.addEventListener&&i.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;p.dispatch("uploadProgress",t,e)}},!1);var s=this;i.onload=function(){n&&n.apply(s,[i.status,i.responseText,i.statusText]),p.dispatch("uploadComplete",i.status,i.responseText,i.statusText)};var l=new Blob([this.base64DecToArr(r)],{type:"image/"+o}),d=new FormData;d.append(a,l,a+"."+o.replace(/e/,"")),i.send(d)}};p.init(),void 0===(o=function(){return p}.call(t,a,t,e))||(e.exports=o)}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkWebcamAvailability=void 0;var a,o=n(858),r=(a=o)&&a.__esModule?a:{default:a};var i=function(e){navigator.mediaDevices.enumerateDevices().then(function(t){var n=t.some(function(e){return"videoinput"===e.kind});e(n)}).catch(function(){return e(!1)})};t.checkWebcamAvailability=function(e,t){if(e)return(-1===navigator.appVersion.indexOf("Safari")||-1!==navigator.appVersion.indexOf("Chrome"))&&"undefined"!=typeof window&&r.default.userMedia&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&document.createElement("video").canPlayType?i(t):t(!1);if(r.default.userMedia&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)return i(t);var n=!1;try{n=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){n=void 0!==navigator.mimeTypes["application/x-shockwave-flash"]}t(n)}},function(e,t,a){var o;!function(r){var i;function s(){var e=Error.apply(this,arguments);e.name=this.name="FlashError",this.stack=e.stack,this.message=e.message}function l(){var e=Error.apply(this,arguments);e.name=this.name="WebcamError",this.stack=e.stack,this.message=e.message}var d=function(){};d.prototype=Error.prototype,s.prototype=new d,l.prototype=new d;var u={version:"1.0.25",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!r.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:s,WebcamError:l},hooks:{},init:function(){var e=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new Promise(function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)})}}:null,r.URL=r.URL||r.webkitURL||r.mozURL||r.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!r.URL,this.iOS&&(this.userMedia=null),navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&r.addEventListener("beforeunload",function(t){e.reset()})},exifOrientation:function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var a=2;a<e.byteLength;){if(255!=t.getUint8(a))return console.log("Not a valid marker at offset "+a+", found: "+t.getUint8(a)),0;if(225==t.getUint8(a+1)){a+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(t.getUint8(a+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;a+=6;var r=null;if(18761==t.getUint16(a))r=!1;else{if(19789!=t.getUint16(a))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;r=!0}if(42!=t.getUint16(a+2,!r))return console.log("Not valid TIFF data! (no 0x002A)"),0;var i=t.getUint32(a+4,!r);if(i<8)return console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(a+4,!r)),0;for(var s=a+i,l=t.getUint16(s,!r),d=0;d<l;d++){var u=s+12*d+2;if(274==t.getUint16(u,!r)){var c=t.getUint16(u+2,!r),p=t.getUint32(u+4,!r);if(3!=c&&1!=p)return console.log("Invalid EXIF orientation value type ("+c+") or count ("+p+")"),0;var h=t.getUint16(u+8,!r);return h<1||h>8?(console.log("Invalid EXIF orientation value ("+h+")"),0):h}}}else a+=2+t.getUint16(a+2)}return 0},fixOrientation:function(e,t,n){var a=new Image;a.addEventListener("load",function(e){var o=document.createElement("canvas"),r=o.getContext("2d");switch(t<5?(o.width=a.width,o.height=a.height):(o.width=a.height,o.height=a.width),t){case 2:r.transform(-1,0,0,1,a.width,0);break;case 3:r.transform(-1,0,0,-1,a.width,a.height);break;case 4:r.transform(1,0,0,-1,0,a.height);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,a.height,0);break;case 7:r.transform(0,-1,-1,0,a.height,a.width);break;case 8:r.transform(0,-1,1,0,0,a.width)}r.drawImage(a,0,0),n.src=o.toDataURL()},!1),a.src=e},attach:function(e){if("string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e)return this.dispatch("error",new l("Could not locate DOM element to attach to."));this.container=e,e.innerHTML="";var t=document.createElement("div");if(e.appendChild(t),this.peg=t,this.params.width||(this.params.width=e.offsetWidth),this.params.height||(this.params.height=e.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new l("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===i?this.userMedia:i,this.params.force_flash&&(i=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;if(this.userMedia){var o=document.createElement("video");o.setAttribute("autoplay","autoplay"),o.style.width=this.params.dest_width+"px",o.style.height=this.params.dest_height+"px",1==n&&1==a||(e.style.overflow="hidden",o.style.webkitTransformOrigin="0px 0px",o.style.mozTransformOrigin="0px 0px",o.style.msTransformOrigin="0px 0px",o.style.oTransformOrigin="0px 0px",o.style.transformOrigin="0px 0px",o.style.webkitTransform="scaleX("+n+") scaleY("+a+")",o.style.mozTransform="scaleX("+n+") scaleY("+a+")",o.style.msTransform="scaleX("+n+") scaleY("+a+")",o.style.oTransform="scaleX("+n+") scaleY("+a+")",o.style.transform="scaleX("+n+") scaleY("+a+")"),e.appendChild(o),this.video=o;var s=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(e){o.onloadedmetadata=function(t){s.stream=e,s.loaded=!0,s.live=!0,s.dispatch("load"),s.dispatch("live"),s.flip()},"srcObject"in o?o.srcObject=e:o.src=r.URL.createObjectURL(e)}).catch(function(t){s.params.enable_flash&&s.detectFlash()?setTimeout(function(){s.params.force_flash=1,s.attach(e)},1):s.dispatch("error",t)})}else if(this.iOS){(f=document.createElement("div")).id=this.container.id+"-ios_div",f.className="webcamjs-ios-placeholder",f.style.width=this.params.width+"px",f.style.height=this.params.height+"px",f.style.textAlign="center",f.style.display="table-cell",f.style.verticalAlign="middle",f.style.backgroundRepeat="no-repeat",f.style.backgroundSize="contain",f.style.backgroundPosition="center";var d=document.createElement("span");d.className="webcamjs-ios-text",d.innerHTML=this.params.iosPlaceholderText,f.appendChild(d);var c=document.createElement("img");c.id=this.container.id+"-ios_img",c.style.width=this.params.dest_width+"px",c.style.height=this.params.dest_height+"px",c.style.display="none",f.appendChild(c);var p=document.createElement("input");p.id=this.container.id+"-ios_input",p.setAttribute("type","file"),p.setAttribute("accept","image/*"),p.setAttribute("capture","camera");s=this;var h=this.params;p.addEventListener("change",function(e){if(e.target.files.length>0&&0==e.target.files[0].type.indexOf("image/")){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.addEventListener("load",function(e){var t=document.createElement("canvas");t.width=h.dest_width,t.height=h.dest_height;var a=t.getContext("2d");ratio=Math.min(n.width/h.dest_width,n.height/h.dest_height);var o=h.dest_width*ratio,r=h.dest_height*ratio,i=(n.width-o)/2,s=(n.height-r)/2;a.drawImage(n,i,s,o,r,0,0,h.dest_width,h.dest_height);var l=t.toDataURL();c.src=l,f.style.backgroundImage="url('"+l+"')"},!1);var a=new FileReader;a.addEventListener("load",function(e){var a=s.exifOrientation(e.target.result);a>1?s.fixOrientation(t,a,n):n.src=t},!1);var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||a.readAsArrayBuffer(this.response)},o.send()}},!1),p.style.display="none",e.appendChild(p),f.addEventListener("click",function(e){h.user_callback?s.snap(h.user_callback,h.user_canvas):(p.style.display="block",p.focus(),p.click(),p.style.display="none")},!1),e.appendChild(f),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){var f;r.Webcam=u,(f=document.createElement("div")).innerHTML=this.getSWFHTML(),e.appendChild(f)}else this.dispatch("error",new l(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var m=Math.floor(this.params.crop_width*n),E=Math.floor(this.params.crop_height*a);e.style.width=m+"px",e.style.height=E+"px",e.style.overflow="hidden",e.scrollLeft=Math.floor(this.params.width/2-m/2),e.scrollTop=Math.floor(this.params.height/2-E/2)}else e.style.width=this.params.width+"px",e.style.height=this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var e=this.stream.getVideoTracks();e&&e[0]&&e[0].stop&&e[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(!0!==this.userMedia&&this.loaded&&!this.iOS){var t=this.getMovie();t&&t._releaseCamera&&t._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var e,t=arguments[0].replace(/^on/i,"").toLowerCase(),n=Array.prototype.slice.call(arguments,1);if(this.hooks[t]&&this.hooks[t].length){for(var a=0,o=this.hooks[t].length;a<o;a++){var i=this.hooks[t][a];"function"==typeof i?i.apply(this,n):"object"==typeof i&&2==i.length?i[0][i[1]].apply(i[0],n):r[i]&&r[i].apply(r,n)}return!0}return"error"==t&&(e=n[0]instanceof s||n[0]instanceof l?n[0].message:"Could not access webcam: "+n[0].name+": "+n[0].message+" "+n[0].toString(),alert("Webcam.js Error: "+e)),!1},setSWFLocation:function(e){this.set("swfURL",e)},detectFlash:function(){var e=r,t=navigator,n=!1;if(void 0!==t.plugins&&"object"==typeof t.plugins["Shockwave Flash"])t.plugins["Shockwave Flash"].description&&void 0!==t.mimeTypes&&t.mimeTypes["application/x-shockwave-flash"]&&t.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=!0);else if(void 0!==e.ActiveXObject)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)a.GetVariable("$version")&&(n=!0)}catch(e){}return n},getSWFHTML:function(){var e="",t=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new s("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new s("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!t){for(var n="",a=document.getElementsByTagName("script"),o=0,i=a.length;o<i;o++){var l=a[o].getAttribute("src");l&&l.match(/\/webcam(\.min)?\.js/)&&(n=l.replace(/\/webcam(\.min)?\.js.*$/,""),o=i)}t=n?n+"/webcam.swf":"webcam.swf"}r.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var d="";for(var u in this.params)d&&(d+="&"),d+=u+"="+escape(this.params[u]);return e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+t+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><embed id="webcam_movie_embed" src="'+t+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new s("Flash Movie is not loaded yet"));var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error",new s("Cannot locate Flash movie in DOM")),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,a=this.params.height/this.params.dest_height;this.unflip();var o=t.crop_width||t.dest_width,r=t.crop_height||t.dest_height,i=document.createElement("canvas");i.width=o,i.height=r;var s=i.getContext("2d");this.preview_canvas=i,this.preview_context=s,1==n&&1==a||(i.style.webkitTransformOrigin="0px 0px",i.style.mozTransformOrigin="0px 0px",i.style.msTransformOrigin="0px 0px",i.style.oTransformOrigin="0px 0px",i.style.transformOrigin="0px 0px",i.style.webkitTransform="scaleX("+n+") scaleY("+a+")",i.style.mozTransform="scaleX("+n+") scaleY("+a+")",i.style.msTransform="scaleX("+n+") scaleY("+a+")",i.style.oTransform="scaleX("+n+") scaleY("+a+")",i.style.transform="scaleX("+n+") scaleY("+a+")"),this.snap(function(){i.style.position="relative",i.style.left=e.container.scrollLeft+"px",i.style.top=e.container.scrollTop+"px",e.container.insertBefore(i,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},i)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,a=this.preview_canvas,o=this.preview_context;t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o),this.params.unfreeze_snap&&this.unfreeze()},snap:function(e,t){e||(e=this.params.user_callback),t||(t=this.params.user_canvas);var n=this.params;if(!this.loaded)return this.dispatch("error",new l("Webcam is not loaded yet"));if(!e)return this.dispatch("error",new l("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(e,t),null;var a=document.createElement("canvas");a.width=this.params.dest_width,a.height=this.params.dest_height;var o=a.getContext("2d");this.params.flip_horiz&&(o.translate(n.dest_width,0),o.scale(-1,1));var r=function(){if(this.src&&this.width&&this.height&&o.drawImage(this,0,0,n.dest_width,n.dest_height),n.crop_width&&n.crop_height){var r=document.createElement("canvas");r.width=n.crop_width,r.height=n.crop_height;var i=r.getContext("2d");i.drawImage(a,Math.floor(n.dest_width/2-n.crop_width/2),Math.floor(n.dest_height/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),o=i,a=r}t&&t.getContext("2d").drawImage(a,0,0);e(t?null:a.toDataURL("image/"+n.image_format,n.jpeg_quality/100),a,o)};if(this.userMedia)o.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),r();else if(this.iOS){var i=document.getElementById(this.container.id+"-ios_div"),s=document.getElementById(this.container.id+"-ios_img"),d=document.getElementById(this.container.id+"-ios_input");iFunc=function(e){r.call(s),s.removeEventListener("load",iFunc),i.style.backgroundImage="none",s.removeAttribute("src"),d.value=null},d.value?iFunc(null):(s.addEventListener("load",iFunc),d.style.display="block",d.focus(),d.click(),d.style.display="none")}else{var u=this.getMovie()._snap();(s=new Image).onload=r,s.src="data:image/"+this.params.image_format+";base64,"+u}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,t){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new s(t))}},b64ToUint6:function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,a,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),r=o.length,i=t?Math.ceil((3*r+1>>2)/t)*t:3*r+1>>2,s=new Uint8Array(i),l=0,d=0,u=0;u<r;u++)if(a=3&u,l|=this.b64ToUint6(o.charCodeAt(u))<<18-6*a,3===a||r-u==1){for(n=0;n<3&&d<i;n++,d++)s[d]=l>>>(16>>>n&24)&255;l=0}return s},upload:function(e,t,n){var a=this.params.upload_name||"webcam",o="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";o=RegExp.$1;var r=e.replace(/^data\:image\/\w+\;base64\,/,""),i=new XMLHttpRequest;i.open("POST",t,!0),i.upload&&i.upload.addEventListener&&i.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;u.dispatch("uploadProgress",t,e)}},!1);var s=this;i.onload=function(){n&&n.apply(s,[i.status,i.responseText,i.statusText]),u.dispatch("uploadComplete",i.status,i.responseText,i.statusText)};var l=new Blob([this.base64DecToArr(r)],{type:"image/"+o}),d=new FormData;d.append(a,l,a+"."+o.replace(/e/,"")),i.send(d)}};u.init(),void 0===(o=function(){return u}.call(t,a,t,e))||(e.exports=o)}(window)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){"object"===(void 0===e?"undefined":a(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e),(t=(0,o.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split(".");if(t.require_tld){var r=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var s,l=0;l<n.length;l++){if(s=n[l],t.allow_underscores&&(s=s.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(s))return!1;if(/[\uff01-\uff5e]/.test(s))return!1;if("-"===s[0]||"-"===s[s.length-1])return!1}return!0};var a=r(n(630)),o=r(n(717));function r(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default},function(e,t,n){"use strict";var a=n(998),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),r=Object.prototype.toString,i=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),d=function(e,t,n,a){var o;t in e&&("function"!=typeof(o=a)||"[object Function]"!==r.call(o)||!a())||(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},u=function(e,t){var n=arguments.length>2?arguments[2]:{},r=a(t);o&&(r=i.call(r,Object.getOwnPropertySymbols(t)));for(var s=0;s<r.length;s+=1)d(e,r[s],t[r[s]],n[r[s]])};u.supportsDescriptors=!!l,e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=p(n(7)),d=n(0),u=p(d),c=n(755);function p(e){return e&&e.__esModule?e:{default:e}}var h={src:l.default.string,showImage:l.default.bool},f=t.ImageItem=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={loading:!0},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.showImage,t=this.state.loading;e&&t&&!this.img&&this.createLoader()}},{key:"componentWillReceiveProps",value:function(e){this.props.src!==e.src&&this.setState({loading:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showImage,n=e.src,a=this.state.loading;t&&a&&n&&!this.img&&this.createLoader()}},{key:"componentWillUnmount",value:function(){this.destroyLoader()}},{key:"createLoader",value:function(){var e=this.props.src;this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad.bind(this),this.img.onerror=this.handleError.bind(this),this.img.src=e}},{key:"destroyLoader",value:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)}},{key:"handleLoad",value:function(){this.destroyLoader(),this.setState({loading:!1})}},{key:"handleError",value:function(){this.destroyLoader()}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.showImage,a=this.state.loading;return n&&!a&&t?u.default.createElement("img",{src:t,alt:""}):u.default.createElement(c.Loader,null)}}]),t}(d.Component);f.propTypes=h,f.defaultProps={showImage:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBook=void 0;var a,o=D(n(268)),r=D(n(328)),i=D(n(109)),s=D(n(51)),l=D(n(41)),d=D(n(43)),u=D(n(52)),c=D(n(53)),p=n(0),h=D(p),f=D(n(7)),m=n(635),E=n(1065),g=n(745),_=n(130),v=n(647),S=n(1066),y=n(1074),T=n(72),O=n(638),b=D(n(4)),C=n(851);D(C);function D(e){return e&&e.__esModule?e:{default:e}}var M=D(n(969)).default.controllerActions,A=M.setDefaultController,w=M.setCurrentController,R=M.cancelCurrentController;(t.AddressBook=(0,T.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,loaded:e.ab.loaded,fieldsMask:e.modal.options.AddressBook?e.modal.options.AddressBook.fieldsMask:null,fieldsMaskInternal:e.ab.fieldsMaskInternal,filterMaskReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterMask:null,filterMaskInternalOr:e.ab.filterMaskInternalOr,filterMaskInternalAnd:e.ab.filterMaskInternalAnd,filterToggleReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterToggle:null,filterToggleInternal:e.ab.filterToggleInternal,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,activeRowsReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.activeRows:null,activeRows:e.ab.activeRows,controllerFromOptions:e.modal.options.AddressBook&&e.modal.options.AddressBook.controller,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null,mainButtonName:e.modal.options.AddressBook?e.modal.options.AddressBook.mainButtonName:null,searchBy:e.ab.searchBy,importContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.importContacts:null,inputHandlerFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.inputHandler:null,controllerConstantsFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.controllerConstants:null,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null}},function(e){return{actions:(0,_.bindActionCreators)({setLocal:O.setLocal,setFieldsMask:O.setFieldsMask,setFilterMask:O.setFilterMask,setFilterToggle:O.setFilterToggle,setActiveRows:O.setActiveRows,setDefaultController:A,setCurrentController:w,closeModal:O.closeModal,setContacts:O.setContacts,deleteSelectedContacts:O.deleteSelectedContacts,deleteAllContacts:O.deleteAllContacts,importEmail:O.importEmail,setSinglePage:O.setSinglePage,clearSearch:O.clearSearch,setInitialMode:O.setInitialMode,cancelCurrentController:R,initCustom:O.initCustom,selectAllContacts:O.selectAllContacts,handleErrorModal:O.handleErrorModal,handleAlertModal:O.handleAlertModal,wsConnectionOn:O.wsConnectionOn,setWindowType:O.setWindowType},e)}})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.LOCAL=E.LOCAL,("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(n.LOCAL=(0,r.default)({},E.LOCAL,window.allConstants)),n.modalId=t.getModalId(),n.configureFilterToggle=n.configureFilterToggle.bind(n),n.configureFilterMask=n.configureFilterMask.bind(n),n.makeArray=n.makeArray.bind(n),n.arrayStringify=n.arrayStringify.bind(n),n.handleError=n.handleError.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleAlertEscape=n.handleAlertEscape.bind(n),n.handleAlertEnter=n.handleAlertEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.handleGetContacts=n.handleGetContacts.bind(n),n.getContactsCb=n.getContactsCb.bind(n),n.handleDeleteContact=n.handleDeleteContact.bind(n),n.deleteContactCb=n.deleteContactCb.bind(n),n.handleDeleteAllContacts=n.handleDeleteAllContacts.bind(n),n.deleteAllContactsCb=n.deleteAllContactsCb.bind(n),n.handleImportGmail=n.handleImportGmail.bind(n),n.handleImportYahoo=n.handleImportYahoo.bind(n),n.handleImportHotmail=n.handleImportHotmail.bind(n),n.handleImportOutlook=n.handleImportOutlook.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.controller=n.props.controller||n.props.controllerFromOptions||null,n.inputHandler=n.props.inputHandler||n.props.inputHandlerFromOptions||null,n.controllerConstants=n.props.controllerConstants||n.props.controllerConstantsFromOptions||null,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"configureFilterToggle",value:function(){return(0,b.default)(this.props.filterToggleReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.filterToggleReceived:this.props.filterToggleInternal}},{key:"configureFilterMask",value:function(e){var t=e===m.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR?this.props.filterMaskInternalOr:this.props.filterMaskInternalAnd,n=void 0;if((0,b.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0){var a=(n=[].concat((0,o.default)(this.props.filterMaskReceived))).indexOf(m.SYSTEM.ADDRESSBOOK_FIELD_NAME);-1!==a&&n.splice(a,1)}return(0,b.default)(this.props.filterMaskReceived,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?n:t}},{key:"makeArray",value:function(e){return Array.isArray(e)?e:[e]}},{key:"arrayStringify",value:function(e){return e.map(function(e){return e.toString()})}},{key:"componentWillMount",value:function(){var e=this.props.actions,t=e.setLocal,n=e.setFieldsMask,a=e.setFilterMask,o=e.setFilterToggle,s=e.setActiveRows,l=e.setDefaultController,d=e.setCurrentController,u=e.setSinglePage,c=e.initCustom,p=e.wsConnectionOn;if(this.apiRest=this.props.apiRest?this.props.apiRest:c(this.props.config.api.baseUrl,this.props.config.api.appKey,this.props.userCredentials),!this.props.loaded){t(this.LOCAL),this.props.singlePage&&u(),n((0,b.default)(this.props.fieldsMask,m.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.fieldsMask:this.props.fieldsMaskInternal);var h=((0,i.default)((0,b.default)(this.props,"activeRowsReceived",null))===m.SYSTEM.ADDRESSBOOK_NUMBER?this.props.activeRowsReceived.toString():this.props.activeRowsReceived)||this.props.activeRows;h=this.makeArray(h),s(h=this.arrayStringify(h));var f=this.configureFilterToggle();o(f),a(this.configureFilterMask(f)),this.controller&&(l(this.controller),d(this.controller))}var E={dialogModalName:this.props.dialogModalName,openModal:this.props.openModal,closeModal:this.props.closeModal,ADDRESSBOOK_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_IMPORTED_CONTACTS,ADDRESSBOOK_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS,handleGetContacts:this.handleGetContacts};this.props.config&&(E=(0,r.default)({},E,{connect:{host:this.props.config.ws.host,port:this.props.config.ws.port},baseUrl:this.props.config.system.baseUrl}),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&(E=(0,r.default)({},E,{connect:(0,r.default)({},E.connect,{userId:window.user.userId})}))),p(E)}},{key:"handleError",value:function(e,t,n,a,o){this.props.openModal(this.props.errorModalName,{title:e,content:t,btnConfirmText:n,btnConfirmCallback:a||null,onCloseModal:o||null}),(0,this.props.actions.handleErrorModal)(!0)}},{key:"onErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"getContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.setInitialMode,r=a.setContacts,i=a.handleErrorModal;e?((0,C.handleErrorGenerator)(this.LOCAL,g.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS,this.handleError,function(){n.offErrorController(),o(),i(!1),(0,v.windowFocus)()},function(){n.offErrorController(),o(),i(!1),(0,v.windowFocus)()}),this.onErrorController()):r(t)}},{key:"handleGetContacts",value:function(){this.apiRest.handleGetContacts(this.getContactsCb)}},{key:"deleteContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteSelectedContacts,r=a.handleErrorModal;e?((0,C.handleErrorGenerator)(this.LOCAL,g.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT,this.handleError,function(){n.offErrorController(),r(!1),(0,v.windowFocus)()},function(){n.offErrorController(),r(!1),(0,v.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteContact",value:function(e){this.apiRest.handleDeleteContact(e,this.deleteContactCb)}},{key:"deleteAllContactsCb",value:function(e,t){var n=this,a=this.props.actions,o=a.deleteAllContacts,r=a.handleErrorModal;e?((0,C.handleErrorGenerator)(this.LOCAL,g.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS,this.handleError,function(){n.offErrorController(),r(!1),(0,v.windowFocus)()},function(){n.offErrorController(),r(!1),(0,v.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleDeleteAllContacts",value:function(){this.apiRest.handleDeleteAllContacts(this.deleteAllContactsCb)}},{key:"handleImportGmail",value:function(){var e=this.apiRest.handleImportGmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportYahoo",value:function(){var e=this.apiRest.handleImportYahoo();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportHotmail",value:function(){var e=this.apiRest.handleImportHotmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportOutlook",value:function(){var e=this.apiRest.handleImportOutlook();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleEnter",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"handleEscape",value:function(){if(this.props.singlePage){var e=this.props.actions.clearSearch;""!==this.props.searchBy&&e()}else{(0,this.props.actions.closeModal)(),this.props.handleCloseModal(),this.props.cancelDummyController&&this.props.cancelDummyController()}}},{key:"handleCtrlA",value:function(){var e=this.props,t=e.selectMax,n=e.actions;t||n.selectAllContacts()}},{key:"handleDelete",value:function(){this.openApproveModal()}},{key:"deleteContact",value:function(){this.props.activeRows.length!==this.props.contactsBackup.length?this.handleDeleteContact(this.props.activeRows):this.handleDeleteAllContacts()}},{key:"handleAlertEscape",value:function(){this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,v.windowFocus)()}},{key:"handleAlertEnter",value:function(){this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,v.windowFocus)()}},{key:"onAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"offAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,v.windowFocus)()},btnCancelText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,v.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"handleEscapeErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,v.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,v.windowFocus)()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loaded,n=e.singlePage,a=e.actions.setWindowType;a(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.addEventListener("resize",a),t||this.handleGetContacts(),this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<=m.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT&&(n||(0,v.addMobileClass)())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.singlePage,n=e.actions,a=n.cancelCurrentController,o=n.setWindowType;this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),t||(0,v.removeMobileClass)(),("undefined"==typeof window?"undefined":(0,i.default)(window))!==m.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.removeEventListener("resize",o),this.controller&&a(this.controller)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){if((0,b.default)(this.props,"contacts",null))return this.props.singlePage?h.default.createElement(y.SinglePage,{alertModal:this.props.alertModal,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest}):h.default.createElement(S.ModalWindow,{importContacts:this.props.importContacts,handleCloseModal:this.props.handleCloseModal,mainButtonName:this.props.mainButtonName,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest,isApp:this.props.isApp})}}],[{key:"getModalId",value:function(){return m.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK}}]),t}(p.Component))||a).propTypes={handleCloseModal:f.default.func,config:f.default.object,openModal:f.default.func,closeModal:f.default.func,errorModalName:f.default.string,alertModalName:f.default.string,controller:f.default.object,singlePage:f.default.bool,alertModal:f.default.bool,inputHandler:f.default.object,controllerConstants:f.default.object,isApp:f.default.bool}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSearch=void 0;var a,o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=n(0),u=E(d),c=n(72),p=n(130),h=E(n(10)),f=n(638),m=n(635);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,local:e.ab.local,searchFieldShow:e.ab.searchFieldShow}},function(e){return{actions:(0,p.bindActionCreators)({searchContacts:f.searchContacts,clearSearch:f.clearSearch,handleSearchField:f.handleSearchField},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n.handleSearch=n.handleSearch.bind(n),n.renderClearSearch=n.renderClearSearch.bind(n),n.handleSearchInput=n.handleSearchInput.bind(n),n.renderSearchField=n.renderSearchField.bind(n),n.activateSearchInput=n.activateSearchInput.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(){this.activateSearchInput()}},{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"handleSearch",value:function(e){var t=this.props.actions,n=t.searchContacts,a=t.clearSearch;""!==e.target.value?n(e.target.value,this.props.fieldsMask):a()}},{key:"handleSearchInput",value:function(){(0,this.props.actions.handleSearchField)(),this.props.searchFieldShow&&this.handleClearSearch()}},{key:"activateSearchInput",value:function(){this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD]&&this.refs[m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD].focus()}},{key:"renderSearchField",value:function(){if(this.props.searchFieldShow)return u.default.createElement("div",{className:" g-form-group g-form-group-search"},this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",ref:m.SYSTEM.ADDRESSBOOK_SEARCH_FIELD,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}},{key:"renderClearSearch",value:function(){return""!==this.props.searchBy?u.default.createElement("div",{className:"clean-search",onClick:this.handleClearSearch}):null}},{key:"render",value:function(){var e=(0,h.default)("myac-counter-header__search-input-icon-wrap",{"is-active":this.props.searchFieldShow});return this.props.singlePage?u.default.createElement("div",{className:"myac-counter-header__search-input"},this.renderSearchField(),u.default.createElement("div",{className:e,onClick:this.handleSearchInput},u.default.createElement("div",{className:"myac-counter-header__search-input-icon"}))):u.default.createElement("div",{className:"dab-header__search g-form-group g-form-group-search"},u.default.createElement("label",{forHtml:"dab-search",className:"i i-search dab-header__search-icon"}),this.renderClearSearch(),u.default.createElement("input",{id:"dab-search",placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSort=void 0;var a,o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=n(0),u=E(d),c=n(72),p=n(850),h=n(130),f=n(635),m=n(638);function E(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSort=(0,c.connect)(function(e){return{contacts:e.ab.contacts,sortIsOpen:e.ab.sortIsOpen,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,local:e.ab.local,fieldsMask:e.ab.fieldsMask}},function(e){return{actions:(0,h.bindActionCreators)({dropdownToggle:m.dropdownToggle,sortContacts:m.sortContacts},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleSort=n.handleSort.bind(n),n.showName=n.showName.bind(n),n.showDirection=n.showDirection.bind(n),n.getSort=n.getSort.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleSort",value:function(e,t){var n=this.props.actions.sortContacts;this.props.sortBy===e&&this.props.sortDirection===t||n(e,t)}},{key:"showName",value:function(e){return{name:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,email:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,phone:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,fax:this.props.local.ADDRESSBOOK_UPPERCASE_FAX}[e]}},{key:"showDirection",value:function(){return this.props.sortBy===f.SYSTEM.ADDRESSBOOK_FIELD_NAME?this.props.sortDirection:null}},{key:"getSort",value:function(e,t){var n=this;return-1!==this.props.fieldsMask.indexOf(e)?u.default.createElement("div",{onClick:function(){n.handleSort(e,t)}},this.showName(e)):null}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-header__sort enable"},u.default.createElement("div",{className:"g-form-group"},u.default.createElement(p.Select,{type:"bare",size:"sm",labelText:this.props.local.ADDRESSBOOK_SORT_BY,list:[u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_AZ),u.default.createElement("div",{onClick:function(){e.handleSort(f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_ZA),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(f.SYSTEM.ADDRESSBOOK_FIELD_FAX,f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)]})))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookInitialContent=void 0;var a,o=v(n(51)),r=v(n(41)),i=v(n(43)),s=v(n(52)),l=v(n(53)),d=n(0),u=v(d),c=n(72),p=n(130),h=n(635),f=n(638),m=n(954),E=n(955),g=n(956),_=n(957);function v(e){return e&&e.__esModule?e:{default:e}}t.AddressBookInitialContent=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ab-import"},u.default.createElement("div",{className:"ab-import__inner"},u.default.createElement("div",{className:"ab-import-table"},u.default.createElement("div",{className:"ab-import-cell ab-import-cell--after-or"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--blue"},u.default.createElement("i",{className:"i i-import-contacts"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_BRING_TOGETHER),u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(m.GmailContactsImport,{handleImportGmail:this.props.handleImportGmail}),u.default.createElement(E.YahooContactsImport,{handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(g.HotmailContactsImport,{handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(_.OutlookContactsImport,{handleImportOutlook:this.props.handleImportOutlook}))),u.default.createElement("div",{className:"ab-import-cell"},u.default.createElement("div",{className:"ab-import__icon ab-import__icon--green"},u.default.createElement("i",{className:"i i-add-users"})),u.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_CREATE_A_NEW_CONTACT),u.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON," ",this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT),u.default.createElement("a",{href:"#",className:"g-btn g-btn-primary ab-import__add-contact-btn",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},this.props.local.ADDRESSBOOK_ADD_CONTACT)))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GmailContactsImport=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=n(647);function h(e){return e&&e.__esModule?e:{default:e}}t.GmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportGmail():setTimeout(this.props.handleImportGmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item gmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_GMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YahooContactsImport=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=n(647);function h(e){return e&&e.__esModule?e:{default:e}}t.YahooContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportYahoo():setTimeout(this.props.handleImportYahoo,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item yahoo",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_YAHOO_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HotmailContactsImport=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=n(647);function h(e){return e&&e.__esModule?e:{default:e}}t.HotmailContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportHotmail():setTimeout(this.props.handleImportHotmail,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item hotmail",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_HOTMAIL_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlookContactsImport=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=n(647);function h(e){return e&&e.__esModule?e:{default:e}}t.OutlookContactsImport=(0,c.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,p.detectSafari)()?this.props.handleImportOutlook():setTimeout(this.props.handleImportOutlook,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"ab-import-list-item outlook",onClick:this.importFromMail},u.default.createElement("div",{className:"ab-import-list-item__img"}),u.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_OUTLOOK_ITEM))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookListContent=void 0;var a,o=S(n(109)),r=S(n(51)),i=S(n(41)),s=S(n(43)),l=S(n(52)),d=S(n(53)),u=n(0),c=S(u),p=n(72),h=n(635),f=S(n(4)),m=n(130),E=n(647),g=S(n(1070)),_=S(n(10)),v=n(638);function S(e){return e&&e.__esModule?e:{default:e}}t.AddressBookListContent=(0,p.connect)(function(e){return{contacts:e.ab.contacts,errorModalOpen:e.ab.errorModalOpen,alertModalOpen:e.ab.alertModalOpen,searchDialogOpen:e.ab.searchDialogOpen,activeRows:e.ab.activeRows,addEditContact:e.ab.addEditContact,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null,fieldsMask:e.ab.fieldsMask,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,singlePage:e.ab.singlePage,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,blockPoint:e.ab.blockPoint,viewType:e.ab.viewType}},function(e){return{actions:(0,m.bindActionCreators)({clickOnContact:v.clickOnContact,doubleClickOnContact:v.doubleClickOnContact,closeModal:v.closeModal,selectContactUp:v.selectContactUp,selectContactDown:v.selectContactDown,openDialog:v.openDialog},e)}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.getEmail=n.getEmail.bind(n),n.getPhone=n.getPhone.bind(n),n.getFax=n.getFax.bind(n),n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.clearSelection=n.clearSelection.bind(n),n.handleUp=n.handleUp.bind(n),n.handleDown=n.handleDown.bind(n),n.scrollIntoActiveRow=n.scrollIntoActiveRow.bind(n),n.addArrowsController=n.addArrowsController.bind(n),n.removeArrowsController=n.removeArrowsController.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"scrollIntoActiveRow",value:function(e){var t=this.refs.contactsList.querySelector(".ab-item--active");t&&t.scrollIntoView(e)}},{key:"addArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"removeArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"componentDidMount",value:function(){this.scrollIntoActiveRow(),this.addArrowsController()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addEditContact,a=t.errorModalOpen,o=t.alertModalOpen,r=t.searchDialogOpen,i=t.activeRows,s=t.contacts,l=t.sortDirection,d=t.scrollToTop;if((!e.addEditContact.open&&n.open||!e.errorModalOpen&&a||!e.alertModalOpen&&o||!e.searchDialogOpen&&r)&&this.removeArrowsController(),e.addEditContact.open&&!n.open){if(1===i.length)if(1!==e.activeRows.length)this.scrollIntoActiveRow();else if(i[0]!==e.activeRows[0])this.scrollIntoActiveRow();else{var u=(0,E.findContactById)(s,i[0]);if(u){var c=(0,E.findContactById)(e.contacts,i[0]);h.SYSTEM.ADDRESSBOOK_EDITABLE_FIELDS.filter(function(e){return u[e]!==c[e]}).length>0&&this.scrollIntoActiveRow()}}this.addArrowsController()}(e.errorModalOpen&&!a||e.alertModalOpen&&!o||e.searchDialogOpen&&!r)&&this.addArrowsController(),this.props.sortBy===e.sortBy&&l===e.sortDirection||!d||this.props.scrollToTop()}},{key:"componentWillUnmount",value:function(){this.removeArrowsController()}},{key:"handleUp",value:function(){var e=this.props.actions.selectContactUp;("undefined"==typeof window?"undefined":(0,o.default)(window))!==h.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<h.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?(this.scrollIntoActiveRow(!1),e()):(e(),this.scrollIntoActiveRow(!0))}},{key:"handleDown",value:function(){(0,this.props.actions.selectContactDown)(),this.scrollIntoActiveRow(!1)}},{key:"getEmail",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}},{key:"getPhone",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}},{key:"getFax",value:function(e){if(-1!==this.props.fieldsMask.indexOf(h.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,f.default)(e[h.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(this.props.viewType===h.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}},{key:"handleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);(0,this.props.actions.clickOnContact)(t,n,a,this.props.selectMax)}}},{key:"handleDoubleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),a=Boolean(e.shiftKey);if(!n&&!a){var o=this.props.actions,r=o.doubleClickOnContact,i=o.openDialog,s=o.closeModal;if(r(t),this.props.singlePage)i(h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT);else if(this.props.sendContacts){var l=this.props.contacts.find(function(e){return t===e.id});s(),this.props.sendContacts([l]),this.props.handleCloseModal()}}}}},{key:"clearSelection",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeRows,a=t.fieldsMask,o=t.viewType,r=t.contacts.map(function(t){var r=(0,_.default)("ab-item",{"ab-item--active":n.indexOf(t.id)>=0});return c.default.createElement(g.default,{contactClass:r,key:t.id,handleClick:e.handleClick,handleDoubleClick:e.handleDoubleClick,onMouseDown:e.clearSelection,contact:t,fieldsMask:a,viewType:o})});return c.default.createElement("div",{className:"ab-contacts-list",ref:"contactsList"},r)}}]),t}(u.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_modal=void 0;var a,o=O(n(268)),r=O(n(328)),i=O(n(51)),s=O(n(41)),l=O(n(43)),d=O(n(52)),u=O(n(53)),c=n(0),p=O(c),h=n(130),f=n(72),m=O(n(10)),E=n(635),g=n(745),_=n(638),v=n(851),S=(O(v),O(n(960))),y=n(647),T=n(961);function O(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_modal=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,singlePage:e.ab.singlePage,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:_.handleChange,closeDialog:_.closeDialog,addContact:_.addContact,editContact:_.editContact,handleErrorModal:_.handleErrorModal,handleSavingContact:_.handleSavingContact,handleBlockPoint:_.handleBlockPoint},e)}})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n.fieldsMobile=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE],n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.props.singlePage&&(this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)))}},{key:"componentWillUnmount",value:function(){this.props.singlePage&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"componentDidUpdate",value:function(e){this.props.singlePage||(!e.addEditContact.open&&this.props.addEditContact.open?(window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus():this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete))):e.addEditContact.open&&!this.props.addEditContact.open&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)))}},{key:"onErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,y.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,y.windowFocus)()}},{key:"handleCtrlA",value:function(){-1===this.fields.indexOf(document.activeElement.name)&&-1===this.fieldsMobile.indexOf(document.activeElement.name)||document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if((-1!==this.fields.indexOf(t.name)||-1!==this.fieldsMobile.indexOf(t.name))&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}-1!==t.name.indexOf(E.SYSTEM.ADDRESSBOOK_FIELD_MOBILE_PREFIX)?this.handleInputChange(e,this.fields[this.fieldsMobile.indexOf(t.name)]):this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);e.shiftKey?n>0&&this.refs[this.fieldsMobile[n-1]].focus():n<this.fieldsMobile.length-1&&this.refs[this.fieldsMobile[n+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}else if(this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);n<this.fieldsMobile.length-1?this.refs[this.fieldsMobile[n+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,y.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,T.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,y.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("add-contact-wrap",{open:this.props.addEditContact.open&&window.innerWidth>=E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),n=(0,m.default)("ab-dialog-wrap ab-dialog-wrap--add-contact",{open:this.props.addEditContact.open&&window.innerWidth<E.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),a=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.name}),o=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.email}),r=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.phone}),i=(0,m.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.fax}),s=(0,m.default)("g-btn g-btn-primary g-btn-sm",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),l=S.default.defaultInputMaxLength;return p.default.createElement("div",{className:"add-edit-contact-dlg"},p.default.createElement("div",{className:t},p.default.createElement("div",{className:"add-contact"},p.default.createElement("div",{className:"add-contact__title"},this.renderTitle()),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:l})),p.default.createElement("div",{className:"g-form-list"},p.default.createElement("div",{className:"g-form-group g-form-group--email"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:l})),p.default.createElement("div",{className:"g-form-group g-form-group--tel"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group g-form-group--fax"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"add-contact__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))),p.default.createElement("div",{className:n},p.default.createElement("div",{className:"ab-dialog"},p.default.createElement("div",{className:"ab-dialog__content"},p.default.createElement("div",{className:"ab-dialog__title"},this.props.local.ADDRESSBOOK_ADD_EDIT_CONTACT),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:a,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:l})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:o,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:l})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"g-form-group"},p.default.createElement("label",{className:"input-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"ab-dialog__footer"},p.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultInputMaxLength:80}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;t.validateEmail=function(e){return a.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalSearch=void 0;var a,o=g(n(51)),r=g(n(41)),i=g(n(43)),s=g(n(52)),l=g(n(53)),d=n(0),u=g(d),c=n(72),p=g(n(10)),h=n(647),f=n(130),m=n(635),E=n(638);function g(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalSearch=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,searchDialogOpen:e.ab.searchDialogOpen,local:e.ab.local}},function(e){return{actions:(0,f.bindActionCreators)({closeDialog:E.closeDialog,searchContacts:E.searchContacts,clearSearch:E.clearSearch,searchUpdate:E.searchUpdate},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.searchDialogOpen&&this.props.searchDialogOpen?(this.refs[m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape))):e.searchDialogOpen&&!this.props.searchDialogOpen&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"handleEnter",value:function(){this.handleSearch()}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault();var t=this.props.actions,n=t.closeDialog,a=t.clearSearch;n(),a(),(0,h.windowFocus)()}},{key:"handleChange",value:function(e){var t=this.props.actions,n=t.searchUpdate,a=t.clearSearch;""!==e.target.value?n(e.target.value):a()}},{key:"handleSearch",value:function(){var e=this.props.actions,t=e.searchContacts,n=e.closeDialog;""!==this.props.searchBy&&t(this.props.searchBy,this.props.fieldsMask),n(),(0,h.windowFocus)()}},{key:"render",value:function(){var e=this,t=(0,p.default)("ab-dialog-wrap ab-dialog-wrap--search",{open:this.props.searchDialogOpen});return u.default.createElement("div",{className:t},u.default.createElement("div",{className:"ab-dialog"},u.default.createElement("div",{className:"ab-dialog__content"},u.default.createElement("div",{className:"ab-dialog__title"},"Search Contacts"),u.default.createElement("div",{className:"g-form-group"},u.default.createElement("label",{className:"input-icon i i-search"}),u.default.createElement("input",{ref:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,name:m.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,id:"ab-dialog-search",className:"form-input",value:this.props.searchBy,onChange:function(t){e.handleChange(t)}}))),u.default.createElement("div",{className:"ab-dialog__footer"},u.default.createElement("button",{type:"button","data-ab-dialog":"btn-search-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},"Cancel"),u.default.createElement("button",{type:"button",className:"g-btn g-btn-primary g-btn-sm",onClick:this.handleSearch},"Search"))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnAdd=void 0;var a,o=m(n(51)),r=m(n(41)),i=m(n(43)),s=m(n(52)),l=m(n(53)),d=n(0),u=m(d),c=n(72),p=n(130),h=n(635),f=n(638);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnAdd=(0,c.connect)(function(e){return{addEditContact:e.ab.addEditContact,local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--add",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},u.default.createElement("i",{className:"i i-add"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_ADD))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnEdit=void 0;var a,o=v(n(51)),r=v(n(41)),i=v(n(43)),s=v(n(52)),l=v(n(53)),d=n(0),u=v(d),c=n(72),p=n(746),h=v(p),f=n(130),m=v(n(10)),E=n(635),g=n(647),_=n(638);function v(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnEdit=(0,c.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,activeRows:e.ab.activeRows,editIsOpen:e.ab.editIsOpen,local:e.ab.local,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,singlePage:e.ab.singlePage,viewType:e.ab.viewType,alertModalOpen:e.ab.alertModalOpen}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:_.dropdownToggle,selectAllContacts:_.selectAllContacts,unselectAllContacts:_.unselectAllContacts,deleteSelectedContacts:_.deleteSelectedContacts,openDialog:_.openDialog,handleAlertModal:_.handleAlertModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleAll=n.handleAll.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleEnter=n.handleEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.handleOpenDialog=n.handleOpenDialog.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.renderSelectAll=n.renderSelectAll.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT,e)}},{key:"handleAll",value:function(){var e=this.props.actions,t=e.selectAllContacts,n=e.unselectAllContacts;this.props.contacts.length===this.props.activeRows.length?n():t()}},{key:"handleOpenDialog",value:function(e,t){this.refs.dropdown.hide(),e.preventDefault();var n=this.props.actions.openDialog;1===this.props.activeRows.length&&n(t)}},{key:"deleteContact",value:function(){this.refs.dropdown.hide(),this.props.activeRows.length!==this.props.contactsBackup.length?this.props.handleDeleteContact(this.props.activeRows):this.props.handleDeleteAllContacts()}},{key:"handleEscape",value:function(){this.props.alertModalOpen&&(this.refs.dropdown.hide(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,g.windowFocus)())}},{key:"handleEnter",value:function(){this.props.alertModalOpen&&(this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,g.windowFocus)())}},{key:"onAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"offAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,g.windowFocus)()},btnCancelText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.refs.dropdown.hide(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,g.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"renderSelectAll",value:function(e){if(this.props.singlePage)return u.default.createElement("div",{className:e,onClick:this.handleAll},this.props.local.ADDRESSBOOK_SELECT_ALL_ITEM)}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,open:this.props.editIsOpen}),n=(0,m.default)("g-ibtn i-delete",{disabled:!this.props.activeRows.length>0}),a=(0,m.default)("g-ibtn i-edit",{disabled:1!==this.props.activeRows.length}),o=(0,m.default)("g-ibtn i-select-all",{disabled:this.props.mode.type===E.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-settings"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_EDIT)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:a,onClick:function(t){e.handleOpenDialog(t,E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT)}},this.props.local.ADDRESSBOOK_EDIT_CONTACT),u.default.createElement("div",{className:n,onClick:this.openApproveModal},this.props.local.ADDRESSBOOK_DELETE_CONTACT),this.renderSelectAll(o))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),r=l(o),i=l(n(7)),s=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),l=(0,s.default)("dropdown__trigger",n);return r.default.createElement("a",a({className:l},i,{href:"#dropdown-trigger"}),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.defaultProps={className:""},u.propTypes={children:i.default.node,className:i.default.string},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnImport=void 0;var a,o=T(n(51)),r=T(n(41)),i=T(n(43)),s=T(n(52)),l=T(n(53)),d=n(0),u=T(d),c=n(72),p=n(746),h=T(p),f=n(130),m=T(n(10)),E=n(635),g=n(638),_=n(954),v=n(955),S=n(956),y=n(957);function T(e){return e&&e.__esModule?e:{default:e}}t.AddressBookBtnImport=(0,c.connect)(function(e){return{importIsOpen:e.ab.importIsOpen,local:e.ab.local,singlePage:e.ab.singlePage,loaded:e.ab.loaded,viewType:e.ab.viewType}},function(e){return{actions:(0,f.bindActionCreators)({dropdownToggle:g.dropdownToggle},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleDropdownClose=n.handleDropdownClose.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidUpdate",value:function(e){!e.loaded&&this.props.loaded&&this.props.importContacts&&this.refs.dropdown.show()}},{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(E.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT,e)}},{key:"handleDropdownClose",value:function(){this.refs.dropdown.hide()}},{key:"render",value:function(){var e=this,t=(0,m.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===E.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===E.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,"g-dropdown-wrap--import":!0,open:this.props.importIsOpen});return u.default.createElement(h.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(E.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},u.default.createElement(p.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-import-contacts"}),u.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_IMPORT_CONTACTS)),u.default.createElement(p.DropdownContent,{className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"ab-import-list"},u.default.createElement(_.GmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportGmail:this.props.handleImportGmail}),u.default.createElement(v.YahooContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportYahoo:this.props.handleImportYahoo}),u.default.createElement(S.HotmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportHotmail:this.props.handleImportHotmail}),u.default.createElement(y.OutlookContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportOutlook:this.props.handleImportOutlook})))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookMobileSearchBtn=void 0;var a,o=m(n(51)),r=m(n(41)),i=m(n(43)),s=m(n(52)),l=m(n(53)),d=n(0),u=m(d),c=n(72),p=n(130),h=n(635),f=n(638);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookMobileSearchBtn=(0,c.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,p.bindActionCreators)({openDialog:f.openDialog,clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault();var n=this.props.actions,a=n.openDialog;(0,n.clearSearch)(),a(t)}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--search",onClick:function(t){e.handleOpenDialog(t,h.SYSTEM.ADDRESSBOOK_MODAL_SEARCH)}},u.default.createElement("i",{className:"i i-search"}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=n(0),u=h(d),c=n(72),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}t.Loader=(0,c.connect)(function(e){return{loaded:e.ab.loaded,loaderMessage:e.ab.local.ADDRESSBOOK_LOADING_CONTACTS}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderMessage=n.renderMessage.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderMessage",value:function(e){if(e)return u.default.createElement("div",{className:"g-loader__label"},e)}},{key:"render",value:function(){var e=(0,p.default)("",{"":!this.props.loaded});return u.default.createElement("div",{className:e},u.default.createElement("div",{className:"g-loader"},u.default.createElement("div",{className:"g-loader__wrapper"},u.default.createElement("div",{className:"g-loader__layer"},u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__gap-patch"},u.default.createElement("div",{className:"g-loader__circle"})),u.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},u.default.createElement("div",{className:"g-loader__circle"})))),u.default.createElement("div",{className:"g-loader__label"},this.renderMessage(this.props.loaderMessage))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(1078)),o=l(n(358)),r=n(458),i=n(715),s=l(n(747));function l(e){return e&&e.__esModule?e:{default:e}}t.default={controllers:a.default,controllerMiddleware:o.default,inputHandler:r.inputHandler,SYSTEM:i.SYSTEM,controllerActions:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(41),r=(a=o)&&a.__esModule?a:{default:a},i=n(715);t.default=function e(){var t=this;(0,r.default)(this,e),this.on=function(){document.body.addEventListener(i.SYSTEM.EVENT_KEY_DOWN,t.handleKeyDown),document.body.addEventListener(i.SYSTEM.EVENT_KEY_UP,t.handleKeyUp),document.addEventListener(i.SYSTEM.EVENT_CLICK,t.handleClick),document.addEventListener(i.SYSTEM.EVENT_TOUCH_START,t.handleTouchStart),document.addEventListener(i.SYSTEM.EVENT_SCROLL,t.handleScroll)},this.off=function(){document.body.removeEventListener(i.SYSTEM.EVENT_KEY_DOWN,t.handleKeyDown),document.body.removeEventListener(i.SYSTEM.EVENT_KEY_UP,t.handleKeyUp),document.removeEventListener(i.SYSTEM.EVENT_CLICK,t.handleClick),document.removeEventListener(i.SYSTEM.EVENT_TOUCH_START,t.handleTouchStart),document.removeEventListener(i.SYSTEM.EVENT_SCROLL,t.handleScroll)},this.handleKeyDown=function(e){},this.handleKeyUp=function(e){},this.handleClick=function(e){},this.handleTouchStart=function(e){},this.handleScroll=function(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(268)),o=u(n(223)),r=u(n(328));t.ab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.SET_LOCAL:return(0,r.default)({},e,{local:t.local});case i.actionTypes.SET_SINGLE_PAGE:return(0,r.default)({},e,{singlePage:!0});case i.actionTypes.SET_FIELDS_MASK:return(0,r.default)({},e,{fieldsMask:t.fieldsMask});case i.actionTypes.SET_ACTIVE_ROWS:return(0,r.default)({},e,{activeRows:t.activeRows,activeRowsBackup:t.activeRows});case i.actionTypes.SET_FILTER_MASK:return(0,r.default)({},e,{filterMask:t.filterMask});case i.actionTypes.SET_FILTER_TOGGLE:return(0,r.default)({},e,{filterToggle:t.filterToggle});case i.actionTypes.SET_CONTACTS:return(0,r.default)({},e,{contacts:t.contacts.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:t.contacts,loaded:!0,mode:(0,r.default)({},e.mode,{type:t.contacts.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.SET_INITIAL_MODE:return(0,r.default)({},e,{loaded:!0,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case i.actionTypes.CLOSE:return(0,r.default)({},e,{contacts:e.contactsBackup,loaded:!1,addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.OPEN_DIALOG:switch(t.contactActionType){case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,{actionType:t.contactActionType,open:!0})});case d.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,l.makeEditForm)(e.contacts,e.activeRows,t.contactActionType))});case d.SYSTEM.ADDRESSBOOK_MODAL_SEARCH:return(0,r.default)({},e,{searchDialogOpen:!0});default:return e}case i.actionTypes.CLOSE_DIALOG:return(0,r.default)({},e,{addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),searchDialogOpen:!1});case i.actionTypes.HANDLE_CHANGE:return(0,r.default)({},e,{addEditContact:(0,r.default)({},e.addEditContact,(0,o.default)({},t.inputType,t.value)),fieldsValidation:(0,r.default)({},e.fieldsValidation,(0,o.default)({},t.inputType,t.isCorrect))});case i.actionTypes.ADD_CONTACT:var n=(0,l.addContact)(e.addEditContact,t.newContact.id,e.contacts),u=(0,l.addContact)(e.addEditContact,t.newContact.id,e.contactsBackup);return(0,r.default)({},e,{contacts:n.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:u,mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST}),addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)()),activeRows:[t.newContact.id],activeRowsBackup:[t.newContact.id]});case i.actionTypes.CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.CLICK_ROW_CTRL:var p=e.activeRows.indexOf(t.contactID);return p>=0?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1))),activeRowsBackup:[].concat((0,a.default)(e.activeRows.slice(0,p)),(0,a.default)(e.activeRows.slice(p+1)))}):(0,l.acceptCheckSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:[].concat((0,a.default)(e.activeRows),[t.contactID]),activeRowsBackup:[].concat((0,a.default)(e.activeRows),[t.contactID])}):e;case i.actionTypes.CLICK_ROW_SHIFT:var h=(0,s.uniqArr)((0,l.selectedListWithShift)(e.activeRows,t.contactID,e.contacts,t.selectMax));return(0,l.acceptSelectMax)(t.selectMax)?(0,l.checkSelectMax)(t.selectMax,e.activeRows)?(0,r.default)({},e,{activeRows:(0,l.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows),activeRowsBackup:(0,l.activeListMax)(h,Number(t.selectMax),e.contacts,t.contactID,e.activeRows)}):e:(0,r.default)({},e,{activeRows:h,activeRowsBackup:h});case i.actionTypes.DOUBLE_CLICK_ROW:return(0,r.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case i.actionTypes.SELECT_ALL:var f=e.contacts.map(function(e){return e.id});return(0,r.default)({},e,{activeRows:[].concat((0,a.default)(f)),activeRowsBackup:[].concat((0,a.default)(f))});case i.actionTypes.UNSELECT_ALL:return(0,r.default)({},e,{activeRows:[],activeRowsBackup:[]});case i.actionTypes.SELECT_CONTACT_DOWN:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id],activeRowsBackup:[e.contacts[0].id]});var m=(0,l.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MAX);return m+1<e.contacts.length?(0,r.default)({},e,{activeRows:[e.contacts[m+1].id],activeRowsBackup:[e.contacts[m+1].id]}):e;case i.actionTypes.SELECT_CONTACT_UP:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,r.default)({},e,{activeRows:[e.contacts[0].id]});var E=(0,l.findActivePlace)(e.contacts,e.activeRows,d.SYSTEM.ADDRESSBOOK_MATH_MIN);return E>0?(0,r.default)({},e,{activeRows:[e.contacts[E-1].id]}):e;case i.actionTypes.DELETE_SELECTED:return(0,r.default)({},e,{contacts:(0,l.deleteSelected)(e.contacts,e.activeRows),contactsBackup:(0,l.deleteSelected)(e.contactsBackup,e.activeRows),mode:(0,r.default)({},e.mode,{type:e.contactsBackup.length>0?d.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.DELETE_ALL:return(0,r.default)({},e,{contacts:[],contactsBackup:[],mode:(0,r.default)({},e.mode,{type:d.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case i.actionTypes.EDIT_CONTACT:var g=(0,l.updateContact)(e.addEditContact,e.contacts),_=(0,l.updateContact)(e.addEditContact,e.contactsBackup);return(0,r.default)({},e,{contacts:g.sort((0,s.compare)(e.sortBy,e.sortDirection)),contactsBackup:_,addEditContact:(0,r.default)({},(0,l.makeInitialForm)()),fieldsValidation:(0,r.default)({},(0,l.makeInitialValidation)())});case i.actionTypes.SORT_CONTACTS:return(0,r.default)({},e,{contacts:[].concat((0,a.default)(e.contacts)).sort((0,s.compare)(t.sortBy,t.sortDirection)),contactsBackup:[].concat((0,a.default)(e.contactsBackup)).sort((0,s.compare)(t.sortBy,t.sortDirection)),sortBy:t.sortBy,sortDirection:t.sortDirection});case i.actionTypes.SEARCH_CONTACTS:var v=(0,l.filterContacts)(e.contactsBackup,t.searchBy,t.fieldsMask,d.SYSTEM.ADDRESSBOOK_FIELD_NAME),S=(0,l.filterActiveRows)(v,e.activeRowsBackup);return(0,r.default)({},e,{contacts:v.sort((0,s.compare)(e.sortBy,e.sortDirection)),activeRows:S,searchBy:t.searchBy});case i.actionTypes.SEARCH_UPDATE:return(0,r.default)({},e,{searchBy:t.searchBy});case i.actionTypes.CLEAR_SEARCH:return(0,r.default)({},e,{contacts:e.contactsBackup.sort((0,s.compare)(e.sortBy,e.sortDirection)),activeRows:e.activeRowsBackup,searchBy:""});case i.actionTypes.TOGGLE_IMPORT:return(0,r.default)({},e,{importIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.TOGGLE_EDIT:return(0,r.default)({},e,{editIsOpen:t.dropdownToggle===d.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case i.actionTypes.ON_RESIZE_WINDOW:return(0,r.default)({},e,{viewType:t.viewType});case i.actionTypes.HANDLE_ERROR_MODAL:return(0,r.default)({},e,{errorModalOpen:t.errorModalOpen});case i.actionTypes.HANDLE_ALERT_MODAL:return(0,r.default)({},e,{alertModalOpen:t.alertModalOpen});case i.actionTypes.WS_CONNECTION_ON:return(0,r.default)({},e,{wsConnectionOn:!0});case i.actionTypes.HANDLE_SAVING_CONTACT:return(0,r.default)({},e,{saveContactFinished:t.saved});case i.actionTypes.HANDLE_SEARCH_FIELD:return(0,r.default)({},e,{searchFieldShow:t.handler||!e.searchFieldShow});case i.actionTypes.HANDLE_BLOCK_POINT:return(0,r.default)({},e,{blockPoint:t.handler});case i.actionTypes.SET_WS_CONNECT:return(0,r.default)({},e,{connect:t.connect,baseUrl:t.baseUrl});default:return e}};var i=n(848),s=n(647),l=n(1083),d=n(635);function u(e){return e&&e.__esModule?e:{default:e}}var c={local:null,mode:{type:null},fieldsMaskInternal:[d.SYSTEM.ADDRESSBOOK_FIELD_NAME,d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],fieldsMask:null,filterMaskInternalOr:[d.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,d.SYSTEM.ADDRESSBOOK_FIELD_PHONE,d.SYSTEM.ADDRESSBOOK_FIELD_FAX],filterMaskInternalAnd:[],filterMask:null,filterToggleInternal:d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,filterToggle:null,contacts:[],contactsBackup:[],loaded:!1,addEditContact:{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0},fieldsValidation:{name:!0,email:!0,phone:!0,fax:!0},editIsOpen:!1,activeRows:[],activeRowsBackup:[],sortBy:d.SYSTEM.ADDRESSBOOK_FIELD_NAME,sortDirection:d.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ,sortIsOpen:!1,searchBy:"",searchDialogOpen:!1,importIsOpen:!1,serverReplyStatus:null,singlePage:!1,viewType:null,errorModalOpen:!1,alertModalOpen:!1,wsConnectionOn:!1,saveContactFinished:!0,searchFieldShow:!1,blockPoint:!1,connect:null,baseUrl:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maskMiddleware=void 0;var a=p(n(328)),o=p(n(109)),r=p(n(1084)),i=n(1085),s=n(848),l=n(647),d=n(635),u=n(638),c=n(1092);function p(e){return e&&e.__esModule?e:{default:e}}t.maskMiddleware=function(e){return function(t){return function(n){var p=e.getState();if(n){switch(n.type){case s.actionTypes.INIT_CUSTOM:return new c.apiRestMediator({baseUrl:n.baseUrl,appKey:n.appKey,userCredentials:n.userCredentials});case s.actionTypes.WS_CONNECTION_ON:if(!p.ab.wsConnectionOn){var h=void 0;(h=p.ab.connect?new i.WsService(p.ab.connect.host,p.ab.connect.port,p.ab.connect.userId):new i.WsService(n.wsConnectObj.connect.host,n.wsConnectObj.connect.port,n.wsConnectObj.connect.userId)).on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH,function(t){if(n.wsConnectObj.dialogModalName&&n.wsConnectObj.openModal&&n.wsConnectObj.closeModal){var a=void 0,r=void 0,i=void 0;!t.countNew||(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countNew)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countNew)?!t.countUpdated||(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_NUMBER&&(0,o.default)(t.countUpdated)!==d.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countUpdated)?(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_WARNING):(a=n.wsConnectObj.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS):(a=n.wsConnectObj.ADDRESSBOOK_IMPORTED_CONTACTS.replace(d.SYSTEM.ADDRESSBOOK_REGEXP_NUMBER,t.countNew.toString()),r=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,i=d.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS),n.wsConnectObj.openModal(n.wsConnectObj.dialogModalName,{size:d.SYSTEM.ADDRESSBOOK_DIALOG_SIZE_SM,modalType:i,title:r,text:a,showCloseButton:!1})}if(n.wsConnectObj.closeModal){var s=n.wsConnectObj;setTimeout(function(){s.closeModal(s.dialogModalName)},d.SYSTEM.ADDRESSBOOK_DIALOG_TIMEOUT)}t.data?e.dispatch((0,u.setContacts)(t.data)):n.wsConnectObj.handleGetContacts(),("undefined"==typeof window?"undefined":(0,o.default)(window))!==d.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.childWindow&&(window.childWindow.close(),window.childWindow=null,(0,l.windowFocus)())});var f=void 0;f=p.ab.baseUrl?p.ab.baseUrl:n.wsConnectObj.baseUrl,h.on(d.SYSTEM.ADDRESSBOOK_MMC_TYPE_ALERT,function(e){e.event&&e.event===d.SYSTEM.ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN&&(0,l.redirect)(f,d.SYSTEM.ADDRESSBOOK_LOGIN_URL)}),h.connect()}break;case s.actionTypes.SET_CONTACTS:n.contacts=n.contacts.filter(function(e){return(0,l.filterMaskApply)(p.ab.filterMask,p.ab.filterToggle,d.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,e)}),n.contacts=n.contacts.map(function(e){return(0,a.default)({},e,{name:e.contact_name})});break;case s.actionTypes.ADD_CONTACT:n.newContact.id=n.newContact.id.toString();break;case s.actionTypes.IMPORT_EMAIL:(0,l.openWindow)(n.url,500,500,(0,r.default)(n.props));break;case s.actionTypes.SET_WINDOW_TYPE:(0,l.setWindowType)(e,d.SYSTEM,u.onResizeWindow)}return t(n)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONNECT="WEBSOCKET_CONNECT",t.CLOSE="WEBSOCKET_CLOSE",t.ERROR="WEBSOCKET_ERROR",t.PING_DELAY=5e3,t.SUBSCRIBER_METHODS={open:"onOpen",close:"onClose",message:"onMessage",error:"onError"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({all:null,text:null,curve:null,image:null,initials:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({SIGNATURE_EDITOR_LOCALE_SET:null,EDITOR_RESET:null,EDITOR_DIMENSIONS_SET:null,INITIAL_STATE_RESTORE:null,EDITED_IMAGE_RESTORE:null,TOOL_SELECT:null,IMAGE_INITIAL_SET:null,IMAGE_SET:null,IMAGE_ROTATE:null,IMAGE_FLIP:null,IMAGE_DIMENSIONS_SET:null,IMAGE_PARAMS_RESET:null,IMAGE_PARAMS_SET:null,IMAGE_AUTO_ADJUST:null,IMAGE_INITIAL_ADJUST:null,IMAGE_HORIZONTAL_FLIP:null,IMAGE_VERTICAL_FLIP:null,CROPPED_IMAGE_SET:null,EDITED_IMAGE_SET:null,THICKNESS_SET:null,CROP_APPLY:null,ZOOM_IN:null,ZOOM_OUT:null,BRIGHTNESS_SET:null,CONTRAST_SET:null,THRESHOLD_SET:null,IMAGE_STATE_SAVE:null,ERASED_IMAGE_SAVE:null,HISTORY_STEP_ADD:null,HISTORY_STATE_SET:null,HISTORY_UNDO:null,HISTORY_REDO:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_HISTORY_LENGTH=30,t.MAX_ZOOM=4,t.DEFAULT_PADDING=7},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(328)),o=i(n(1127)),r=n(671);function i(e){return e&&e.__esModule?e:{default:e}}var s={selectedTool:r.TOOLS.flipRotate,locale:r.LOCALE,image:null,initialImage:{},imageDimensions:{},editorDimensions:{},croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET:return(0,a.default)({},e,{locale:(0,o.default)(e.locale,t.locale)});case r.ACTION_TYPES.EDITOR_RESET:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:null,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.EDITOR_DIMENSIONS_SET:return(0,a.default)({},e,{editorDimensions:t.dimensions});case r.ACTION_TYPES.IMAGE_INITIAL_ADJUST:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,image:t.params.src,croppedImage:null,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case r.ACTION_TYPES.INITIAL_STATE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,currentStep:0,totalSteps:1,minStep:0});case r.ACTION_TYPES.EDITED_IMAGE_RESTORE:return(0,a.default)({},e,{selectedTool:r.TOOLS.flipRotate});case r.ACTION_TYPES.IMAGE_INITIAL_SET:return(0,a.default)({},e,{image:t.image,initialImage:t.initialImage});case r.ACTION_TYPES.IMAGE_SET:return(0,a.default)({},e,{image:t.image});case r.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP:return(0,a.default)({},e,{isFlippedHorizontally:!e.isFlippedHorizontally});case r.ACTION_TYPES.IMAGE_VERTICAL_FLIP:return(0,a.default)({},e,{isFlippedVertically:!e.isFlippedVertically});case r.ACTION_TYPES.CROPPED_IMAGE_SET:return(0,a.default)({},e,{croppedImage:t.image});case r.ACTION_TYPES.IMAGE_DIMENSIONS_SET:return(0,a.default)({},e,{imageDimensions:t.dimensions});case r.ACTION_TYPES.EDITED_IMAGE_SET:var n=e.currentStep+1,i=n+1,l=e.minStep;return i>=r.MAX_HISTORY_LENGTH&&(l=i-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:n,minStep:l,image:t.image,totalSteps:t.totalSteps});case r.ACTION_TYPES.ERASED_IMAGE_SAVE:return(0,a.default)({},e,{image:t.image,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_RESET:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case r.ACTION_TYPES.IMAGE_PARAMS_SET:return(0,a.default)({},e,{isFlippedVertically:t.params.flipVertically,isFlippedHorizontally:t.params.flipHorizontally,contrast:t.params.contrast,brightness:t.params.brightness,threshold:t.params.threshold});case r.ACTION_TYPES.IMAGE_AUTO_ADJUST:return(0,a.default)({},e,{threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast});case r.ACTION_TYPES.THICKNESS_SET:return(0,a.default)({},e,{eraserThickness:t.size});case r.ACTION_TYPES.TOOL_SELECT:return(0,a.default)({},e,{selectedTool:t.tool});case r.ACTION_TYPES.BRIGHTNESS_SET:return(0,a.default)({},e,{brightness:t.value});case r.ACTION_TYPES.CONTRAST_SET:return(0,a.default)({},e,{contrast:t.value});case r.ACTION_TYPES.THRESHOLD_SET:return(0,a.default)({},e,{threshold:t.value});case r.ACTION_TYPES.ZOOM_IN:return(0,a.default)({},e,{scale:Math.min(r.MAX_ZOOM,e.scale+.1)});case r.ACTION_TYPES.ZOOM_OUT:return(0,a.default)({},e,{scale:e.scale-.1});case r.ACTION_TYPES.CROP_APPLY:return(0,a.default)({},e,{image:e.croppedImage,threshold:r.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:r.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:r.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,scale:1});case r.ACTION_TYPES.HISTORY_STATE_SET:var d=t.imageParams.threshold,u=t.imageParams.contrast,c=t.imageParams.brightness;return t.imageParams.isAutoCleaned&&(d=r.IMAGE_CLEANER_CONFIG.defaultThreshold,u=r.IMAGE_CLEANER_CONFIG.defaultContrast,c=r.IMAGE_CLEANER_CONFIG.defaultBrightness),(0,a.default)({},e,{threshold:d,contrast:u,brightness:c,image:t.image,isFlippedVertically:t.imageParams.flipVertically,isFlippedHorizontally:t.imageParams.flipHorizontally,currentStep:t.step});case r.ACTION_TYPES.HISTORY_STEP_ADD:var p=e.currentStep+1,h=p+1,f=e.minStep;return h>=r.MAX_HISTORY_LENGTH&&(f=h-r.MAX_HISTORY_LENGTH),(0,a.default)({},e,{currentStep:p,minStep:f,totalSteps:t.totalSteps});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(645)),o=u(n(328)),r=n(649),i=u(n(651)),s=n(671),l=u(n(1128)),d=u(n(1129));function u(e){return e&&e.__esModule?e:{default:e}}var c=i.default.setImage,p=i.default.setEditedImage,h=i.default.resetImageParams,f=i.default.addHistoryStep,m=i.default.flipImageHorizontally,E=i.default.flipImageVertically,g=i.default.setHistoryState,_=i.default.setImageDimensions,v=i.default.restoreInitialState,S=l.default.areParamsDefault,y=l.default.getCurrentImageParams,T=l.default.getParamsForImageFlipping;t.default=function(e){var t=new d.default;return function(n){return function(i){var l=e.getState().signatureEditor;switch(i.type){case s.ACTION_TYPES.EDITOR_RESET:t.clear();break;case s.ACTION_TYPES.INITIAL_STATE_RESTORE:var d=t.restoreInitialState();t.saveImageState(l.currentStep,{},d),e.dispatch(c(d));break;case s.ACTION_TYPES.EDITED_IMAGE_RESTORE:var u=t.getEditedImageState();t.saveImageState(l.currentStep,u.params,u.src),e.dispatch(p(u.src,1)),e.dispatch(_(u.dimensions));break;case s.ACTION_TYPES.IMAGE_ROTATE:var O={src:l.image,clockwise:i.clockwise};(0,r.rotateImage)(O).then(function(n){var a=t.saveImageState(l.currentStep,{},n.src);e.dispatch(p(n.src,a)),e.dispatch(h())});break;case s.ACTION_TYPES.IMAGE_FLIP:var b=l.isFlippedHorizontally,C=l.isFlippedVertically,D=(0,o.default)({},T(l),{src:t.getImage(l.currentStep)});i.horizontally?(b=!b,e.dispatch(m())):i.vertically&&(C=!C,e.dispatch(E())),D=(0,o.default)({},D,{flipHorizontally:b,flipVertically:C}),(0,r.editImage)(D).then(function(n){var a=n.src,r=(0,o.default)({},T(l),{flipHorizontally:b,flipVertically:C}),i=t.saveImageState(l.currentStep,r);e.dispatch(p(a,i))});break;case s.ACTION_TYPES.CROP_APPLY:var M=t.saveImageState(l.currentStep,{},l.croppedImage);e.dispatch(f(M));break;case s.ACTION_TYPES.CONTRAST_SET:var A=(0,o.default)({},y(l),{src:t.getImage(l.currentStep),contrast:i.value});(0,r.editImage)(A).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.BRIGHTNESS_SET:var w=(0,o.default)({},y(l),{src:t.getImage(l.currentStep),brightness:i.value});(0,r.editImage)(w).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.THRESHOLD_SET:var R=(0,o.default)({},y(l),{src:t.getImage(l.currentStep),threshold:i.value});(0,r.editImage)(R).then(function(t){var n=t.src;return e.dispatch(c(n))});break;case s.ACTION_TYPES.ERASED_IMAGE_SAVE:var I=t.saveImageState(l.currentStep,{},i.image);e.dispatch(f(I));break;case s.ACTION_TYPES.IMAGE_STATE_SAVE:var N=y(l),P=t.saveImageState(l.currentStep,N);e.dispatch(f(P));break;case s.ACTION_TYPES.IMAGE_AUTO_ADJUST:var L={src:t.getImage(l.currentStep),contrast:i.contrast,threshold:i.threshold,brightness:i.brightness,flipHorizontally:l.isFlippedHorizontally,flipVertically:l.isFlippedVertically};(0,r.editImage)(L).then(function(e){var t=e.src;return(0,r.trimImage)(t)}).then(function(n){var r=(0,a.default)(L,["src"]),i=t.saveImageState(l.currentStep,(0,o.default)({},r,{isAutoCleaned:!0}),n);e.dispatch(p(n,i))});break;case s.ACTION_TYPES.IMAGE_INITIAL_SET:t.init(l.currentStep,i.image),e.dispatch(v());break;case s.ACTION_TYPES.IMAGE_INITIAL_ADJUST:var k=void 0;t.init(l.currentStep,i.params.src),(0,r.editImage)(i.params).then(function(e){var t=e.src,n=e.width,a=e.height;return k={width:n,height:a},(0,r.trimImage)(t)}).then(function(n){var r=i.params,s=(r.src,(0,a.default)(r,["src"])),d=t.saveImageState(l.currentStep,(0,o.default)({},s,{isAutoCleaned:!0}),n);t.saveEditedImage(n,s,k),e.dispatch(p(n,d)),e.dispatch(_(k))});break;case s.ACTION_TYPES.HISTORY_UNDO:var B=l.currentStep-1,x=t.getImageState(B),F=x.src,Y=(0,a.default)(x,["src"]);!Y.isAutoCleaned||S(Y)?(0,r.editImage)(x).then(function(t){var n=t.src;return e.dispatch(g(n,Y,B))}):e.dispatch(g(F,Y,B));break;case s.ACTION_TYPES.HISTORY_REDO:var U=l.currentStep+1,H=t.getImageState(U),j=H.src,W=(0,a.default)(H,["src"]);S(W)?(0,r.editImage)(H).then(function(t){var n=t.src;return e.dispatch(g(n,W,U))}):e.dispatch(g(j,W,U))}return n(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.editorManagerMiddleware=t.imageSignatureMiddleware=t.actions=t.reducers=t.configureStore=t.SignatureManagerComponent=t.ImageManagerComponent=void 0;var a=c(n(1130)),o=c(n(1222)),r=c(n(1250)),i=u(n(852)),s=u(n(632)),l=u(n(633)),d=n(854);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.ImageManagerComponent=a.default,t.SignatureManagerComponent=o.default,t.configureStore=r.default,t.reducers=i,t.actions=s,t.imageSignatureMiddleware=d.imageSignature,t.editorManagerMiddleware=d.editorManager,t.constants=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(981)),o=l(n(1132)),r=l(n(1134)),i=l(n(1186)),s=l(n(1188));function l(e){return e&&e.__esModule?e:{default:e}}t.default={DropzoneComponentWrapper:a.default,DropzoneComponentContainerWrapper:o.default,DropzoneButton:r.default,DropzoneContent:i.default,DropzoneTitle:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=t.propTypes=void 0;var a=f(n(51)),o=f(n(41)),r=f(n(43)),i=f(n(52)),s=f(n(53)),l=n(0),d=f(l),u=f(n(7)),c=f(n(1373)),p=n(649),h=n(753);function f(e){return e&&e.__esModule?e:{default:e}}var m=t.propTypes={handleFilesSelect:u.default.func.isRequired,handleErrors:u.default.func,acceptTypes:u.default.string,content:u.default.string,maxFileSize:u.default.string,activeClassName:u.default.string,maxFilesNumber:u.default.number,multiple:u.default.bool,checkImage:u.default.bool,imageDimensions:u.default.object,errors:u.default.object,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},E=t.defaultProps={handleErrors:function(){return{}},imageDimensions:{width:640,height:480},errors:{},maxFileSize:null,maxFilesNumber:null,allowedFileTypes:"",content:null,multiple:!1,activeClassName:"",checkImage:!1},g=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.validateFiles=e.validateFiles.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"validateFiles",value:function(e){var t=this.props,n=t.handleFilesSelect,a=t.handleErrors,o=t.maxFileSize,r=t.allowedFileTypes,i=t.maxFilesNumber,s=t.checkImage,l=t.imageDimensions,d={customErrors:t.errors,maxFileSize:o,allowedFileTypes:r,maxFilesNumber:i,checkImage:s,imageDimensions:l};(0,p.validateFiles)(e,d,n,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowedFileTypes,a=t.children,o=t.multiple,r=t.activeClassName,i=Array.isArray(a)?a:[a],s=i.length?i.map(function(t,a){return t.type&&t.type.getId()===h.IDS.button?d.default.cloneElement(t,{key:a,onSelect:e.validateFiles,allowedFileTypes:n,multiple:o,activeClassName:r,inputId:"dropzoneInput"}):d.default.cloneElement(t,{key:a})}):null,l="string"==typeof n?n:n.join();return d.default.createElement("div",{className:"crop-body-cell crop-body-cell--not-border"},d.default.createElement(c.default,{className:"crop-body-upload",onDrop:this.validateFiles,disableClick:!0,multiple:o,activeClassName:r,acceptClassName:r,accept:l},d.default.createElement("div",{className:"crop-body-upload__inner"},s)))}}]),t}(l.Component);t.default=g,g.propTypes=m,g.defaultProps=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validator=t.phoneRegexp=void 0;var a=r(n(132));t.default=function(e){void 0!==e.prototype.validate&&warning(!1,"Cannot decorate `%s` with @validateDecorator, because it already implements `validate().",function(e){var t=e.prototype&&e.prototype.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||"a component"}(e));return e.prototype.validate=s,e};var o=r(n(1137));function r(e){return e&&e.__esModule?e:{default:e}}var i=t.phoneRegexp=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/;function s(e){var t=[];this.props.validations.forEach(function(n){if("required"==n.rule)!!!e.length&&t.push(n);else if("isEmail"==n.rule&&e.length>0)!o.default.isValidEmail(e)&&t.push(n);else if("isNoSystemEmail"==n.rule&&e.length>0)!o.default.isNoSystemEmail(e)&&t.push(n);else if("isPhone"==n.rule&&e.length>0)!o.default.isValidPhone(e)&&t.push(n);else if("isURL"==n.rule&&e.length>0)!o.default.isURL(e)&&t.push(n);else if("isYoutubeURL"==n.rule&&e.length>0)!o.default.isYoutubeUrl(e)&&t.push(n);else if(e.length>0){var a=o.default[n.rule];"function"==typeof a&&!a(e||"",n.options)&&t.push(n)}});var n=!t.length,a=t[t.length-1];return n?this.setState({errorMessage:""}):this.setState({errorMessage:a.errorMessage?a.errorMessage:""}),n}(0,a.default)(o.default,{isValidPhone:function(e){return i.test(e)},isYoutubeUrl:function(e){return e.match(/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/)},isNotJustSpaces:function(e){return!/^\s+$/.test(e)},isValidEmail:function(e){var t=RegExp(/^[^@]{1,64}@[^@]{1,255}$/,"i").test(e),n=RegExp(/^[a-z0-9!#$%&*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z](?:[a-z]*[a-z])?$/,"i").test(e);return t&&n},isNoSystemEmail:function(e){return!RegExp(/^u[?|\d\]+[\d]+\@pdffiller\.com$/,"i").test(e)}}),t.validator=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),parseFloat(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),(t=(0,o.default)(t,l)).require_display_name||t.allow_display_name){var n=e.match(d);if(n)e=n[1];else if(t.require_display_name)return!1}var s=e.split("@"),f=s.pop(),m=s.join("@"),E=f.toLowerCase();"gmail.com"!==E&&"googlemail.com"!==E||(m=m.replace(/\./g,"").toLowerCase());if(!(0,r.default)(m,{max:64})||!(0,r.default)(f,{max:256}))return!1;if(!(0,i.default)(f,{require_tld:t.require_tld}))return!1;if('"'===m[0])return m=m.slice(1,m.length-1),t.allow_utf8_local_part?h.test(m):c.test(m);for(var g=t.allow_utf8_local_part?p:u,_=m.split("."),v=0;v<_.length;v++)if(!g.test(_[v]))return!1;return!0};var a=s(n(630)),o=s(n(717)),r=s(n(985)),i=s(n(861));function s(e){return e&&e.__esModule?e:{default:e}}var l={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,c=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=encodeURI(e).split(/%..|./).length-1;return r>=n&&(void 0===o||r<=o)};var o,r=n(630),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,4)||e(t,6);if("4"===n){if(!i.test(t))return!1;var a=t.split(".").sort(function(e,t){return e-t});return a[3]<=255}if("6"===n){var o=t.split(":"),l=!1,d=e(o[o.length-1],4),u=d?7:8;if(o.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(o.shift(),o.shift(),l=!0):"::"===t.substr(t.length-2)&&(o.pop(),o.pop(),l=!0);for(var c=0;c<o.length;++c)if(""===o[c]&&c>0&&c<o.length-1){if(l)return!1;l=!0}else if(d&&c===o.length-1);else if(!s.test(o[c]))return!1;return l?o.length>=1:o.length===u}return!1};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,s=/^[0-9A-F]{1,4}$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var a,o=t.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"nl-NL":/^[A-ZÉËÏÓÖÜ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЯЄIЇҐ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},r=t.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nl-NL":/^[0-9A-ZÉËÏÓÖÜ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЯЄIЇҐ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},i=t.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],s=0;s<i.length;s++)o[a="en-"+i[s]]=o["en-US"],r[a]=r["en-US"];o["pt-BR"]=o["pt-PT"],r["pt-BR"]=r["pt-PT"];for(var l,d=t.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],u=0;u<d.length;u++)o[l="ar-"+d[u]]=o.ar,r[l]=r.ar},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=t.fullWidth=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.halfWidth=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=t.halfWidth=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[0-9A-F]+$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso8601=void 0,t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=t.iso8601=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("^["+t+"]+","g"):/^\s+/g;return e.replace(n,"")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?new RegExp("["+t+"]"):/\s/,a=e.length-1;for(;a>=0&&n.test(e[a]);)a--;return a<e.length?e.substr(0,a+1):e};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("["+t+"]+","g"),"")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),o=s(n(1189)),r=s(n(1192)),i=s(n(1197));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},a.default.createElement(o.default,null),a.default.createElement(r.default,null),a.default.createElement(i.default,null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(51)),i=h(n(41)),s=h(n(43)),l=h(n(52)),d=h(n(53)),u=n(0),c=h(u),p=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}var f=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.setReference=function(t){t&&!e.canvas&&(e.canvas=t,e.ctx=e.canvas.getContext("2d"))},e.canvas=null,e.ctx=null,e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.drawImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.image;t&&t!==e.image&&this.drawImage()}},{key:"drawImage",value:function(){var e=this.props.image;e&&(this.canvas.width=e.width,this.canvas.height=e.height,this.ctx.drawImage(e,0,0))}},{key:"render",value:function(){return c.default.createElement("canvas",{ref:this.setReference,style:{display:"block",margin:"auto"}})}}]),t}(u.Component),a.propTypes={image:p.default.object},o);t.default=f},function(e,t,n){var a=n(998),o=n(1204),r=n(1205),i=n(1206),s=n(1210),l=n(1212),d=Date.prototype.getTime;function u(e,t,n){var h=n||{};return!(h.strict?!r(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?h.strict?r(e,t):e==t:function(e,t,n){var r,h;if(typeof e!=typeof t)return!1;if(c(e)||c(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var f=i(e),m=i(t);if(f!==m)return!1;if(f||m)return e.source===t.source&&s(e)===s(t);if(l(e)&&l(t))return d.call(e)===d.call(t);var E=p(e),g=p(t);if(E!==g)return!1;if(E||g){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}if(typeof e!=typeof t)return!1;try{var _=a(e),v=a(t)}catch(e){return!1}if(_.length!==v.length)return!1;for(_.sort(),v.sort(),r=_.length-1;r>=0;r--)if(_[r]!=v[r])return!1;for(r=_.length-1;r>=0;r--)if(h=_[r],!u(e[h],t[h],n))return!1;return!0}(e,t,h))}function c(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=u},function(e,t,n){"use strict";var a=Array.prototype.slice,o=n(999),r=Object.keys,i=r?function(e){return r(e)}:n(1203),s=Object.keys;i.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(a.call(e)):s(e)}):Object.keys=i;return Object.keys||i},e.exports=i},function(e,t,n){"use strict";var a=Object.prototype.toString;e.exports=function(e){var t=a.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===a.call(e.callee)),n}},function(e,t,n){"use strict";var a=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==a(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var a=n(1e3),o=n(862).supportsDescriptors,r=Object.getOwnPropertyDescriptor,i=TypeError;e.exports=function(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=r(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=y(n(51)),s=y(n(41)),l=y(n(43)),d=y(n(52)),u=y(n(53)),c=y(n(7)),p=n(0),h=y(p),f=n(72),m=y(n(651)),E=n(660),g=n(652),_=n(637),v=n(633),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632));function y(e){return e&&e.__esModule?e:{default:e}}var T=(0,f.connect)(function(e){return{backButtonText:(0,_.getSignatureManagerLocale)(e).backButton,saveButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.saveButton,saveAndUseButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.saveAndUseButton,mode:e.im.mode,modeSignature:e.im.modeSignature}},{restoreEditedImage:m.default.restoreEditedImage,resetEditor:m.default.resetEditor,smGallery:S.smGallery,initial:S.initial})((r=o=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.handleBackButtonClick=function(){var e=a.props,t=e.mode,n=e.modeSignature;return t.type===v.MODE_TYPES.EDIT?(a.props.initial(),void a.props.resetEditor()):n.type===v.MODE_TYPES.SM_IMAGE_EDIT?(a.props.smGallery(),void a.props.resetEditor()):void a.props.restoreEditedImage()},a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1),a.props.resetEditor()},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0),a.props.resetEditor()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.saveButtonText,n=e.saveAndUseButtonText,a=e.backButtonText;return h.default.createElement("div",{className:"sign-m-footer"},h.default.createElement("div",{className:"sign-m-footer__left"},h.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},a)),h.default.createElement("div",{className:"sign-m-footer__right"},h.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm",onClick:this.handleSaveButtonClick},t),h.default.createElement(E.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick},n)))}}]),t}(p.Component),o.propTypes={handleSaveAndUse:c.default.func.isRequired,restoreEditedImage:c.default.func.isRequired,backButtonText:c.default.string.isRequired,saveButtonText:c.default.string.isRequired,saveAndUseButtonText:c.default.string.isRequired,mode:c.default.object.isRequired,modeSignature:c.default.object.isRequired,resetEditor:c.default.func.isRequired,smGallery:c.default.func.isRequired,initial:c.default.func.isRequired},a=r))||a;t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerHeader=void 0;var a,o=m(n(223)),r=m(n(51)),i=m(n(41)),s=m(n(43)),l=m(n(52)),d=m(n(53)),u=m(n(7)),c=n(0),p=m(c),h=m(n(10)),f=n(72);function m(e){return e&&e.__esModule?e:{default:e}}var E={icon:u.default.string,title:u.default.string,btnBackDispatch:u.default.func,handleClose:u.default.func,btnBack:u.default.object,addClass:u.default.string},g=t.ImageManagerHeader=(0,f.connect)(function(e){return e.im.mode})(a=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"btnBack",value:function(){var e=this.props,t=e.btnBack,n=void 0!==t&&t,a=e.btnBackDispatch;return n.status?p.default.createElement("div",{className:"sign-m-header__btn-back",onClick:a}):null}},{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.handleClose,a=e.icon,r=e.title;return p.default.createElement("div",{className:"sign-m-header "+t},this.btnBack(),p.default.createElement("div",{className:"sign-m-header__close",onClick:n}),a&&p.default.createElement("div",{className:(0,h.default)("sign-m-header__icon",(0,o.default)({},a,a))}),p.default.createElement("div",{className:"sign-m-header__title",dangerouslySetInnerHTML:{__html:r}}))}}]),t}(c.Component))||a;g.propTypes=E,g.defaultProps={icon:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentUploading=void 0;var a=c(n(51)),o=c(n(41)),r=c(n(43)),i=c(n(52)),s=c(n(53)),l=c(n(7)),d=n(0),u=c(d);function c(e){return e&&e.__esModule?e:{default:e}}(t.ImageManagerContentUploading=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n={width:e.uploadedPercent+"%"};return u.default.createElement("div",{className:"sign-m-body"},u.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--full-height"},u.default.createElement("div",{className:"sign-m-upload-doc-loading"},u.default.createElement("div",{className:"sign-m-upload-doc-loading-icon sign-m-svg-icon-cloud"},u.default.createElement("i",{className:"i i-in-process"})),u.default.createElement("div",{className:"sign-m-upload-doc-loading__title"},t),u.default.createElement("div",{className:"progress"},u.default.createElement("div",{className:"progress-bar",style:n})))))}}]),t}(d.Component)).propTypes={title:l.default.string.isRequired,uploadedPercent:l.default.number}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawComponent=void 0;var a,o,r=E(n(328)),i=E(n(51)),s=E(n(41)),l=E(n(43)),d=E(n(52)),u=E(n(53)),c=n(0),p=E(c),h=E(n(7)),f=n(1231),m=n(1006);function E(e){return e&&e.__esModule?e:{default:e}}t.SignatureDrawComponent=(o=a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.setDrawRootRef=function(e){n.drawRoot=e},n.sDraw=new f.SignatureDrawElement,n.drawRootStyles=(0,r.default)({},(0,m.isSurface)()&&{touchAction:"none"}),n.state={width:0,height:0,MOBILE_PANEL_WIDTH:e.noScale?0:e.drawNavMobileWidth},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,a=e.curves,o=e.updateDrawElement,r=e.canDraw,i=e.drawConfig,s=e.canvasStyle,l=this.sDraw.init(t,n,a,o,r,i,s);this.setState({width:t,height:n}),this.drawRoot.appendChild(l)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.width,n=e.height,a=e.noScale;if(this.state.width!==t||this.state.height!==n){this.setState({width:t,height:n});var o=t-this.state.MOBILE_PANEL_WIDTH,r=this.sDraw.update(o,n,a);this.drawRoot.removeChild(this.drawRoot.childNodes[this.drawRoot.childNodes.length-1]),this.drawRoot.appendChild(r)}}},{key:"render",value:function(){return p.default.createElement("div",{ref:this.setDrawRootRef,className:this.props.className,style:this.drawRootStyles})}}]),t}(c.Component),a.propTypes={width:h.default.number,height:h.default.number,curves:h.default.array,noScale:h.default.bool,canDraw:h.default.bool,updateDrawElement:h.default.func,drawConfig:h.default.object,canvasStyle:h.default.object,className:h.default.string,drawNavMobileWidth:h.default.number},a.defaultProps={noScale:!1,drawNavMobileWidth:60},o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=navigator.maxTouchPoints||navigator.msMaxTouchPoints;return window.hasOwnProperty("ontouchstart")||navigator.userAgent.indexOf("Edge")>-1&&e>2||-1===navigator.userAgent.indexOf("Edge")&&e>1||window.matchMedia&&matchMedia("(any-pointer: coarse)").matches};t.isMobile=function(){return new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent)||a()},t.isSurface=function(){var e=navigator.userAgent.indexOf("Windows")>-1&&-1===navigator.userAgent.indexOf("Windows Phone");return a()&&e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o,r,i=_(n(328)),s=_(n(51)),l=_(n(41)),d=_(n(43)),u=_(n(52)),c=_(n(53)),p=_(n(7)),h=_(n(0)),f=_(n(644)),m=_(n(982)),E=_(n(754)),g=n(657);function _(e){return e&&e.__esModule?e:{default:e}}t.Input=(0,E.default)(a=(0,m.default)((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.setRef=function(e){n.input=e},n.handleChange=function(e){var t=n.props.onChange,a=n.state.isValid,o=e.target.value.trim();n.setState({value:o,isValid:a}),t(e)},n.handleFocus=function(e){var t=n.props,a=t.onFocus,o=t.value;n.checkValidity(o),a(e),setTimeout(n.moveCaretAtEnd,35,(0,i.default)({},e))},n.state={value:e.value,errorMessage:"",isValid:!0,showAddressBookButton:!(0,g.isIeOrEdge)()},n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value.trim();t!==n&&this.setState({value:n})}},{key:"componentWillUpdate",value:function(e,t){this.state.value!==t.value&&this.checkValidity(t.value)}},{key:"componentDidMount",value:function(){var e=this.props.value;this.input.focus(),e&&this.checkValidity(e)}},{key:"checkValidity",value:function(e){var t=this.props.handleIsValid,n=this.validate(e||"");this.setState({isValid:n}),t(n)}},{key:"renderErrorMessage",value:function(){var e=this.props.className,t=this.state.isValid?"":"g-form-group__message--error";return h.default.createElement("div",{className:(0,f.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},t,this.props,e)},this.state.errorMessage)}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return h.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.placeholder,a=e.onBlur,o=this.state,r=o.showAddressBookButton,i=o.isValid,s=o.value,l={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:!i},d=i?"":"g-form-control--error";return h.default.createElement("div",{className:"g-form-group"},h.default.createElement("input",{type:"text",value:s,placeholder:n,ref:this.setRef,className:(0,f.default)(l,d,this.props,t),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:a}),r&&this.renderAddressBookButton(),!i&&this.renderErrorMessage())}}]),t}(h.default.Component),o.defaultProps={placeholder:"",value:"",className:"",validations:[],handleAddressBookButtonClick:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},handleIsValid:function(){}},o.propTypes={placeholder:p.default.string,value:p.default.string,className:p.default.string,validations:p.default.array,handleAddressBookButtonClick:p.default.func,onFocus:p.default.func,onBlur:p.default.func,onChange:p.default.func,handleIsValid:p.default.func},a=r))||a)||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownColor=void 0;var a=E(n(269)),o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=E(n(7)),u=n(0),c=E(u),p=E(n(10)),h=n(746),f=E(h),m=n(633);function E(e){return e&&e.__esModule?e:{default:e}}var g={color:d.default.string,addClass:d.default.string,setColor:d.default.func};(t.DropDownColor=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.changeColor=function(e){(0,n.props.setColor)(e),n.dropdown&&n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderColorsList",value:function(){var e=this;return(0,a.default)(m.DRAW_OPTIONS.COLORS).map(function(t){var n=m.DRAW_OPTIONS.COLORS[t];return c.default.createElement("div",{key:t,className:"sign-m-dropdown-colors__item",onClick:function(){return e.changeColor(n)}},c.default.createElement("div",{style:{background:"#"+n}}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addClass,a=void 0===n?"":n,o=t.color,r=this.state.open,i=(0,p.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-colors":!0,open:r});return c.default.createElement(f.default,{className:i+" "+a,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},c.default.createElement(h.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},c.default.createElement("div",{className:"sign-m-dropdown-colors__preview",style:{backgroundColor:"#"+o}})),c.default.createElement(h.DropdownContent,{className:"g-dropdown-popup"},c.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),c.default.createElement("div",{className:"g-dropdown-popup-list"},this.renderColorsList())))}}]),t}(u.Component)).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownLineThickness=void 0;var a=m(n(51)),o=m(n(41)),r=m(n(43)),i=m(n(52)),s=m(n(53)),l=m(n(7)),d=n(0),u=m(d),c=n(746),p=m(c),h=m(n(10)),f=n(633);function m(e){return e&&e.__esModule?e:{default:e}}var E={setLineWidth:l.default.func,addClass:l.default.string};(t.DropDownLineThickness=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.dropdownToggle=function(e){n.setState({open:e})},n.itemClick=function(e){(0,n.props.setLineWidth)(e),n.dropdown.hide()},n.setReference=function(e){n.dropdown=e},n.state={open:!1},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=this.props.addClass,n=void 0===t?"":t,a=this.state.open,o=(0,h.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-list-thickness":!0,open:a});return u.default.createElement(p.default,{className:o+" "+n,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},u.default.createElement(c.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},u.default.createElement("i",{className:"i i-thinkness"})),u.default.createElement(c.DropdownContent,{"aria-labelledby":"menu-1",className:"g-dropdown-popup"},u.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),u.default.createElement("div",{className:"g-dropdown-popup-list"},u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XSMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--2px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.SMALL)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--4px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.MEDIUM)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--6px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.LARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--8px"})),u.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(f.DRAW_OPTIONS.THICKNESS.XLARGE)}},u.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--10px"})))))}}]),t}(d.Component)).propTypes=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(950),o=n(1081),r=n(1082),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(971)),s=n(972),l=n(638);t.default={AddressBook:a.AddressBook,AddressBookButton:o.AddressBookButton,create:r.create,reducers:i,maskMiddleware:s.maskMiddleware,initCustom:l.initCustom,setWsConnect:l.setWsConnect}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCAL={ADDRESSBOOK_MAIN_NAME:"Address Book",ADDRESSBOOK_SEARCH_RESULTS:"Search Results",ADDRESSBOOK_ADD_EDIT_CONTACT:"Add/Edit Contact",ADDRESSBOOK_ADD_CONTACT_TITLE:"Add Contact",ADDRESSBOOK_EDIT_CONTACT_TITLE:"Edit Contact",ADDRESSBOOK_ADD_BUTTON_DIALOG:"Add",ADDRESSBOOK_EDIT_BUTTON_DIALOG:"Save",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_UPPERCASE_NAME:"Name",ADDRESSBOOK_UPPERCASE_EMAIL:"Email",ADDRESSBOOK_UPPERCASE_PHONE:"Phone",ADDRESSBOOK_UPPERCASE_FAX:"Fax",ADDRESSBOOK_UPPERCASE_LABEL_NAME:"Full Name",ADDRESSBOOK_UPPERCASE_LABEL_EMAIL:"Email Address",ADDRESSBOOK_UPPERCASE_LABEL_PHONE:"Phone Number",ADDRESSBOOK_UPPERCASE_LABEL_FAX:"Fax Number",ADDRESSBOOK_UPPERCASE_SEARCH:"Search",ADDRESSBOOK_BUTTON_CANCEL:"Cancel",ADDRESSBOOK_BUTTON_SAVE:"Save",ADDRESSBOOK_CONTACTS_SELECTED:"contact(s) selected",ADDRESSBOOK_SEND_TO:"Send to",ADDRESSBOOK_SORT_BY:"Sort by:",ADDRESSBOOK_BUTTON_ADD:"Add",ADDRESSBOOK_BUTTON_EDIT:"Edit",ADDRESSBOOK_SELECT_ALL_ITEM:"Select all",ADDRESSBOOK_EDIT_CONTACT:"Edit contact",ADDRESSBOOK_DELETE_CONTACT:"Delete contact",ADDRESSBOOK_BUTTON_IMPORT_CONTACTS:"Import Contacts",ADDRESSBOOK_IMPORT_GMAIL_ITEM:"Gmail",ADDRESSBOOK_IMPORT_HOTMAIL_ITEM:"Hotmail",ADDRESSBOOK_IMPORT_OUTLOOK_ITEM:"Outlook",ADDRESSBOOK_IMPORT_YAHOO_ITEM:"Yahoo",ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL:"Import contacts from email accounts",ADDRESSBOOK_BRING_TOGETHER:"Bring together all the people you know in one place. Click on an icon below to start.",ADDRESSBOOK_CREATE_A_NEW_CONTACT:"Create a new contact",ADDRESSBOOK_CLICK_ON_BUTTON:"Click on button below to enter information of new",ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT:"contact.",ADDRESSBOOK_ADD_CONTACT:"Add Contact",ADDRESSBOOK_LOADING_CONTACTS:"Loading contacts...",ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:"Success",ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:"We're Sorry",ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:"Success",ADDRESSBOOK_IMPORTED_CONTACTS:"You’ve imported {*NUMBER*} contact(s)",ADDRESSBOOK_IMPORT_CONTACTS_FAILS:"You have no contacts to import",ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:"Your contacts have been updated",ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE:"Error!",ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT:"Some error occurred...",ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE:"Loading error",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT:"Loading contacts failed!",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE:"Add contact error",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT:"Adding contact failed!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE:"Edit contact error",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT:"Contact edit failed!",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE:"Delete contact error",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE:"Delete all contacts error",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE:"Delete contact(s)",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT:"Are you sure want delete this contact(s)?",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT:"Cancel",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE:"Double contact",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT:"The specified contact already exists!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT:"OK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=void 0;var a,o=R(n(109)),r=R(n(51)),i=R(n(41)),s=R(n(43)),l=R(n(52)),d=R(n(53)),u=n(0),c=R(u),p=n(635),h=n(72),f=R(n(1067)),m=R(n(10)),E=n(1068),g=n(1069),_=n(951),v=n(952),S=n(953),y=n(958),T=n(959),O=n(962),b=n(1071),C=n(963),D=n(964),M=n(966),A=n(967),w=n(968);function R(e){return e&&e.__esModule?e:{default:e}}t.ModalWindow=(0,h.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen,contacts:e.ab.contacts,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.windowWidth=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerWidth:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH,n.windowHeight=("undefined"==typeof window?"undefined":(0,o.default)(window))!==p.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerHeight:p.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT,n.state={left:Math.ceil(n.windowWidth/2-p.SYSTEM.ADDRESSBOOK_MODAL_WIDTH),top:Math.ceil(n.windowHeight/2-p.SYSTEM.ADDRESSBOOK_MODAL_HEIGHT)},n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderLoader=n.renderLoader.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"renderContentByTypeContent",value:function(e){switch(e){case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return c.default.createElement(S.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case p.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:return c.default.createElement(y.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants});default:return null}}},{key:"renderLoader",value:function(){return this.props.loaded?null:c.default.createElement(w.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){var e=this.props.mode.type,t=(0,m.default)("dab",{"dab--no-contacts":0===this.props.contactsBackup.length&&this.props.loaded&&""===this.props.searchBy}),n=(0,m.default)("dab-header handle-drag",{"dab-header--search-results":""!==this.props.searchBy&&!this.props.searchDialogOpen}),a=(0,m.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length}),o=0,r=0,i=!1,s=this.state,l=s.left,d=s.top;return this.props.viewType===p.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?(l=d=0,i=!0):(o=this.state.left,r=this.state.top,i=!1),c.default.createElement(f.default,{modalClass:t,onStop:this.handleStop,onMouseDown:this.handleClickOnModal,draggableOff:i,handle:".handle-drag",left:o,top:r,style:{left:l,top:d}},c.default.createElement("div",{className:n},c.default.createElement(E.AddressBookTitle_modal,null),c.default.createElement(g.AddressBookClose,{handleCloseModal:this.props.handleCloseModal})),c.default.createElement("div",{className:"height-full"},this.renderLoader(),c.default.createElement("div",{className:"ab"},c.default.createElement("div",{className:"ab-header"},c.default.createElement(_.AddressBookSearch,null),c.default.createElement(v.AddressBookSort,null)),c.default.createElement("div",{className:a},c.default.createElement("div",{className:"ab-content"},this.renderContentByTypeContent(e)),c.default.createElement("div",{className:"no-results-icon"}))),c.default.createElement(T.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}),c.default.createElement(O.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),c.default.createElement("div",{className:"dab-footer"},c.default.createElement("div",{className:"ab-controls"},c.default.createElement(C.AddressBookBtnAdd,null),c.default.createElement(D.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),!this.props.isApp&&c.default.createElement(M.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),c.default.createElement(A.AddressBookMobileSearchBtn,null)),c.default.createElement(b.AddressBookSend,{mainButtonName:this.props.mainButtonName,handleCloseModal:this.props.handleCloseModal}))))}}]),t}(u.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(51)),o=c(n(41)),r=c(n(43)),i=c(n(52)),s=c(n(53)),l=c(n(0)),d=c(n(668)),u=c(n(640));function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"handleStop",value:function(e){var t=e.left,n=e.top;this.props.onStop({left:t,top:n})}},{key:"handleClickOnModal",value:function(){this.props.onMouseDown()}},{key:"render",value:function(){var e=this.props.modalClass;return l.default.createElement(u.default,{contentLabel:"Drag Back Drop"},l.default.createElement(d.default,{onStop:this.handleStop.bind(this),onMouseDown:this.handleClickOnModal.bind(this),handle:".handle-drag",left:this.props.left,top:this.props.top,draggableOff:this.props.draggableOff,className:e,sticky:this.props.sticky,modalWidth:this.props.modalWidth,modalHeight:this.props.modalHeight,style:{left:this.props.left,top:this.props.top}},this.props.children))}}]),t}(l.default.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_modal=void 0;var a,o=m(n(51)),r=m(n(41)),i=m(n(43)),s=m(n(52)),l=m(n(53)),d=n(0),u=m(d),c=n(72),p=n(130),h=(m(n(10)),n(638)),f=n(849);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_modal=(0,c.connect)(function(e){return{searchBy:e.ab.searchBy,local:e.ab.local,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,p.bindActionCreators)({clearSearch:h.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},u.default.createElement("span",null,this.props.local.ADDRESSBOOK_MAIN_NAME," "),u.default.createElement(f.AddressBookCounter,null)):u.default.createElement("div",null,u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS," ",u.default.createElement(f.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookClose=void 0;var a,o=f(n(51)),r=f(n(41)),i=f(n(43)),s=f(n(52)),l=f(n(53)),d=n(0),u=f(d),c=n(72),p=n(130),h=n(638);function f(e){return e&&e.__esModule?e:{default:e}}t.AddressBookClose=(0,c.connect)(function(e){return{cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:h.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleCloseModalLocal=n.handleCloseModalLocal.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleCloseModalLocal",value:function(e){e.preventDefault(),this.props.handleCloseModal(),(0,this.props.actions.closeModal)(),this.props.cancelDummyController&&this.props.cancelDummyController()}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-header-close-modal",onClick:this.handleCloseModalLocal})}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(51)),i=m(n(41)),s=m(n(43)),l=m(n(52)),d=m(n(53)),u=n(0),c=m(u),p=n(7),h=m(n(4)),f=n(635);function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(){var e,n,a,o;(0,i.default)(this,t);for(var s=arguments.length,d=Array(s),u=0;u<s;u++)d[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(d))),a.getEmail=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},c.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})},a.getPhone=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},c.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})},a.getFax=function(e){var t=a.props,n=t.fieldsMask,o=t.viewType;if(-1!==n.indexOf(f.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,h.default)(e[f.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},c.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(o===f.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return c.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})},a.handleClick=function(e){var t=a.props;(0,t.handleClick)(e,t.contact.id)},a.handleDoubleClick=function(e){var t=a.props;(0,t.handleDoubleClick)(e,t.contact.id)},o=n,(0,l.default)(a,o)}return(0,d.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contactClass,n=e.contact,a=e.onMouseDown;return c.default.createElement("div",{className:t,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:a},c.default.createElement("div",{className:"ab-item__icon"},c.default.createElement("img",{alt:"",src:n.picture})),c.default.createElement("div",{className:"ab-item__name"},n.name),c.default.createElement("div",{className:"ab-item-data"},this.getEmail(n),this.getPhone(n),this.getFax(n)))}}]),t}(u.Component),a.propTypes={contact:p.PropTypes.object.isRequired,handleClick:p.PropTypes.func,handleDoubleClick:p.PropTypes.func,onMouseDown:p.PropTypes.func},a.defaultProps={handleClick:null,handleDoubleClick:null,onMouseDown:null},o);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSend=void 0;var a,o=m(n(51)),r=m(n(41)),i=m(n(43)),s=m(n(52)),l=m(n(53)),d=n(0),u=m(d),c=n(72),p=n(130),h=m(n(10)),f=n(638);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookSend=(0,c.connect)(function(e){return{contacts:e.ab.contacts,activeRows:e.ab.activeRows,local:e.ab.local,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null}},function(e){return{actions:(0,p.bindActionCreators)({closeModal:f.closeModal},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.getSelectedContacts=n.getSelectedContacts.bind(n),n.handleContactsSend=n.handleContactsSend.bind(n),n.renderButton=n.renderButton.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"getSelectedContacts",value:function(){return this.props.activeRows.length>0?u.default.createElement("div",{className:"dab-footer__action-wrap-counter"},u.default.createElement("span",null,this.props.activeRows.length)," ",this.props.local.ADDRESSBOOK_CONTACTS_SELECTED):null}},{key:"handleContactsSend",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts)(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}},{key:"renderButton",value:function(){var e=(0,h.default)("g-btn","g-btn-primary","g-btn-sm","btn-send",{disabled:0===this.props.activeRows.length});return this.props.sendContacts?u.default.createElement("button",{className:e,onClick:this.handleContactsSend},this.props.mainButtonName||this.props.local.ADDRESSBOOK_SEND_TO):null}},{key:"render",value:function(){return u.default.createElement("div",{className:"dab-footer__action-wrap"},this.getSelectedContacts(),this.renderButton())}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=l(a),r=l(n(7)),i=l(n(10)),s=l(n(965));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,Object.getPrototypeOf(t).call(this,e));return n.componentDidMount=function(){window.addEventListener("mousedown",n._onWindowClick)},n.componentWillUnmount=function(){window.removeEventListener("mousedown",n._onWindowClick)},n.isActive=function(){return"boolean"==typeof n.props.active?n.props.active:n.state.active},n.hide=function(){n.setState({active:!1}),n.props.onHide&&n.props.onHide()},n.show=function(){n.setState({active:!0}),n.props.onShow&&n.props.onShow()},n.storeRef=function(e){n.elDropdownRef=e},n._onWindowClick=function(e){var t=n.elDropdownRef;e.target!==t&&!t.contains(e.target)&&n.isActive()&&n.hide()},n._onToggleClick=function(e){e.preventDefault(),n.isActive()?n.hide():n.show()},n.render=function(){var e=n.props,t=e.children,r=e.className,l=n.isActive(),d=(0,i.default)("dropdown",r,{"dropdown--active":l}),u=a.Children.map(t,function(e){return e.type===s.default&&(e=(0,a.cloneElement)(e,{onClick:n._onToggleClick})),e});return o.default.createElement("div",{style:n.props.style,className:d,ref:n.storeRef},u)},n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),t}();d.propTypes={className:r.default.string,active:r.default.bool,style:r.default.object,children:r.default.oneOfType([r.default.array.isRequired,r.default.element.isRequired]),onHide:r.default.func,onShow:r.default.func},d.defaultProps={className:""},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(0),r=l(o),i=l(n(7)),s=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=o=d(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.render=function(){var e=o.props,t=e.children,n=e.className,i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]),l=(0,s.default)("dropdown__content",n);return r.default.createElement("div",a({className:l},i),t)},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),t}();u.propTypes={children:i.default.node,className:i.default.string},u.defaultProps={className:""},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePage=void 0;var a,o=R(n(51)),r=R(n(41)),i=R(n(43)),s=R(n(52)),l=R(n(53)),d=n(0),u=R(d),c=n(635),p=n(72),h=R(n(10)),f=R(n(640)),m=n(1075),E=n(1076),g=n(849),_=n(951),v=n(952),S=n(953),y=n(958),T=n(1077),O=n(959),b=n(963),C=n(964),D=n(966),M=n(962),A=n(967),w=n(968);function R(e){return e&&e.__esModule?e:{default:e}}t.SinglePage=(0,p.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,contacts:e.ab.contacts,addEditContact:e.ab.addEditContact,loaded:e.ab.loaded,viewType:e.ab.viewType}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderLoader=n.renderLoader.bind(n),n.generalRender=n.generalRender.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"scrollToTop",value:function(){var e=this.refs.abBody;console.log("scrolledElement",e),e.scrollTop=0}},{key:"renderContentByTypeContent",value:function(e){switch(e){case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return u.default.createElement(S.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case c.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:var t=(0,h.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length});return u.default.createElement("div",{className:t,ref:"abBody"},u.default.createElement("div",{className:"ab-content"},u.default.createElement(y.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,scrollToTop:this.scrollToTop})),u.default.createElement("div",{className:"no-results-icon"}));default:return null}}},{key:"renderDialog",value:function(){return this.props.addEditContact.open?this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement(O.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}):u.default.createElement(f.default,null,u.default.createElement(T.AddressBookModalAddEdit_page,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest})):null}},{key:"renderLoader",value:function(){return this.props.loaded?null:u.default.createElement(w.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"generalRender",value:function(){var e=this.props.mode.type,t=(0,h.default)("myac-main__inner",{"g-wrap-loading":!this.props.loaded});return this.props.viewType===c.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement(E.AddressBookTitle_page_mobile,null),u.default.createElement("div",{className:"ab"},this.renderLoader(),this.renderContentByTypeContent(e)),u.default.createElement("div",{className:"dab-footer"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(b.AddressBookBtnAdd,null),u.default.createElement(C.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(D.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),u.default.createElement(A.AddressBookMobileSearchBtn,null))),u.default.createElement(M.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),this.renderDialog())):u.default.createElement("main",{className:"myac-main myac-main--ab"},u.default.createElement("div",{className:t},u.default.createElement("div",{className:"myac-counter-header clfx"},u.default.createElement(m.AddressBookTitle_page_desktop,null),u.default.createElement(g.AddressBookCounter,null),u.default.createElement(_.AddressBookSearch,null)),u.default.createElement("div",{className:"ab"},u.default.createElement("div",{className:"ab-header"},u.default.createElement("div",{className:"ab-controls"},u.default.createElement(b.AddressBookBtnAdd,null),u.default.createElement(C.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),u.default.createElement(D.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook})),u.default.createElement(v.AddressBookSort,null)),this.renderLoader(),this.renderContentByTypeContent(e)),this.renderDialog()))}},{key:"render",value:function(){return u.default.createElement("div",{className:"main-content"},u.default.createElement("div",{className:"myac-wrap"},u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"myac-container"},this.generalRender()))))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_desktop=void 0;var a,o=p(n(51)),r=p(n(41)),i=p(n(43)),s=p(n(52)),l=p(n(53)),d=n(0),u=p(d),c=n(72);function p(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_desktop=(0,c.connect)(function(e){return{local:e.ab.local}})(a=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"myac-header"},u.default.createElement("h1",{className:"myac-header-title"},this.props.local.ADDRESSBOOK_MAIN_NAME," "))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_mobile=void 0;var a,o=m(n(51)),r=m(n(41)),i=m(n(43)),s=m(n(52)),l=m(n(53)),d=n(0),u=m(d),c=n(72),p=n(849),h=n(130),f=n(638);function m(e){return e&&e.__esModule?e:{default:e}}t.AddressBookTitle_page_mobile=(0,c.connect)(function(e){return{local:e.ab.local,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,h.bindActionCreators)({clearSearch:f.clearSearch},e)}})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?u.default.createElement("div",{className:"dab-header"},u.default.createElement("div",{className:"dab-header-title dab-header-title--default"},this.props.local.ADDRESSBOOK_MAIN_NAME," ",u.default.createElement(p.AddressBookCounter,null))):u.default.createElement("div",{className:"dab-header dab-header--search-results"},u.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS," ",u.default.createElement(p.AddressBookCounter,null)),u.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(d.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_page=void 0;var a,o=O(n(268)),r=O(n(328)),i=O(n(51)),s=O(n(41)),l=O(n(43)),d=O(n(52)),u=O(n(53)),c=n(0),p=O(c),h=n(130),f=n(72),m=O(n(10)),E=n(635),g=n(745),_=n(638),v=n(851),S=(O(v),O(n(960))),y=n(647),T=n(961);function O(e){return e&&e.__esModule?e:{default:e}}t.AddressBookModalAddEdit_page=(0,f.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,h.bindActionCreators)({handleChange:_.handleChange,closeDialog:_.closeDialog,addContact:_.addContact,editContact:_.editContact,handleErrorModal:_.handleErrorModal,handleSavingContact:_.handleSavingContact,handleBlockPoint:_.handleBlockPoint},e)}})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[E.SYSTEM.ADDRESSBOOK_FIELD_NAME,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,E.SYSTEM.ADDRESSBOOK_FIELD_FAX],n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.refs[E.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus(),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)}},{key:"componentWillUnmount",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)}},{key:"onErrorController",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"offErrorController",value:function(){this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"addContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.addContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController()):Number(t.id)>0?o(t):((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,a=this.props.actions,o=a.editContact,r=a.handleErrorModal;(0,a.handleSavingContact)(!0),e?((0,v.handleErrorGenerator)(this.props.local,g.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,y.windowFocus)()},function(){n.offErrorController(),r(!1),(0,y.windowFocus)()}),this.onErrorController()):o(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,y.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,y.windowFocus)()}},{key:"handleCtrlA",value:function(){-1!==this.fields.indexOf(document.activeElement.name)&&document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),a=(0,r.default)({selectionStart:t.selectionStart});if(-1!==this.fields.indexOf(t.name)&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart;else{var i=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,o.default)(n.slice(0,t.selectionStart)),(0,o.default)(n.slice(t.selectionStart+i))).join(""),t.selectionStart=a.selectionStart,t.selectionEnd=a.selectionStart}this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,a=t.handleBlockPoint;n(),a(!0),(0,y.windowFocus)(),setTimeout(function(){a(!1)},E.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=e.target.value,a=void 0;switch(t){case E.SYSTEM.ADDRESSBOOK_FIELD_NAME:a=E.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(n);break;case E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:a=(0,T.validateEmail)(n);break;default:a=E.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(n)}a=0===n.length||a,(0,this.props.actions.handleChange)(n,t,a)}},{key:"handleSaveContact",value:function(e){(e.preventDefault(),this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&(this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished&&((0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,y.windowFocus)()))}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===E.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.name}),n=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.email}),a=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.phone}),o=(0,m.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.fax}),r=(0,m.default)("btn -sm -orange",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)}),i=S.default.defaultInputMaxLength;return p.default.createElement("div",{className:"modal-container"},p.default.createElement("header",{className:"modal-header"},p.default.createElement("span",{className:"modal-header__title"},this.renderTitle()),p.default.createElement("i",{className:"close-modal",onClick:this.handleCloseDialog})),p.default.createElement("section",{className:"modal-body"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"full_name",className:"myac-label-icon i i-user"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:E.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:t,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_NAME)},maxLength:i})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"email_address",className:"myac-label-icon i i-email"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:n,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)},maxLength:i})),p.default.createElement("div",{className:"form-group form-group--half-cols"},p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"phone_number",className:"myac-label-icon i i-phone"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:E.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:a,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),p.default.createElement("div",{className:"form-group"},p.default.createElement("label",{for:"fax_number",className:"myac-label-icon i i-fax"}),p.default.createElement("input",{ref:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:E.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:o,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,E.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),p.default.createElement("div",{className:"modal-actions-btns text-right"},p.default.createElement("button",{type:"button",className:"btn -sm -light-gray",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),p.default.createElement("button",{type:"button",className:r,onClick:this.handleSaveContact},this.renderButtonName()))))}}]),t}(c.Component))||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1079)),o=r(n(1080));function r(e){return e&&e.__esModule?e:{default:e}}t.default={EnterEscapeController:a.default,AddressBookController:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(51)),o=u(n(41)),r=u(n(52)),i=u(n(53)),s=u(n(970)),l=n(715),d=n(747);function u(e){return e&&e.__esModule?e:{default:e}}var c=[13,27],p=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleKeyUp=function(e){switch(e.keyCode){case 13:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ESCAPE,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())},n.handleKeyDown=function(e){c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())},n.handleClick=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_CLICK,e))},n.handleTouchStart=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_TOUCH_START,e))},n.handleScroll=function(e){n.dispatch((0,d.emit)(l.SYSTEM.EVENT_SCROLL,e))},n.dispatch=e,n.TAG=l.SYSTEM.ENTER_ESCAPE_CONTROLLER,n}return(0,i.default)(t,e),t}(s.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(51)),o=u(n(41)),r=u(n(52)),i=u(n(53)),s=u(n(970)),l=n(715),d=n(747);function u(e){return e&&e.__esModule?e:{default:e}}var c=[9,13,27,38,40,46],p=[8,65],h=function(e){function t(e){(0,o.default)(this,t);var n=(0,r.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleKeyUp=function(e){switch(e.keyCode){case 9:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_TAB,e));break;case 13:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_ESCAPE,e));break;case 38:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_UP,e));break;case 40:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DOWN,e));break;case 46:n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DELETE,e));break;case 65:e.ctrlKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_CTRL_A,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),p.indexOf(e.keyCode)>=0&&e.ctrlKey&&(e.stopPropagation(),e.preventDefault())},n.handleKeyDown=function(e){switch(e.keyCode){case 65:e.metaKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_CTRL_A,e));break;case 8:e.metaKey&&n.dispatch((0,d.emit)(l.SYSTEM.EVENT_PRESS_DELETE,e))}c.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),p.indexOf(e.keyCode)>=0&&(e.ctrlKey||e.metaKey)&&(e.stopPropagation(),e.preventDefault())},n.dispatch=e,n.TAG=l.SYSTEM.ADDRESS_BOOK_CONTROLLER,n}return(0,i.default)(t,e),t}(s.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookButton=void 0;var a=c(n(51)),o=c(n(41)),r=c(n(43)),i=c(n(52)),s=c(n(53)),l=n(0),d=c(l),u=c(n(7));n(72);function c(e){return e&&e.__esModule?e:{default:e}}(t.AddressBookButton=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.handleOpenModalLocal=n.handleOpenModalLocal.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"handleOpenModalLocal",value:function(){this.props.handleOpenModal()}},{key:"render",value:function(){return d.default.createElement("button",{className:"g-btn g-btn-secondary g-btn-sm g-btn-auto-width",onClick:this.handleOpenModalLocal},"AddressBook")}}]),t}(l.Component)).propTypes={handleOpenModal:u.default.func}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(109)),o=i(n(268));t.create=function(e,t){return(0,r.compose)(r.applyMiddleware.apply(void 0,(0,o.default)(t)),s&&"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e})(r.createStore)((0,r.combineReducers)(e),{})};var r=n(130);function i(e){return e&&e.__esModule?e:{default:e}}var s=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(328)),o=r(n(268));function r(e){return e&&e.__esModule?e:{default:e}}function i(){return{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0}}function s(){return{name:!0,email:!0,phone:!0,fax:!0}}function l(e,t,n){var a=e.map(function(e){return e.id}),r=t.map(function(e){return a.indexOf(e)});return Math[n].apply(Math,(0,o.default)(r))}function d(e,t,n){var o=e.find(function(e){return e.id===t[0]});return(0,a.default)({},o,{actionType:n,open:!0})}function u(e,t,n){var r=(0,a.default)({},e,{id:t});return delete r.open,delete r.actionType,[].concat((0,o.default)(n),[r])}function c(e,t,n){var a=[].concat((0,o.default)(e)),r=a[a.length-1],i=0;if(t!==r)for(var s=n.length;s--;){var l=n[s].id;l!==r&&l!==t||(1===i?(!e.indexOf(l)>=0&&a.push(l),i=2):i=1),1===i&&!e.indexOf(l)>=0&&a.push(l)}return a}function p(e,t){return e.filter(function(e){return-1===t.indexOf(e.id)})}function h(e,t){var n=(0,a.default)({},e),r=t.findIndex(function(e){return e.id===n.id});return delete n.open,delete n.actionType,[].concat((0,o.default)(t.slice(0,r)),[n],(0,o.default)(t.slice(r+1)))}function f(e,t){return e.filter(function(e){return-1!==t.indexOf(e.id)}).map(function(e){return e.id})}function m(e,t){return!(null!=e&&!isNaN(Number(e))&&Number(e)>0)||t.length<Number(e)}function E(e){return null!=e&&!isNaN(Number(e))&&Number(e)>0}function g(e,t){return t.length<Number(e)}function _(e,t,n,a,o){var r=n.map(function(e){return e.id}),i=r.indexOf(a),s=r.indexOf(o[o.length-1]);return e=r.filter(function(t){return-1!==e.indexOf(t)}),e=i>=s?e.length>t?e.slice(0,t):e:e.length>t?e.slice(e.length-t,t+1):e}t.makeInitialForm=i,t.makeInitialValidation=s,t.findActivePlace=l,t.makeEditForm=d,t.addContact=u,t.selectedListWithShift=c,t.deleteSelected=p,t.updateContact=h,t.filterContacts=function(e,t,n,a){var r=-1===n.indexOf(a)?[a].concat((0,o.default)(n)):[].concat((0,o.default)(n)),i=t.toLowerCase();return e.filter(function(e){return r.map(function(t){return e[t]}).find(function(e){if(e)return-1!==e.toLowerCase().indexOf(i)})})},t.filterActiveRows=f,t.acceptCheckSelectMax=m,t.acceptSelectMax=E,t.checkSelectMax=g,t.activeListMax=_,t.default={makeInitialForm:i,makeInitialValidation:s,findActivePlace:l,makeEditForm:d,addContact:u,selectedListWithShift:c,deleteSelected:p,updateContact:h,filterActiveRows:f,acceptSelectMax:E,acceptCheckSelectMax:m,checkSelectMax:g,activeListMax:_}},function(e,t,n){var a;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var o=function(e){var t=[],n=/\[\]$/,a=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},r=function(e,i){var s,l,d;if(e)if(a(i))for(s=0,l=i.length;s<l;s++)n.test(e)?o(e,i[s]):r(e+"["+("object"==typeof i[s]?s:"")+"]",i[s]);else if(i&&"[object Object]"===String(i))for(d in i)r(e+"["+d+"]",i[d]);else o(e,i);else if(a(i))for(s=0,l=i.length;s<l;s++)o(i[s].name,i[s].value);else for(d in i)r(d,i[d]);return t};return r("",e).join("&").replace(/%20/g,"+")};"object"==typeof e.exports?e.exports=o:void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MESSAGE_MANAGER_HOST_PRODUCTION=t.MESSAGE_MANAGER_HOST_DEVELOPMENT=t.WsService=void 0;var a,o=p(n(51)),r=p(n(41)),i=p(n(52)),s=p(n(53)),l=n(228),d=p(n(1086)),u=n(1090),c=n(1091);function p(e){return e&&e.__esModule?e:{default:e}}t.WsService=(0,d.default)(c.parseInput,c.parseMessage)(a=function(e){function t(e,n,a){(0,r.default)(this,t);var s=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return s.host=e,s.port=n,s.userId=a,s.publisher=null,s}return(0,s.default)(t,e),t}(l.EventEmitter))||a;t.MESSAGE_MANAGER_HOST_DEVELOPMENT=u.MESSAGE_MANAGER_HOST_DEVELOPMENT,t.MESSAGE_MANAGER_HOST_PRODUCTION=u.MESSAGE_MANAGER_HOST_PRODUCTION},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(132)),o=i(n(1087)),r=n(973);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return function(n){return(0,a.default)(n.prototype,function(e,t){return{connect:function(){var t=this.host,n=this.port,a=this.userId;this.publisher=new o.default(e(t,n),a),this.publisher.subscribe(this)},send:function(e){return this.publisher.send(e)},onOpen:function(){this.emit(r.CONNECT)},onMessage:function(e){var n=t(e);return this.emit(n.type,n)},onClose:function(e){this.emit(r.CLOSE,e)},onError:function(e){this.emit(r.ERROR,e)},disconnect:function(){this.publisher.unsubscribe(this)}}}(e,t),n.prototype),n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(973),o=n(1088),r=n(1089);e.MessagePublishers=e.MessagePublishers||{};var i=e.WebSocket.OPEN,s=function(e){return function(t){return!(!e.ws||e.ws.readyState!==i)&&(e.ws.send((0,r.stringify)(t)),!0)}},l=function(e){return function(){e.connected=!0,s(e)((0,o.authMessage)(e.userId)),function(e,t){e.pingId=setInterval(s(e).bind(null,o.pingMessage),t)}(e,a.PING_DELAY),e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.open))}},d=function(t){return function(n){!function(e){clearInterval(e.pingId),e.pingId=null}(t),delete t.ws,t.ws=null,t.connected=!1,e.MessagePublishers[t.id]=null,t.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.close,n))}},u=function(e){var t=e.socketUrl;":"===t[t.length-1]&&(t=t.slice(0,-1));var n=new WebSocket(t);e.ws=n,n.onopen=l(e),n.onmessage=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.message,t))}}(e),n.onclose=d(e),n.onerror=function(e){return function(t){return e.subscribers.forEach((0,r.callMethod)(a.SUBSCRIBER_METHODS.error,t))}}(e)},c=function(e){return function(t){var n=(0,r.include)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected?(0,r.callMethod)(a.SUBSCRIBER_METHODS.open)(t):null===e.ws&&u(e))}},p=function(e){return function(t){var n=(0,r.exclude)(e.subscribers,t);n!==e.subscribers&&(e.subscribers=n,e.connected&&(0,r.callMethod)(a.SUBSCRIBER_METHODS.close)(t),0===e.subscribers.length&&e.ws&&function(e){e.ws.close(),e.connected=!1}(e))}},h=function(e){return function(){return e.subscribers&&e.subscribers.length||0}},f=(0,r.compose2)(function(e){return{subscribe:c(e),unsubscribe:p(e),send:s(e),subscribersCount:h(e)}},function(e,t,n){return{id:e,socketUrl:t,userId:n,ws:null,connected:!1,subscribers:null,pingId:null}}),m=function(t,n,a){var o=f(t,n,a);return e.MessagePublishers[t]=o,o},E=function(e,t){return String(t)+"::"+String(e.toLowerCase())};t.default=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E(t,n);return e.MessagePublishers[a]||m(a,t,n)}}).call(this,n(222))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.authMessage=function(e){return{auth:{userId:e}}},t.pingMessage="{}"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose2=t.stringify=t.callMethod=t.exclude=t.include=void 0;var a,o=n(227),r=(a=o)&&a.__esModule?a:{default:a};t.include=function(e,t){return void 0===t||e&&e.includes(t)?e:e&&e.concat(t)||[t]},t.exclude=function(e,t){var n=e.indexOf(t);return n<0?e:e.slice(0,n).concat(e.slice(n+1))};var i=function(e,t,n){return"function"==typeof e?e.apply(t,n):void 0};t.callMethod=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){try{return i(t[e],t,n)}catch(o){var a;(a=console).error.apply(a,["Failed to call method "+String(e)+" of",t,"with args"].concat(n,["Error raised",o]))}}},t.stringify=function(e){return"string"!=typeof e?(0,r.default)(e):e},t.compose2=function(e,t){return function(){return e(t.apply(void 0,arguments))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_MANAGER_HOST_DEVELOPMENT="wss://wsmm_dev.pdffiller.com",t.MESSAGE_MANAGER_HOST_PRODUCTION="wss://wsmm.pdffiller.com"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=function(e,t){var n=e.match(/([^:]+[:][^:]+)[:]?([^:]*)/),a=n[1].trim(),o=n[2]&&n[2].trim()||t&&t.trim();/^wss[:][/][/]/.test(a)||console.warn("WsService: Host is not wss:// address: ",a);o&&/[^\d]/.test(o)&&console.warn("WsService: Port is not a number value: ",o);return a+(o?":"+String(o):"")},t.parseMessage=function(e){var t=void 0;try{t=JSON.parse(e.data)}catch(n){t={group:"SYSTEM",type:"ALERT",message:e.data}}t.group||(t.group="SYSTEM");t.type||t.message||(t.message=t.type,t.type="ALERT");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiRestMediator=void 0;var a=l(n(109)),o=l(n(41)),r=l(n(43)),i=n(635),s=l(n(180));function l(e){return e&&e.__esModule?e:{default:e}}t.apiRestMediator=function(){function e(t){(0,o.default)(this,e),this.pdffiller=window.pdffiller,this.lang=(0,a.default)(this.pdffiller)!==i.SYSTEM.ADDRESSBOOK_UNDEFINED&&null!==this.pdffiller&&this.pdffiller.lang?this.pdffiller.lang:"en",this.apiRest=new s.default(i.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK,{appKey:t.appKey,userId:t.userCredentials&&t.userCredentials.userId||window.user&&window.user.userId,token:t.userCredentials&&t.userCredentials.token||window.user&&window.user.token,lang:this.lang,baseUrl:t.baseUrl}),this.apiProps=this.apiRest.getParameters(),this.handleGetContacts=this.handleGetContacts.bind(this),this.handleAddContact=this.handleAddContact.bind(this),this.handleEditContact=this.handleEditContact.bind(this),this.handleDeleteContact=this.handleDeleteContact.bind(this),this.handleDeleteAllContacts=this.handleDeleteAllContacts.bind(this),this.handleImportGmail=this.handleImportGmail.bind(this),this.handleImportYahoo=this.handleImportYahoo.bind(this),this.handleImportHotmail=this.handleImportHotmail.bind(this),this.handleImportOutlook=this.handleImportOutlook.bind(this),this.getApiProps=this.getApiProps.bind(this)}return(0,r.default)(e,[{key:"handleGetContacts",value:function(e){this.apiRest.getContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleAddContact",value:function(e,t){this.apiRest.addContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleEditContact",value:function(e,t){this.apiRest.editContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteContact",value:function(e,t){this.apiRest.deleteContact(e,function(e,n){t&&(void 0===t?"undefined":(0,a.default)(t))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteAllContacts",value:function(e){this.apiRest.deleteAllContacts(function(t,n){e&&(void 0===e?"undefined":(0,a.default)(e))===i.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleImportGmail",value:function(){return this.apiRest.importGmail()}},{key:"handleImportYahoo",value:function(){return this.apiRest.importYahoo()}},{key:"handleImportHotmail",value:function(){return this.apiRest.importHotmail()}},{key:"handleImportOutlook",value:function(){return this.apiRest.importOutlook()}},{key:"getApiProps",value:function(){return this.apiProps}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.im=void 0;var a,o=n(328),r=(a=o)&&a.__esModule?a:{default:a},i=n(748),s=n(633);var l={uploadedPercent:0,webcamEnabled:!0,dropzoneConfig:s.DROPZONE_CONFIG,qrUrl:"",mobileSignatureMethod:"",phoneNumber:"",email:"",addressBookApiRest:null,drawConfig:{canUndo:!1,canRedo:!1,color:s.DRAW_OPTIONS.COLORS.BLACK,lineWidth:s.DRAW_OPTIONS.THICKNESS.XSMALL},mode:{type:s.MODE_TYPES.INITIAL},modeSignature:{type:s.MODE_TYPES.SM_GALLERY,loadState:!1,showResend:!1,uploaderType:null},originalImage:"",imageManagerError:"",signatureManagerError:"",signature:{},initialSignature:{}};t.im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i.actionTypes.INITIAL:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.INITIAL}),uploadedPercent:0});case i.actionTypes.EDIT:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.EDIT})});case i.actionTypes.UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.UPLOADER})});case i.actionTypes.MOBILE_UPLOADER:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.MOBILE_UPLOADER,targetFiles:t.targetFiles})});case i.actionTypes.UPLOADING:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.UPLOADING}),uploadedPercent:0});case i.actionTypes.CAPTURE:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.CAPTURE})});case i.actionTypes.SET_UPLOADED_PERCENT:return(0,r.default)({},e,{uploadedPercent:Math.max(t.percent,e.uploadedPercent)});case i.actionTypes.DISABLE_WEBCAM:return(0,r.default)({},e,{webcamEnabled:!1});case i.actionTypes.ERROR_SET:return(0,r.default)({},e,{mode:(0,r.default)({},e.mode,{type:s.MODE_TYPES.INITIAL}),imageManagerError:t.error});case i.actionTypes.ERRORS_CLEAN:return(0,r.default)({},e,{imageManagerError:"",signatureManagerError:""});case i.actionTypes.CLOSE_SIGNATURE:return(0,r.default)({},e,{phoneNumber:"",email:""});case i.actionTypes.SM_INITIAL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_INITIAL})});case i.actionTypes.SM_TEXT_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_TEXT_EDIT})});case i.actionTypes.SM_CURVE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_CURVE_EDIT})});case i.actionTypes.SM_IMAGE_EDIT:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_IMAGE_EDIT})});case i.actionTypes.SM_SET_DRAW_CONFIG:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.config)});case i.actionTypes.SM_TYPE_SIGNATURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_TYPE_SIGNATURE})});case i.actionTypes.SM_GALLERY:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_GALLERY,loadState:!1}),signature:{}});case i.actionTypes.SM_QR:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_QR})});case i.actionTypes.SM_SMS:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_SMS})});case i.actionTypes.SM_EMAIL:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EMAIL})});case i.actionTypes.SM_DRAW:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_DRAW})});case i.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:return(0,r.default)({},e,{drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SIGNATURE_SAVE:return(0,r.default)({},e,{signature:t.signature,drawConfig:(0,r.default)({},e.drawConfig,t.drawConfig)});case i.actionTypes.SM_SET_INITIAL_SIGNATURE:return(0,r.default)({},e,{signature:t.signature,initialSignature:t.signature});case i.actionTypes.SM_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_UPLOADER,uploaderType:s.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_MOBILE_UPLOADER:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_MOBILE_UPLOADER,uploaderType:s.MODE_TYPES.SM_UPLOADER})});case i.actionTypes.SM_SET_ORIGINAL_IMAGE:return(0,r.default)({},e,{originalImage:t.image});case i.actionTypes.SM_UPLOADING:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_UPLOADING}),uploadedPercent:0});case i.actionTypes.SM_CAPTURE:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_CAPTURE,uploaderType:s.MODE_TYPES.SM_CAPTURE})});case i.actionTypes.SM_MOBILE_SIGN_LOADING:var n=e.mobileSignatureMethod!==s.MODE_TYPES.SM_QR;return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_MOBILE_SIGN_LOADING,loadState:!0,showResend:n})});case i.actionTypes.SM_SET_QR_URL:return(0,r.default)({},e,{qrUrl:t.url});case i.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD:return(0,r.default)({},e,{mobileSignatureMethod:t.method});case i.actionTypes.SM_SAVE_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.number});case i.actionTypes.SM_SAVE_EMAIL:return(0,r.default)({},e,{email:t.email});case i.actionTypes.SM_MOBILE_SIGNATURE_RESEND:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:e.mobileSignatureMethod,loadState:!1})});case i.actionTypes.SM_GET_CONTACT_EMAIL:return(0,r.default)({},e,{email:t.contact.email});case i.actionTypes.SM_GET_CONTACT_PHONE_NUMBER:return(0,r.default)({},e,{phoneNumber:t.contact.phone.replace(/[^+0-9]/g,"")});case i.actionTypes.SM_SET_ADDRESSBOOK_API_REST:return(0,r.default)({},e,{addressBookApiRest:t.apiRest});case i.actionTypes.SM_EDITOR_PREVIEW_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EDITOR_PREVIEW})});case i.actionTypes.SM_EDITOR_OPEN:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_EDITOR})});case i.actionTypes.SM_ERROR_SET:return(0,r.default)({},e,{modeSignature:(0,r.default)({},e.modeSignature,{type:s.MODE_TYPES.SM_GALLERY,loadState:!1}),signatureManagerError:t.error});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.imageManagerLocale={backButton:"Back",edit:{header:"Edit Your Image"},uploading:{header:"Uploading...",text:"Uploading an Image"},gallery:{header:"Image Wizard",loadingImage:"Loading an image",loadingImages:"Loading images",emptyGallery:{title:"You do not have any saved Images",text:"To add your image, please use the options below."},footerDesktop:{uploaderButton:{title:"Upload Your Image",text:"Use this option to upload an image from your computer."},captureButton:{title:"Capture Your Image",text:"Easily capture a high quality image using your webcam."}},footerMobile:{uploaderButton:{title:"Upload Your Image",text:"Upload an image from your mobile device or tablet."}}},capture:{header:"Capture Your Image",text:"The program identifies your computer’s camera, and you can see a live preview of the image that you can use, and decide when to capture an image.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your image to the Image Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, max file size:",button:"Browse Your Images"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format you’re trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",manyFiles:"Multiple images have been selected. Please select one image and try again"}}},t.signatureManagerLocale={backButton:"Back",poweredBy:"Powered by",footerText:"SignNow is an award-winning e-signature solution known for its easy-to-use and comprehensive toolkit.",uploading:{header:"Uploading...",text:"Uploading an Image",awaitingText:"Awaiting Signature...",resendButton:"Resend"},gallery:{header:"Signature Wizard",headerSignNow:"SignNow Signature Wizard",loadingSignatures:"Loading signatures",loadingImage:"Loading an image",mainButton:"Add New Signature"},methods:{header:"Signature Wizard",headerSignNow:"SignNow Signature Wizard",preview:{title:"type",text:"<b>Type</b> your full name below, and click <b>Sign</b> to proceed. Your signature will appear in a handwritten font style and ready for use.",button:"sign",placeholder:"John Smith"},list:{draw:{title:"Draw",text:"Easily draw your signature using the mouse or trackpad.",titleMobile:"Draw",textMobile:"Easily draw your signature right on your mobile device or tablet."},upload:{title:"Upload",text:"Upload the image of your signature from a computer.",titleMobile:"UPLOAD OR CAPTURE",textMobile:"Upload or capture your signature from any mobile device and tablet."},capture:{title:"Capture",text:"Allow the access to your camera and take a photo of your signature."},qr:{title:"Scan a QR Code",text:"Scan a QR Code to draw your signature on your mobile device."},notarize:{title:"NOTARIZE YOUR DOCUMENT",text:"Legally notarize your documents online in less than 15 minutes."},sms:{title:"Use Mobile via SMS",text:"Get a link via SMS and easily draw a signature right on your mobile device."},email:{title:"Use Mobile via Email",text:"Get a link via Email and easily draw a signature right on your mobile device."}}},draw:{header:"Draw Your Signature",text:"Draw your signature below, use the toolbar to make any desired changes, then click Save and Use to continue",cleanButton:"Clean",doneButton:"Done",saveButton:"Save",saveAndUseButton:"Save and Use",useSignature:"Use Signature"},edit:{header:"Edit Your Signature"},capture:{header:"Capture Your Image",text:"Sign the paper and show to the camera, so your signature fits inside the box and click Take. Your signature will appear in the Signature Wizard and ready for use.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your signature to the Signature Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, Max file size:",button:"Browse Your Images"}},qr:{header:"Scan a QR Code <span>via mobile</span>",text:"Scanning this QR Code will open a new screen on your mobile device where you can easily draw your signature.",listTitle:"USAGE:",list:[{id:"scanQr",text:"Scan a QR Code."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"clickDone",text:"Click Done to save your signature."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},sms:{header:"Use Mobile via SMS",text:"Using Mobile Via SMS allows you to get a link via SMS and easily draw a signature right on your mobile device.",listTitle:"USAGE:",placeholder:"(999) 999-9999",sendButton:"Send",list:[{id:"enterNumber",text:"Enter your phone number."},{id:"findMessage",text:"Find a text message from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},email:{header:"Use Mobile via Email",text:"Using Mobile Via Email allows you to get a link via Email on your mobile device and easily draw your signature right there.",listTitle:"USAGE:",placeholder:"Email",sendButton:"Send",addressBookMainButton:"Send to",list:[{id:"enterEmail",text:"Enter your email address."},{id:"findEmail",text:"Find an email from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},type:{header:"Signature Wizard",text:"Preview",placeholder:"John Smith",saveAndUseButton:"Save and Use",saveButton:"Save"},editorPreview:{title:"We automatically cleaned up your signature. What do you think?",originalImageLabel:"Before",editedImageLabel:"After",list:{saveAndUse:"This signature looks fine, save and use.",needClean:"This signature looks ok, but let me clean it up some more.",cleanManually:"This is no good, I will clean it up manually."},doneButton:"Do it!",saveButton:"Save",saveAndUseButton:"Save and Use"},editor:{toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFiles:"The format you’re trying to upload is not supported.<br> Select a .jpeg, .gif or .png file and try your upload again.",manyFiles:"Multiple images have been selected. Please select one image and try again"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODES=void 0;var a=n(716);t.MODES={INITIAL:{content:{type:a.MODE_TYPES.INITIAL},footer:{type:a.MODE_TYPES.BIG_FOOTER,btnIcons:{uploader:"sign-m-svg-icon-upload",capture:"sign-m-svg-icon-camera"}}},EDIT:{content:{type:a.MODE_TYPES.EDIT}},UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.UPLOAD},footer:{type:a.MODE_TYPES.UPLOAD}},MOBILE_UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.MOBILE_UPLOAD},footer:{type:a.MODE_TYPES.MOBILE_UPLOAD}},UPLOADING:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{type:a.MODE_TYPES.UPLOADING}},CAPTURE:{content:{type:a.MODE_TYPES.CAPTURE}},SM_INITIAL:{type:a.MODE_TYPES.SM_INITIAL,mods:"sign-m--vanilla sign-m--hide-mobile-footer"},SM_TEXT_EDIT:{type:a.MODE_TYPES.SM_TEXT_EDIT,mods:"sign-m--mobile-draw"},SM_CURVE_EDIT:{type:a.MODE_TYPES.SM_CURVE_EDIT,mods:"sign-m--mobile-draw"},SM_IMAGE_EDIT:{type:a.MODE_TYPES.SM_IMAGE_EDIT,mods:"sign-m--mobile-draw"},SM_CHOOSE_SIGNATURE:{type:a.MODE_TYPES.SM_CHOOSE_SIGNATURE,mods:"sign-m--hide-mobile-footer"},SM_TYPE_SIGNATURE:{type:a.MODE_TYPES.SM_TYPE_SIGNATURE},SM_GALLERY:{type:a.MODE_TYPES.SM_GALLERY},SM_QR:{type:a.MODE_TYPES.SM_QR},SM_SMS:{type:a.MODE_TYPES.SM_SMS,mods:"sign-m--hide-mobile-footer"},SM_EMAIL:{type:a.MODE_TYPES.SM_EMAIL,mods:"sign-m--hide-mobile-footer"},SM_DRAW:{type:a.MODE_TYPES.SM_DRAW,mods:"sign-m--mobile-draw"},SM_MOBILE_SIGN_LOADING:{type:a.MODE_TYPES.SM_MOBILE_SIGN_LOADING,mods:"g-wrap-loading"},SM_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_UPLOADER},SM_MOBILE_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:a.MODE_TYPES.SM_MOBILE_UPLOADER},SM_UPLOADING:{type:a.MODE_TYPES.SM_UPLOADING},SM_CAPTURE:{type:a.MODE_TYPES.SM_CAPTURE},SM_EDITOR_PREVIEW:{type:a.MODE_TYPES.SM_EDITOR_PREVIEW},SM_EDITOR:{type:a.MODE_TYPES.SM_EDITOR}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLORS:{RED:"FF0000",BLUE:"0000FF",BLACK:"000000"},THICKNESS:{XSMALL:2,SMALL:4,MEDIUM:6,LARGE:8,XLARGE:10}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SM_EMAIL:"https://dev5_static.pdffiller.com/img/signature-manager/signature-email.png",SM_QR:"http://dev5_static.pdffiller.com/img/signature-manager/signature-qr.svg",SM_SMS:"https://dev5_static.pdffiller.com/img/signature-manager/signature-sms.png"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:200,width:200}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESKTOP_TYPE:"desktop",TABLET_TYPE:"tablet",PHONE_TYPE:"phone"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxFileSize:"15 Mb",allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif"],imageDimensions:{width:640,height:480}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IMAGE_MANAGER:"ImageManager",SIGNATURE_MANAGER:"SignatureManager"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(716),r=n(974),i=(a=r)&&a.__esModule?a:{default:a};var s=[{icon:"sign-m-svg-icon-draw",id:"draw",typeDispatch:o.MODE_TYPES.SM_DRAW,subType:i.default.curve},{icon:"sign-m-svg-icon-upload",id:"upload",typeDispatch:o.MODE_TYPES.SM_UPLOADER,subType:i.default.image},{icon:"sign-m-svg-icon-camera",id:"capture",typeDispatch:o.MODE_TYPES.SM_CAPTURE,subType:i.default.image},{strip:"fast",icon:"sign-m-svg-icon-qr-mobile",id:"qr",typeDispatch:o.MODE_TYPES.SM_QR,subType:i.default.curve},{strip:"new",icon:"sign-m-svg-icon-notarize",id:"notarize",typeDispatch:o.MODE_TYPES.SM_NOTARIZE,subType:"",experiment:!0},{icon:"sign-m-svg-icon-sms-mobile",id:"sms",typeDispatch:o.MODE_TYPES.SM_SMS,subType:i.default.curve},{icon:"sign-m-svg-icon-email-mobile",id:"email",typeDispatch:o.MODE_TYPES.SM_EMAIL,subType:i.default.curve}];t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=void 0;var a=n(633),o={images:[{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"}],signatures:[{id:123423,subType:a.SUB_TYPES.curve,curve:[{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,10,20,20]},{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,40,20,70]}]},{id:89897812,subType:a.SUB_TYPES.image,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{id:45645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:12,text:"A. N."},{id:4531645,subType:a.SUB_TYPES.initials,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Initials"},{id:91827,subType:a.SUB_TYPES.text,fontFamily:a.FONTS.PETRA.original,fontSize:50,text:"Long Text"}]};t.ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={browser:"Chrome@52.0.2743.82",browserName:"Chrome",os:"GNU/Linux",osVersion:"",type:n(633).RENDER.DESKTOP_TYPE};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(n(109)),o=c(n(328)),r=c(n(180)),i=n(155),s=n(748),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),d=n(633),u=n(657);function c(e){return e&&e.__esModule?e:{default:e}}var p=void 0;t.default=function(e){return function(t){return function(n){switch(n.type){case s.actionTypes.INITIAL:e.dispatch((0,i.setLocale)("imageManager",d.LOCALE.imageManagerLocale)),e.dispatch((0,i.setLocale)("signatureManager",d.LOCALE.signatureManagerLocale));break;case s.actionTypes.API_REST_SET:p=new r.default("ImageSignatureManager",n.config);break;case s.actionTypes.SM_LAUNCH_UPLOAD_IMAGE:if(p){var c=n.dimensions,h=n.callback,f=(0,u.getActualImageAndApplyCropIfNeed)(e,n.data);e.dispatch(l.smUploading()),p.upload(f,function(t,n){if(n){var a=(0,o.default)({},n,c);h(null,a)}else e.dispatch(l.smSetError(t))},function(t){return e.dispatch(l.setUploadedPercent(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.LAUNCH_UPLOAD_IMAGE:if(p){var m=n.dimensions,E=n.callback,g=(0,u.getActualImageAndApplyCropIfNeed)(e,n.data);e.dispatch(l.uploading()),p.upload(g,function(t,n){if(n){var a=(0,o.default)({},n,m);E(null,a)}else e.dispatch(l.setError(t))},function(t){return e.dispatch(l.setUploadedPercent(t))})}break;case s.actionTypes.SM_GET_QR_URL:p?p.getQrUrl(function(t,n){n?(n=n.replace("#","%23"),e.dispatch(l.setQrUrl("https://chart.googleapis.com/chart?chs="+d.QR_PROPS.height+"x"+d.QR_PROPS.width+"&cht=qr&chl="+n))):e.dispatch(l.smSetError(t))}):e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.SM_SEND_PHONE_NUMBER:if(p){var _=e.getState().im.phoneNumber;p.sendPhoneNumber(_,function(t){t&&e.dispatch(l.smSetError(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))));break;case s.actionTypes.SM_SEND_EMAIL:if(p){var v=e.getState().im.email;p.sendEmail(v,function(t){t&&e.dispatch(l.smSetError(t))})}else e.dispatch(l.smSetError("apiRest is "+(void 0===p?"undefined":(0,a.default)(p))))}return t(n)}}}},function(e,t,n){"use strict";e.exports=n(1107)},function(e,t,n){"use strict";var a=n(1108),o=n(1112),r=n(1120);e.exports={initialize:o,update:r,destroy:a}},function(e,t,n){"use strict";var a=n(658),o=n(670),r=n(648);e.exports=function(e){var t=r.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),a.removePsClasses(e),r.remove(e))}},function(e,t,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t,n){"use strict";var a=function(e){this.element=e,this.events={}};a.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},a.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(a){return!(!n||a===t)||(this.element.removeEventListener(e,a,!1),!1)},this)},a.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new a(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},o.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,n){var a=this.eventElement(e),o=function(e){a.unbind(t,o),n(e)};a.bind(t,o)},e.exports=o},function(e,t,n){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,n){"use strict";var a=n(658),o=n(749),r=n(648),i=n(659),s={"click-rail":n(1113),"drag-scrollbar":n(1114),keyboard:n(1115),wheel:n(1116),touch:n(1117),selection:n(1118)},l=n(1119);e.exports=function(e,t){t="object"==typeof t?t:{},e.id="ps-"+Date.now(),o.add(e,"ps-container");var n=r.add(e);return n.settings=a.extend(n.settings,t),o.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){s[t](e)}),l(e),i(e),e.id}},function(e,t,n){"use strict";var a=n(648),o=n(659),r=n(664);e.exports=function(e){!function(e,t){function n(e){return e.getBoundingClientRect()}var a=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",a),t.event.bind(t.scrollbarYRail,"click",function(a){var i=a.pageY-window.pageYOffset-n(t.scrollbarYRail).top>t.scrollbarYTop?1:-1;r(e,"top",e.scrollTop+i*t.containerHeight),o(e),a.stopPropagation()}),t.event.bind(t.scrollbarX,"click",a),t.event.bind(t.scrollbarXRail,"click",function(a){var i=a.pageX-window.pageXOffset-n(t.scrollbarXRail).left>t.scrollbarXLeft?1:-1;r(e,"left",e.scrollLeft+i*t.containerWidth),o(e),a.stopPropagation()})}(e,a.get(e))}},function(e,t,n){"use strict";var a=n(658),o=n(670),r=n(648),i=n(659),s=n(664);function l(e,t){var n=null,r=null;var l=function(o){!function(o){var r=n+o*t.railXRatio,i=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=r<0?0:r>i?i:r;var l=a.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;s(e,"left",l)}(o.pageX-r),i(e),o.stopPropagation(),o.preventDefault()},d=function(){a.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarX,"mousedown",function(i){r=i.pageX,n=a.toInt(o.css(t.scrollbarX,"left"))*t.railXRatio,a.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",d),i.stopPropagation(),i.preventDefault()})}function d(e,t){var n=null,r=null;var l=function(o){!function(o){var r=n+o*t.railYRatio,i=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=r<0?0:r>i?i:r;var l=a.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));s(e,"top",l)}(o.pageY-r),i(e),o.stopPropagation(),o.preventDefault()},d=function(){a.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",l)};t.event.bind(t.scrollbarY,"mousedown",function(i){r=i.pageY,n=a.toInt(o.css(t.scrollbarY,"top"))*t.railYRatio,a.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",l),t.event.once(t.ownerDocument,"mouseup",d),i.stopPropagation(),i.preventDefault()})}e.exports=function(e){var t=r.get(e);l(e,t),d(e,t)}},function(e,t,n){"use strict";var a=n(658),o=n(670),r=n(648),i=n(659),s=n(664);function l(e,t){var n=!1;t.event.bind(e,"mouseenter",function(){n=!0}),t.event.bind(e,"mouseleave",function(){n=!1});t.event.bind(t.ownerDocument,"keydown",function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)){var l=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(n||l){var d=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(a.isEditable(d))return}var u=0,c=0;switch(r.which){case 37:u=r.metaKey?-t.contentWidth:r.altKey?-t.containerWidth:-30;break;case 38:c=r.metaKey?t.contentHeight:r.altKey?t.containerHeight:30;break;case 39:u=r.metaKey?t.contentWidth:r.altKey?t.containerWidth:30;break;case 40:c=r.metaKey?-t.contentHeight:r.altKey?-t.containerHeight:-30;break;case 33:c=90;break;case 32:c=r.shiftKey?90:-90;break;case 34:c=-90;break;case 35:c=r.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:c=r.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}s(e,"top",e.scrollTop-c),s(e,"left",e.scrollLeft+u),i(e),function(n,a){var o=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===o&&a>0||o>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(u,c)&&r.preventDefault()}}})}e.exports=function(e){l(e,r.get(e))}},function(e,t,n){"use strict";var a=n(648),o=n(659),r=n(664);function i(e,t){var n=!1;function a(a){var i=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(a),s=i[0],l=i[1];(function(t,n){if(e.querySelector(".Select-menu:hover"))return!0;var a=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover, .Select-menu:hover");if(a){if(!window.getComputedStyle(a).overflow.match(/(scroll|auto)/))return!1;var o=a.scrollHeight-a.clientHeight;if(o>0&&!(0===a.scrollTop&&n>0||a.scrollTop===o&&n<0))return!0;var r=a.scrollLeft-a.clientWidth;if(r>0&&!(0===a.scrollLeft&&t<0||a.scrollLeft===r&&t>0))return!0}return!1})(s,l)||(n=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(r(e,"top",l?e.scrollTop-l*t.settings.wheelSpeed:e.scrollTop+s*t.settings.wheelSpeed),n=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(r(e,"left",s?e.scrollLeft+s*t.settings.wheelSpeed:e.scrollLeft-l*t.settings.wheelSpeed),n=!0):(r(e,"top",e.scrollTop-l*t.settings.wheelSpeed),r(e,"left",e.scrollLeft+s*t.settings.wheelSpeed)),o(e),(n=n||function(n,a){var o=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===o&&a>0||o>=t.contentHeight-t.containerHeight&&a<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===a){if(!t.scrollbarXActive)return!1;if(0===r&&n<0||r>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(s,l))&&(a.stopPropagation(),a.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",a):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",a)}e.exports=function(e){i(e,a.get(e))}},function(e,t,n){"use strict";var a=n(658),o=n(648),r=n(659),i=n(664);function s(e,t,n,a){function s(t,n){i(e,"top",e.scrollTop-n),i(e,"left",e.scrollLeft-t),r(e)}var l={},d=0,u={},c=null,p=!1,h=!1;function f(){p=!0}function m(){p=!1}function E(e){return e.targetTouches?e.targetTouches[0]:e}function g(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function _(e){if(g(e)){h=!0;var t=E(e);l.pageX=t.pageX,l.pageY=t.pageY,d=(new Date).getTime(),null!==c&&clearInterval(c),e.stopPropagation()}}function v(n){if(!h&&t.settings.swipePropagation&&_(n),!p&&h&&g(n)){var a=E(n),o={pageX:a.pageX,pageY:a.pageY},r=o.pageX-l.pageX,i=o.pageY-l.pageY;s(r,i),l=o;var c=(new Date).getTime(),f=c-d;f>0&&(u.x=r/f,u.y=i/f,d=c),function(n,a){var o=e.scrollTop,r=e.scrollLeft,i=Math.abs(n),s=Math.abs(a);if(s>i){if(a<0&&o===t.contentHeight-t.containerHeight||a>0&&0===o)return!t.settings.swipePropagation}else if(i>s&&(n<0&&r===t.contentWidth-t.containerWidth||n>0&&0===r))return!t.settings.swipePropagation;return!0}(r,i)&&(n.stopPropagation(),n.preventDefault())}}function S(){!p&&h&&(h=!1,clearInterval(c),c=setInterval(function(){o.get(e)&&(u.x||u.y)?Math.abs(u.x)<.01&&Math.abs(u.y)<.01?clearInterval(c):(s(30*u.x,30*u.y),u.x*=.8,u.y*=.8):clearInterval(c)},10))}n?(t.event.bind(window,"touchstart",f),t.event.bind(window,"touchend",m),t.event.bind(e,"touchstart",_),t.event.bind(e,"touchmove",v),t.event.bind(e,"touchend",S)):a&&(window.PointerEvent?(t.event.bind(window,"pointerdown",f),t.event.bind(window,"pointerup",m),t.event.bind(e,"pointerdown",_),t.event.bind(e,"pointermove",v),t.event.bind(e,"pointerup",S)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",f),t.event.bind(window,"MSPointerUp",m),t.event.bind(e,"MSPointerDown",_),t.event.bind(e,"MSPointerMove",v),t.event.bind(e,"MSPointerUp",S)))}e.exports=function(e){(a.env.supportsTouch||a.env.supportsIePointer)&&s(e,o.get(e),a.env.supportsTouch,a.env.supportsIePointer)}},function(e,t,n){"use strict";var a=n(658),o=n(648),r=n(659),i=n(664);function s(e,t){var n=null,s={top:0,left:0};function l(){n&&(clearInterval(n),n=null),a.stopScrolling(e)}var d=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){var t;e.contains(0===(t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:t.getRangeAt(0).commonAncestorContainer)?d=!0:(d=!1,l())}),t.event.bind(window,"mouseup",function(){d&&(d=!1,l())}),t.event.bind(window,"keyup",function(){d&&(d=!1,l())}),t.event.bind(window,"mousemove",function(t){if(d){var u={x:t.pageX,y:t.pageY},c={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};u.x<c.left+3?(s.left=-5,a.startScrolling(e,"x")):u.x>c.right-3?(s.left=5,a.startScrolling(e,"x")):s.left=0,u.y<c.top+3?(s.top=c.top+3-u.y<5?-5:-20,a.startScrolling(e,"y")):u.y>c.bottom-3?(s.top=u.y-c.bottom+3<5?5:20,a.startScrolling(e,"y")):s.top=0,0===s.top&&0===s.left?l():n||(n=setInterval(function(){o.get(e)?(i(e,"top",e.scrollTop+s.top),i(e,"left",e.scrollLeft+s.left),r(e)):clearInterval(n)},50))}})}e.exports=function(e){s(e,o.get(e))}},function(e,t,n){"use strict";var a=n(648),o=n(659);e.exports=function(e){!function(e,t){t.event.bind(e,"scroll",function(){o(e)})}(e,a.get(e))}},function(e,t,n){"use strict";var a=n(658),o=n(670),r=n(648),i=n(659),s=n(664);e.exports=function(e){var t=r.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=a.toInt(o.css(t.scrollbarXRail,"marginLeft"))+a.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=a.toInt(o.css(t.scrollbarYRail,"marginTop"))+a.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),i(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(447),r=(a=o)&&a.__esModule?a:{default:a};t.default=(0,r.default)({flipRotate:null,crop:null,erase:null,adjust:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={minThreshold:100,maxThreshold:255,defaultThreshold:255,minBrightness:-50,maxBrightness:50,defaultBrightness:0,minContrast:-100,maxContrast:100,defaultContrast:0,thickness:[2,4,6,8,10]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contrast:40,brightness:35,threshold:120}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,freeScroll:!0,scrollX:!0,zoom:!0,bounce:!1,centerOnZoomOut:!0,zoomMax:n(976).MAX_ZOOM,zoomMin:0};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(975)),o=l(n(651)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),i=n(748),s=n(633);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return function(n){var l=t(n),d=e.getState().im.modeSignature.type;switch(n.type){case a.default.EDITED_IMAGE_SET:d!==s.MODE_TYPES.SM_CAPTURE&&d!==s.MODE_TYPES.SM_UPLOADER||e.dispatch(r.smOpenEditorPreview());break;case a.default.INITIAL_STATE_RESTORE:d===s.MODE_TYPES.SM_EDITOR_PREVIEW&&e.dispatch(r.smOpenEditor());break;case a.default.EDITED_IMAGE_RESTORE:d===s.MODE_TYPES.SM_EDITOR&&e.dispatch(r.smOpenEditorPreview());break;case i.actionTypes.CLOSE_SIGNATURE:switch(d){case s.MODE_TYPES.SM_EDITOR_PREVIEW:case s.MODE_TYPES.SM_EDITOR:case s.MODE_TYPES.SM_TEXT_EDIT:case s.MODE_TYPES.SM_CURVE_EDIT:case s.MODE_TYPES.SM_IMAGE_EDIT:e.dispatch(o.default.resetEditor())}}return l}}}},function(e,t,n){"use strict";var a=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){var n;return t&&!0===t.clone&&a(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e}function i(e,t,n){var o=e.slice();return t.forEach(function(t,i){void 0===o[i]?o[i]=r(t,n):a(t)?o[i]=s(e[i],t,n):-1===e.indexOf(t)&&o.push(r(t,n))}),o}function s(e,t,n){var o=Array.isArray(t);return o===Array.isArray(e)?o?((n||{arrayMerge:i}).arrayMerge||i)(e,t,n):function(e,t,n){var o={};return a(e)&&Object.keys(e).forEach(function(t){o[t]=r(e[t],n)}),Object.keys(t).forEach(function(i){a(t[i])&&e[i]?o[i]=s(e[i],t[i],n):o[i]=r(t[i],n)}),o}(e,t,n):r(t,n)}s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return s(e,n,t)})};var l=s;e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={areParamsDefault:function(e){return e.flipHorizontally||e.flipVertically||255!==e.threshold||0!==e.contrast||0!==e.brightness},getCurrentImageParams:function(e){return{flipHorizontally:e.isFlippedHorizontally,flipVertically:e.isFlippedVertically,contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}},getParamsForImageFlipping:function(e){return{contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(n(328)),o=l(n(645)),r=l(n(41)),i=l(n(43)),s=n(671);function l(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,r.default)(this,e),this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}return(0,i.default)(e,[{key:"init",value:function(e,t){this.clear(),this.saveImageState(e,{},t),this.saveOriginalImage(t)}},{key:"getImageState",value:function(e){var t=this.states[e],n=t.srcIndex,r=(0,o.default)(t,["srcIndex"]);return(0,a.default)({src:this.images[n]},r)}},{key:"getImage",value:function(e){var t=this.states[e];return this.images[t.srcIndex]||this.originalImage}},{key:"getEditedImageState",value:function(){return this.editedImageState}},{key:"saveOriginalImage",value:function(e){this.originalImage=e}},{key:"saveEditedImage",value:function(e,t,n){this.editedImageState={src:e,params:t,dimensions:n}}},{key:"saveImageState",value:function(e,t,n){this.checkFutureSteps(e),n&&this.images.push(n);var o=(0,a.default)({isAutoCleaned:!1,flipHorizontally:!1,flipVertically:!1,contrast:0,brightness:0,threshold:255,srcIndex:this.images.length-1},t);return this.states.push(o),this.availableStatesCount>s.MAX_HISTORY_LENGTH&&this.removeState(),this.states.length}},{key:"checkFutureSteps",value:function(e){var t=e+1,n=this.states.length;if(t<n){var a=this.states.splice(t,n-e),o=a[0].srcIndex,r=this.images.length;r>1&&this.images.splice(o,r-o),this.availableStatesCount-=a.length}else this.availableStatesCount++}},{key:"removeState",value:function(){var e=this.states[this.deletedSteps],t=this.states[this.deletedSteps+1];if(e.srcIndex!==t.srcIndex)for(var n=0;n<e.srcIndex+1;n++)this.images[n]="";delete this.states[this.deletedSteps],this.deletedSteps++}},{key:"restoreInitialState",value:function(){return this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.saveImageState(1,{},this.originalImage),this.originalImage}},{key:"clear",value:function(){this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=R(n(328)),r=R(n(51)),i=R(n(41)),s=R(n(43)),l=R(n(52)),d=R(n(53)),u=R(n(7)),c=n(0),p=R(c),h=n(72),f=R(n(752)),m=R(n(980)),E=n(649),g=R(n(640)),_=R(n(651)),v=R(n(995)),S=R(n(1002)),y=n(1003),T=n(1004),O=n(1214),b=n(1220),C=n(1221),D=n(755),M=n(633),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),w=n(637);function R(e){return e&&e.__esModule?e:{default:e}}var I=M.modalIds.IMAGE_MANAGER,N=m.default.DropzoneComponentWrapper,P=m.default.DropzoneButton,L=m.default.DropzoneContent,k=m.default.DropzoneTitle,B=f.default.Webcam,x=f.default.WebcamUtils,F={handleError:u.default.func.isRequired,setError:u.default.func,clearError:u.default.func,disableWebcam:u.default.func,uploading:u.default.func,uploadImage:u.default.func,initial:u.default.func,handleClose:u.default.func,handleUpload:u.default.func,handleUpdate:u.default.func,handleDelete:u.default.func,handleSelect:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,jsOnly:u.default.bool,uploadedPercent:u.default.number,mode:u.default.string,error:u.default.string,editedImage:u.default.string,images:u.default.array,initialImage:u.default.object,imageDimensions:u.default.object,addedImage:u.default.object,edit:u.default.func,setInitialImage:u.default.func},Y=(0,h.connect)(function(e){return{mode:e.im.mode,locale:(0,w.getImageManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,uploadedPercent:e.im.uploadedPercent,error:e.im.imageManagerError,editedImage:e.signatureEditor.image,images:e.ws.images,addedImage:e.ws.addedImage,initialImage:e.signatureEditor.initialImage,imageDimensions:e.signatureEditor.imageDimensions}},{disableWebcam:A.disableWebcam,uploading:A.uploading,uploadImage:A.uploadImage,initial:A.initial,setError:A.setError,clearError:A.clearErrors,edit:A.edit,setInitialImage:_.default.setInitialImage})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onLoadFilesSelect=function(e,t,a){var o=n.props,r=o.dropzoneConfig,i=o.locale,s=o.setError,l={customErrors:i.errors.dropZone,imageDimensions:r.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:t,allowedFileTypes:a};(0,E.validateFiles)(e,l,n.handleFilesSelect,s)},n.handleFilesSelect=function(e){var t=e[0];t&&n.handleImage(t.data,t.height,t.width)},n.handleImage=function(e,t,a){var r=n.props,i=r.mode,s=r.initialImage,l=r.imageDimensions,d=a&&t?{height:t,width:a}:l;n.props.uploadImage(e,d,function(e,t){if(t)if(i.type===M.MODE_TYPES.EDIT){var a=(0,o.default)({},t,{id:s.id});n.props.handleUpdate(a)}else n.props.handleUpload(t)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleSaveAndUse=function(e){var t=n.props.editedImage;n.setState({use:e}),n.handleImage(t)},n.handleClose=function(){var e=n.props,t=e.handleClose,a=e.initial;t&&t(),a()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.setReference=function(e){n.webcamInstance=e},n.webcamInstance=null,n.state={use:!1,imageLoading:!1},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;x.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.error,a=t.addedImage;a&&a!==e.addedImage&&this.state.use&&(this.props.handleSelect(a),this.props.initial()),n&&n!==e.error&&this.handleError(n)}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.locale,a=t.initial,o={status:!0},r="",i="",s=void 0;switch(e){case M.MODE_TYPES.INITIAL:r="sign-m-svg-icon-img",i=n.gallery.header,o.status=!1;break;case M.MODE_TYPES.EDIT:r="sign-m-svg-icon-pencil",i=n.edit.header,s=a;break;case M.MODE_TYPES.CAPTURE:r="sign-m-svg-icon-camera-sm",i=n.capture.header,s=a;break;case M.MODE_TYPES.UPLOAD:r="sign-m-svg-icon-upload-sm",i=n.upload.header,s=a;break;case M.MODE_TYPES.MOBILE_UPLOAD:r="sign-m-svg-icon-upload-sm",i=n.upload.header;break;case M.MODE_TYPES.UPLOADING:r="sign-m-svg-icon-upload-sm",i=n.uploading.header}return p.default.createElement(y.ImageManagerHeader,{icon:r,title:i,btnBackDispatch:s,btnBack:o,handleClose:this.handleClose})}},{key:"renderComponentByTypeContent",value:function(e,t){var n=this,a=this.props,o=a.handleDelete,r=a.handleSelect,i=a.images,s=a.locale,l=a.uploadedPercent,d=a.jsOnly,u=a.dropzoneConfig,c=a.initial,h=a.setError;if(this.state.imageLoading)return p.default.createElement("div",{className:"loading-overlay"},p.default.createElement(D.Loader,{title:s.gallery.loadingImage}));switch(e){case M.MODE_TYPES.INITIAL:return i?[p.default.createElement(O.ImageManagerContentInitial,{handleDelete:o,handleSelect:r,handleEdit:this.props.edit,handleImageLoading:this.handleImageLoading,setInitialImage:this.props.setInitialImage,uploaderIcon:t.btnIcons.uploader,captureIcon:t.btnIcons.capture,locale:s.gallery,images:i,key:"ImageManagerContentInitialINITIAL"})]:p.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},p.default.createElement(D.Loader,{title:s.gallery.loadingImages}));case M.MODE_TYPES.EDIT:return[p.default.createElement("div",{className:"sign-m-body",key:"EDIT_content"},p.default.createElement(v.default,null)),p.default.createElement(S.default,{key:"EDIT_footer",handleSaveAndUse:this.handleSaveAndUse})];case M.MODE_TYPES.UPLOAD:return[p.default.createElement("div",{key:"divUPLOAD",className:"sign-m-body"},p.default.createElement(N,{maxFileSize:u.maxFileSize,allowedFileTypes:u.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:h,errors:s.errors.dropZone,checkImage:!0},p.default.createElement(k,{title:s.upload.dropZone.title}),p.default.createElement(L,{content:s.upload.dropZone.text+" "+u.maxFileSize+"."}),p.default.createElement(P,{title:s.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),p.default.createElement(b.ImageManagerFooter,{key:"ImageManagerFooterUPLOAD",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.MOBILE_UPLOAD:var f=this.props.mode,m=u.maxFileSize,E=u.allowedFileTypes;return this.onLoadFilesSelect(f.targetFiles,m,E),[p.default.createElement(T.ImageManagerContentUploading,{title:s.uploading.text,uploadedPercent:l,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),p.default.createElement(b.ImageManagerFooter,{key:"ImageManagerFooterMOBILE_UPLOAD",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.UPLOADING:return[p.default.createElement(T.ImageManagerContentUploading,{key:"ImageManagerContentUploadingUPLOADING",title:s.uploading.text,uploadedPercent:l}),p.default.createElement(b.ImageManagerFooter,{key:"ImageManagerFooterUPLOADING",backButtonText:s.backButton,onButtonClick:c})];case M.MODE_TYPES.CAPTURE:return[p.default.createElement("div",{key:"divCAPTURE",className:"sign-m-body"},p.default.createElement("div",null,s.capture.text),p.default.createElement("div",{className:"crop-body"},p.default.createElement("div",{className:"crop-body-table"},p.default.createElement("div",{className:"crop-body-cell"},p.default.createElement(B,{ref:this.setReference,handleImage:this.handleImage,handleError:h,jsOnly:d,isImageMirrored:!0}))))),p.default.createElement(C.ImageManagerFooterCapture,{key:"ImageManagerFooterCaptureCAPTURE",takeSnapShot:function(){return n.webcamInstance.takeSnapshot()}})];default:return null}}},{key:"render",value:function(){var e=this.props.mode,t=M.MODES[e.type],n=t.content.mods||"";return p.default.createElement(g.default,{contentLabel:"Modal",className:"sign-m "+n,overflow:"hidden"},this.renderHeaderByTypeContent(t.content.type),this.renderComponentByTypeContent(t.content.type,t.footer))}}],[{key:"getModalId",value:function(){return I}}]),t}(c.Component))||a;t.default=Y,Y.propTypes=F},function(e,t){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var a=n(32)("wks"),o=n(9),r=n(0).Symbol,i="function"==typeof r;(e.exports=function(e){return a[e]||(a[e]=i&&r[e]||(i?r:o)("Symbol."+e))}).store=a},function(e,t,n){var a=n(0),o=n(2),r=n(8),i=n(22),s=n(10),l=function(e,t,n){var d,u,c,p,h=e&l.F,f=e&l.G,m=e&l.S,E=e&l.P,g=e&l.B,_=f?a:m?a[t]||(a[t]={}):(a[t]||{}).prototype,v=f?o:o[t]||(o[t]={}),S=v.prototype||(v.prototype={});for(d in f&&(n=t),n)c=((u=!h&&_&&void 0!==_[d])?_:n)[d],p=g&&u?s(c,a):E&&"function"==typeof c?s(Function.call,c):c,_&&i(_,d,c,e&l.U),v[d]!=c&&r(v,d,p),E&&S[d]!=c&&(S[d]=c)};a.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var a=n(16),o=n(21);e.exports=n(3)?function(e,t,n){return a.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,a=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+a).toString(36))}},function(e,t,n){var a=n(24);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,o){return e.call(t,n,a,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var a=n(28),o=Math.min;e.exports=function(e){return e>0?o(a(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),a=e.name||"",o=e.type||"",r=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim();return"."===t.charAt(0)?a.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?r===t.replace(/\/.*$/,""):o===t})}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var a=n(7),o=n(25)(3);a(a.P+a.F*!n(33)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var a=n(17),o=n(18),r=n(20),i=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(a(e),t=r(t,!0),a(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var a=n(1);e.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var a=n(1),o=n(0).document,r=a(o)&&a(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){var a=n(1);e.exports=function(e,t){if(!a(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!a(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!a(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var a=n(0),o=n(8),r=n(23),i=n(9)("src"),s=Function.toString,l=(""+s).split("toString");n(2).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var d="function"==typeof n;d&&(r(n,"name")||o(n,"name",t)),e[t]!==n&&(d&&(r(n,i)||o(n,i,e[t]?""+e[t]:l.join(String(t)))),e===a?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var a=n(10),o=n(26),r=n(27),i=n(12),s=n(29);e.exports=function(e,t){var n=1==e,l=2==e,d=3==e,u=4==e,c=6==e,p=5==e||c,h=t||s;return function(t,s,f){for(var m,E,g=r(t),_=o(g),v=a(s,f,3),S=i(_.length),y=0,T=n?h(t,S):l?h(t,0):void 0;S>y;y++)if((p||y in _)&&(E=v(m=_[y],y,g),e))if(n)T[y]=E;else if(E)switch(e){case 3:return!0;case 5:return m;case 6:return y;case 2:T.push(m)}else if(u)return!1;return c?-1:d||u?u:T}}},function(e,t,n){var a=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==a(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(11);e.exports=function(e){return Object(a(e))}},function(e,t){var n=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:n)(e)}},function(e,t,n){var a=n(30);e.exports=function(e,t){return new(a(e))(t)}},function(e,t,n){var a=n(1),o=n(31),r=n(6)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),a(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var a=n(5);e.exports=Array.isArray||function(e){return"Array"==a(e)}},function(e,t,n){var a=n(0),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){"use strict";var a=n(4);e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var a=n(7),o=n(12),r=n(36),i="".endsWith;a(a.P+a.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=r(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,a=o(t.length),s=void 0===n?a:Math.min(o(n),a),l=String(e);return i?i.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){var a=n(37),o=n(11);e.exports=function(e,t,n){if(a(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var a=n(1),o=n(5),r=n(6)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},function(e,t,n){var a=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n(268)),o=u(n(51)),r=u(n(41)),i=u(n(52)),s=u(n(53)),l=u(n(1133)),d=n(981);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){(0,r.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.validateFiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.props,r=o.errors,i=o.maxFileSize,s=o.allowedFileTypes,l=o.maxFilesNumber,d=o.checkImage,u=o.imageDimensions,c=o.handleErrors,p=o.handleFilesSelect;n.validation.asyncValidate([].concat((0,a.default)(e),(0,a.default)(t)),{customErrors:r,maxFileSize:i,allowedFileTypes:s,maxFilesNumber:l,checkImage:d,imageDimensions:u}).then(p).catch(c)},n.validation=new l.default,n}return(0,s.default)(t,e),t}(u(d).default);t.default=c,c.propTypes=d.propTypes,c.defaultProps=d.defaultProps},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=c(n(328)),i=c(n(449)),s=c(n(41)),l=c(n(43)),d=c(n(750)),u=n(751);function c(e){return e&&e.__esModule?e:{default:e}}var p=(o=a=function(){function e(){(0,s.default)(this,e)}return(0,l.default)(e,[{key:"validateRealFileType",value:function(t){var n=this.params.allowedFileTypes,a=this.errorsStrings,o=a.WRONG_TYPE,r=a.FILE_CANT_BE_OPENED;return new i.default(function(a,i){var s=new FileReader;s.onloadend=function(r){var s=r.target.result,l=new Uint8Array(s).subarray(0,4).reduce(e.formathexSignature,""),d=e.checkType(t.type,l);return d&&n.includes(d.toLowerCase())?a():i({error:o,fileName:t.name,brokenCondition:u.ERRORS.WRONG_TYPE})},s.onerror=function(){return i({error:r,fileName:t.name,brokenCondition:u.ERRORS.FILE_CANT_BE_OPENED})},s.readAsArrayBuffer(t)})}},{key:"validateMaxFileSize",value:function(e){var t=this.params.maxFileSize,n=this.errorsStrings.BIG_FILE;return new i.default(function(a,o){var r=(0,d.default)(t.toLowerCase());return t&&e.size>r?o({error:n,fileName:e.name,brokenCondition:t}):a()})}},{key:"validateFile",value:function(e){return i.default.all([this.validateRealFileType.call(this,e),this.validateMaxFileSize.call(this,e)]).then(function(){return e})}},{key:"getErrorsStrings",value:function(){var e=this.params.customErrors;return e?(0,r.default)({},u.ERRORS,e):u.ERRORS}},{key:"isFileListExist",value:function(){return!this.filesList||!this.filesList.length}},{key:"isFileListLessAllow",value:function(){var e=this.params.maxFilesNumber;return!!(e&&this.filesList.length>e)}},{key:"getValidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowedFileTypes;return t&&Array.isArray(t)?(0,r.default)({},e,{allowedFileTypes:t.join()}):e}},{key:"asyncValidate",value:function(e,t){var n=this;return this.filesList=e,this.params=this.getValidParams(t),this.errorsStrings=this.getErrorsStrings(),new i.default(function(t,a){var o=n.isFileListExist(),r=n.isFileListLessAllow(),s=n.errorsStrings,l=s.NO_FILES,d=s.TOO_MANY_FILES;return o?a([{error:l,brokenCondition:""}]):r?a([{error:d,brokenCondition:""}]):void i.default.all(Array.prototype.map.call(e,n.validateFile,n)).then(t).catch(function(e){return a([e])})})}}],[{key:"formathexSignature",value:function(e,t,n){return e+(n>0?" ":"")+t.toString(16)}},{key:"checkType",value:function(t,n){return t.endsWith("zip")||t.endsWith("pages")?t:e.FILE_TYPE_ALIAS_FORMAT[t]?e.FILE_TYPE_ALIAS_FORMAT[t]:e.HEX_SIGNATURE[n]||t}}]),e}(),a.HEX_SIGNATURE={"25 50 44 46":"PDF","45 6d 70 74":"TXT","ff fe 45 0":"TXT","0 45 0 6d":"TXT","45 0 6d 0":"TXT","ff fe 0 0":"TXT","0 0 0 45":"TXT","45 0 0 0":"TXT","31 32 33":"TXT","ff fe 31 0":"TXT","ef bb bf 31":"TXT","45 78 61 6d":"TXT","4c 6f 72 65":"TXT","ff d8 ff e0":"JPG","89 50 4e 47":"PNG","3c 3f 78 6d":"SVG","3c 68 74 6d":"HTML","50 4b 3 4":"DOC","d0 cf 11 e0":"DOC","d0 a0 d0 b0":"DOC","7b 5c 72 74":"RTF"},a.FILE_TYPE_ALIAS_FORMAT={"application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp"},o);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=n(0),d=h(l),u=h(n(7)),c=h(n(1135)),p=n(753);function h(e){return e&&e.__esModule?e:{default:e}}var f={title:u.default.string.isRequired,onSelect:u.default.func.isRequired,inputId:u.default.string,className:u.default.string,multiple:u.default.bool,allowedFileTypes:u.default.oneOfType([u.default.string,u.default.array])},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.inputId,n=e.allowedFileTypes,a=e.title,o=e.onSelect,r=e.multiple,i=e.className,s=e.onClick;return d.default.createElement(c.default,{onClick:s,title:a,onSelect:o,inputId:t,inputType:"file",inputAccept:n,multiple:r,buttonClasses:i})}}],[{key:"getId",value:function(){return p.IDS.button}}]),t}(l.Component);t.default=m,m.propTypes=f,m.defaultProps={onSelect:function(){return{}},title:"Select file",inputId:"dropzoneInput",multiple:!1,allowedFileTypes:"",buttonClasses:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=n(0),d=p(l),u=p(n(7)),c=n(1136);function p(e){return e&&e.__esModule?e:{default:e}}var h={onSelect:u.default.func.isRequired,title:u.default.string.isRequired,inputType:u.default.string.isRequired,multiple:u.default.bool,inputId:u.default.string,buttonClasses:u.default.string,inputAccept:u.default.oneOfType([u.default.string,u.default.array])},f=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(d))),r.handleSelect=function(e){(0,r.props.onSelect)(e.target.files)},r.openInput=function(){var e=r.props.onClick;e?e():r.input&&r.input.input.click()},r.storeInputRef=function(e){r.input=e},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.inputId,a=e.inputType,o=e.inputAccept,r=e.multiple,i="js-fileapi-wrapper "+e.buttonClasses;return d.default.createElement("div",{className:"g-form-group-file"},d.default.createElement("div",{className:i,onClick:this.openInput},t),d.default.createElement(c.Input,{value:"",hidden:"hidden",type:a,id:n,ref:this.storeInputRef,accept:o,onChange:this.handleSelect,multiple:r,clearOnChange:!0}))}}]),t}(l.Component);t.default=f,f.propTypes=h,f.defaultProps={multiple:!1,inputId:"input-button",buttonClasses:"",inputAccept:""}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,o=E(n(328)),r=E(n(51)),i=E(n(41)),s=E(n(43)),l=E(n(52)),d=E(n(53)),u=E(n(0)),c=E(n(7)),p=E(n(644)),h=E(n(982)),f=E(n(754)),m=n(1185);function E(e){return e&&e.__esModule?e:{default:e}}var g=e.document||{},_=t.Input=(0,f.default)(a=(0,h.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return n.handleChange=function(e){var t=n.props,a=t.onChange,o=t.clearOnChange,r=t.handleIsValid,i=t.trim,s=e.target.value;i&&(s=s.trim());var l=n.validate(s);n.setState({value:s,isPristine:!1}),a(e),!n.state.isValid&&n.setState({isValid:!0}),r(l),o&&n.setState({value:"",isPristine:!0,isBlured:!1})},n.handleFocus=function(e){var t=n.props,a=t.onFocus;t.moveCursorAtEnd&&n.moveCaretAtEnd(e),a(e)},n.handleBlur=function(e){var t=n.props.onBlur;n.setState({isBlured:!0}),t&&t(e)},n.regInput=function(e){var t=n.props.inputRef;n.input=e,"function"==typeof t&&t(e)},n.state={value:e.value||"",isValid:!0,errorMessage:"",isPristine:!0,isBlured:!1},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"callHandleIsValidCallback",value:function(e){(0,this.props.handleIsValid)(this.validate(e||""))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.value,a=t.trim,o=e.value;if(a&&(o=o.trim()),n!==o&&this.callHandleIsValidCallback(o),e.validate){var r=this.validate(o||"");this.showValidation(r)}}},{key:"componentDidMount",value:function(){var e=this.props.value;this.callHandleIsValidCallback(e)}},{key:"showValidation",value:function(e){this.setState({isValid:e})}},{key:"isValid",value:function(e){null!=e&&this.setState({isPristine:e,isBlured:!e});var t=this.props,n=t.validate,a=t.value,o=t.externalError;if(!n)return!0;var r=this.validate(a||"")&&!o;return this.showValidation(r),r}},{key:"isPristine",value:function(){return this.state.isPristine}},{key:"needToRenderError",value:function(){var e=this.props,t=e.externalError,n=e.validate,a=this.state,o=a.isValid,r=a.isPristine,i=a.isBlured;return!!t||n&&i&&!(r||o)}},{key:"renderErrorMessage",value:function(){var e=this.props,t=e.className,n=e.externalError,a=!this.state.isValid||n?"g-form-group__message--error":"";return u.default.createElement("div",{className:(0,p.default)({name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},a,this.props,t)},n||this.state.errorMessage)}},{key:"renderLabel",value:function(){var e=this.props,t=e.id,n=e.label;return t&&n?u.default.createElement("label",{htmlFor:t},n):null}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return u.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"focus",value:function(){this.input&&g.activeElement!==this.input&&this.input.focus()}},{key:"render",value:function(){var e=(0,m.filterHtmlProps)(this.props),t=this.props,n=t.value,a=t.className,r=t.showCross,i=t.useStateValue,s=this.props,l=s.handleCrossClick,d=s.showAddressBookButton,c=s.containerClass,h=this.needToRenderError(),f={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:h},E=h?"g-form-control--error":"",g=void 0===n||i?this.state.value:n;return u.default.createElement("div",{className:"g-form-group "+c},this.renderLabel(),u.default.createElement("input",(0,o.default)({},e,{value:g,ref:this.regInput,className:(0,p.default)(f,E,this.props,a),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})),r&&g&&u.default.createElement("div",{className:"g-form-group__cross",onClick:l}),d&&this.renderAddressBookButton(),h&&this.renderErrorMessage())}}]),t}(u.default.Component))||a)||a;_.defaultProps={containerClass:"",label:null,validations:[],validate:!1,clearOnChange:!1,multiple:!1,showAddressBookButton:!1,showCross:!1,trim:!1,onChange:function(){},onFocus:function(){},handleIsValid:function(){},handleCrossClick:function(){},handleAddressBookButtonClick:function(){},moveCursorAtEnd:!1,useStateValue:!1},_.propTypes={placeholder:c.default.string,type:c.default.string,value:c.default.string,name:c.default.string,containerClass:c.default.string,id:c.default.string,label:c.default.string,className:c.default.string,inputRef:c.default.oneOfType([c.default.string,c.default.func]),validations:c.default.array,validate:c.default.bool,clearOnChange:c.default.bool,multiple:c.default.bool,showAddressBookButton:c.default.bool,showCross:c.default.bool,trim:c.default.bool,handleAddressBookButtonClick:c.default.func,onFocus:c.default.func,onBlur:c.default.func,onChange:c.default.func,handleIsValid:c.default.func,handleCrossClick:c.default.func,externalError:c.default.string,moveCursorAtEnd:c.default.bool,useStateValue:c.default.bool}}).call(this,n(222))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=ue(n(859)),o=ue(n(983)),r=ue(n(1138)),i=ue(n(1139)),s=ue(n(1140)),l=ue(n(1141)),d=ue(n(1142)),u=ue(n(984)),c=ue(n(1143)),p=ue(n(1144)),h=ue(n(986)),f=ue(n(861)),m=ue(n(1145)),E=ue(n(1146)),g=ue(n(1147)),_=ue(n(1148)),v=ue(n(1149)),S=ue(n(1150)),y=ue(n(1151)),T=ue(n(988)),O=ue(n(989)),b=ue(n(1152)),C=ue(n(1153)),D=ue(n(1154)),M=ue(n(1155)),A=ue(n(1156)),w=ue(n(1157)),R=ue(n(990)),I=ue(n(1158)),N=ue(n(1159)),P=ue(n(1160)),L=ue(n(1161)),k=ue(n(1162)),B=ue(n(1163)),x=ue(n(985)),F=ue(n(1164)),Y=ue(n(1165)),U=ue(n(1166)),H=ue(n(1167)),j=ue(n(1168)),W=ue(n(1169)),K=ue(n(1170)),G=ue(n(1171)),z=ue(n(1172)),X=ue(n(1173)),V=ue(n(1174)),q=ue(n(1175)),$=ue(n(991)),Z=ue(n(1176)),Q=ue(n(1177)),J=ue(n(992)),ee=ue(n(993)),te=ue(n(1178)),ne=ue(n(1179)),ae=ue(n(1180)),oe=ue(n(1181)),re=ue(n(1182)),ie=ue(n(994)),se=ue(n(1183)),le=ue(n(1184)),de=ue(n(860));function ue(e){return e&&e.__esModule?e:{default:e}}var ce={version:"6.3.0",toDate:a.default,toFloat:o.default,toInt:r.default,toBoolean:i.default,equals:s.default,contains:l.default,matches:d.default,isEmail:u.default,isURL:c.default,isMACAddress:p.default,isIP:h.default,isFQDN:f.default,isBoolean:m.default,isAlpha:E.default,isAlphanumeric:g.default,isNumeric:_.default,isLowercase:v.default,isUppercase:S.default,isAscii:y.default,isFullWidth:T.default,isHalfWidth:O.default,isVariableWidth:b.default,isMultibyte:C.default,isSurrogatePair:D.default,isInt:M.default,isFloat:A.default,isDecimal:w.default,isHexadecimal:R.default,isDivisibleBy:I.default,isHexColor:N.default,isMD5:P.default,isJSON:L.default,isEmpty:k.default,isLength:B.default,isByteLength:x.default,isUUID:F.default,isMongoId:Y.default,isDate:U.default,isAfter:H.default,isBefore:j.default,isIn:W.default,isCreditCard:K.default,isISIN:G.default,isISBN:z.default,isISSN:X.default,isMobilePhone:V.default,isCurrency:q.default,isISO8601:$.default,isBase64:Z.default,isDataURI:Q.default,ltrim:J.default,rtrim:ee.default,trim:te.default,escape:ne.default,unescape:ae.default,stripLow:oe.default,whitelist:re.default,blacklist:ie.default,isWhitelisted:se.default,normalizeEmail:le.default,toString:de.default};t.default=ce,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),parseInt(e,t||10)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t)return"1"===e||"true"===e;return"0"!==e&&"false"!==e&&""!==e};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e===t};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),e.indexOf((0,o.default)(t))>=0};var a=r(n(630)),o=r(n(860));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,r.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return t.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;t=(0,i.default)(t,l);var n=void 0,s=void 0,c=void 0,p=void 0,h=void 0,f=void 0,m=void 0,E=void 0;if(m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(n=m.shift(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;t.allow_protocol_relative_urls&&"//"===e.substr(0,2)&&(m[0]=e.substr(2))}if(e=m.join("://"),m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1&&(s=m.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;p=m.join("@"),f=E=null;var g=p.match(d);g?(c="",E=g[1],f=g[2]||null):(m=p.split(":"),c=m.shift(),m.length&&(f=m.join(":")));if(null!==f&&(h=parseInt(f,10),!/^[0-9]+$/.test(f)||h<=0||h>65535))return!1;if(!((0,r.default)(c)||(0,o.default)(c,t)||E&&(0,r.default)(E,6)||"localhost"===c))return!1;if(c=c||E,t.host_whitelist&&!u(c,t.host_whitelist))return!1;if(t.host_blacklist&&u(c,t.host_blacklist))return!1;return!0};var a=s(n(630)),o=s(n(861)),r=s(n(986)),i=s(n(717));function s(e){return e&&e.__esModule?e:{default:e}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},d=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e===a||(o=a,"[object RegExp]"===Object.prototype.toString.call(o)&&a.test(e)))return!0}var o;return!1}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),["true","false","1","0"].indexOf(e)>=0};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alpha)return i.alpha[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a},i=n(987);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,r.default)(e),t in i.alphanumeric)return i.alphanumeric[t].test(e);throw new Error("Invalid locale '"+t+"'")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a},i=n(987);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toLowerCase()};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e===e.toUpperCase()};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[\x00-\x7F]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.fullWidth.test(e)&&s.halfWidth.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a},i=n(988),s=n(989);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^\x00-\x7F]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?i:s,a=!t.hasOwnProperty("min")||e>=t.min,o=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,d=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&a&&o&&l&&d};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,s=/^[-+]?[0-9]+$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=t||{},""===e||"."===e)return!1;return i.test(e)&&(!t.hasOwnProperty("min")||e>=t.min)&&(!t.hasOwnProperty("max")||e<=t.max)&&(!t.hasOwnProperty("lt")||e<t.lt)&&(!t.hasOwnProperty("gt")||e>t.gt)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[-+])?(?:[0-9]+)?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),""!==e&&i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e),(0,o.default)(e)%parseInt(t,10)==0};var a=r(n(630)),o=r(n(983));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[a-f0-9]{32}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){(0,i.default)(e);try{var t=JSON.parse(e);return!!t&&"object"===(void 0===t?"undefined":a(t))}catch(e){}return!1};var o,r=n(630),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),0===e.length};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,i.default)(e);var n=void 0,o=void 0;"object"===(void 0===t?"undefined":a(t))?(n=t.min||0,o=t.max):(n=arguments[1],o=arguments[2]);var r=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-r.length;return s>=n&&(void 0===o||s<=o)};var o,r=n(630),i=(o=r)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,r.default)(e);var n=i[t];return n&&n.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e),(0,o.default)(e)&&24===e.length};var a=r(n(630)),o=r(n(990));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=new Date(Date.parse(e));if(isNaN(t))return!1;var n=function(e){var t=e.match(i.iso8601),n=void 0,a=void 0,o=void 0,r=void 0;if(t){if(!(n=t[21]))return t[12]?null:0;if("z"===n||"Z"===n)return 0;a=t[22],-1!==n.indexOf(":")?(o=parseInt(t[23],10),r=parseInt(t[24],10)):(o=0,r=parseInt(t[23],10))}else{if(e=e.toLowerCase(),!(n=e.match(/(?:\s|gmt\s*)(-|\+)(\d{1,4})(\s|$)/)))return-1!==e.indexOf("gmt")?0:null;a=n[1];var s=n[2];3===s.length&&(s="0"+s),s.length<=2?(o=0,r=parseInt(s,10)):(o=parseInt(s.slice(0,2),10),r=parseInt(s.slice(2,4),10))}return(60*o+r)*("-"===a?1:-1)}(e);if(null!==n){var a=t.getTimezoneOffset()-n;t=new Date(t.getTime()+6e4*a)}var o,s,l=String(t.getDate()),d=void 0;if(!(d=e.match(/(^|[^:\d])[23]\d([^T:\d]|$)/g)))return!0;if(o=d.map(function(e){return e.match(/\d+/g)[0]}).join("/"),s=String(t.getFullYear()).slice(-2),o===l||o===s)return!0;if(o===""+l/s||o===""+s/l)return!0;return!1};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a},i=n(991);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r>n)};var a=r(n(630)),o=r(n(859));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,a.default)(e);var n=(0,o.default)(t),r=(0,o.default)(e);return!!(r&&n&&r<n)};var a=r(n(630)),o=r(n(859));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){(0,o.default)(e);var n=void 0;if("[object Array]"===Object.prototype.toString.call(t)){var i=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=(0,r.default)(t[n]));return i.indexOf(e)>=0}if("object"===(void 0===t?"undefined":a(t)))return t.hasOwnProperty(e);if(t&&"function"==typeof t.indexOf)return t.indexOf(e)>=0;return!1};var o=i(n(630)),r=i(n(860));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.replace(/[^0-9]+/g,"");if(!i.test(t))return!1;for(var n=0,a=void 0,o=void 0,s=void 0,l=t.length-1;l>=0;l--)a=t.substring(l,l+1),o=parseInt(a,10),n+=s&&(o*=2)>=10?o%10+1:o,s=!s;return!(n%10!=0||!t)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})|62[0-9]{14}$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(e),!i.test(e))return!1;for(var t=e.replace(/[A-Z]/g,function(e){return parseInt(e,36)}),n=0,a=void 0,o=void 0,s=!0,l=t.length-2;l>=0;l--)a=t.substring(l,l+1),o=parseInt(a,10),n+=s&&(o*=2)>=10?o+1:o,s=!s;return parseInt(e.substr(e.length-1),10)===(1e4-n)%10};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(t);n=String(n);if(!n)return e(t,10)||e(t,13);var a=t.replace(/[\s-]+/g,"");var o=0;var d=void 0;if("10"===n){if(!i.test(a))return!1;for(d=0;d<9;d++)o+=(d+1)*a.charAt(d);if("X"===a.charAt(9)?o+=100:o+=10*a.charAt(9),o%11==0)return!!a}else if("13"===n){if(!s.test(a))return!1;for(d=0;d<12;d++)o+=l[d%2]*a.charAt(d);if(a.charAt(12)-(10-o%10)%10==0)return!!a}return!1};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^(?:[0-9]{9}X|[0-9]{10})$/,s=/^(?:[0-9]{13})$/,l=[1,3];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=i;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;var a=e.replace("-",""),o=8,s=0,l=!0,d=!1,u=void 0;try{for(var c,p=a[Symbol.iterator]();!(l=(c=p.next()).done);l=!0){var h=c.value,f="X"===h.toUpperCase()?10:+h;s+=f*o,--o}}catch(e){d=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(d)throw u}}return s%11==0};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in i)return i[t].test(e);return!1};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i={"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"de-DE":/^(\+?49[ \.\-])?([\(]{1}[0-9]{1,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,"da-DK":/^(\+?45)?(\d{8})$/,"el-GR":/^(\+?30)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[789]\d{9}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)2\d{7,9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5)?|50)\s?(\d\s?){4,8}\d$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[0248]|77)[1-9]\d{6}/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)\d{1,4}[ \-]?\d{1,4}[ \-]?\d{4}$/,"ms-MY":/^(\+?6?01){1}(([145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^(\+?55|0)\-?[1-9]{2}\-?[2-9]{1}\d{3,4}\-?\d{4}$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"vi-VN":/^(\+?84|0)?((1(2([0-9])|6([2-9])|88|99))|(9((?!5)[0-9])))([0-9]{7})$/,"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};i["en-CA"]=i["en-US"],i["fr-BE"]=i["nl-BE"],i["zh-HK"]=i["en-HK"],e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(e),function(e){var t="(\\"+e.symbol.replace(/\./g,"\\.")+")"+(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\"+e.thousands_separator+"\\d{3})*",a="("+["0","[1-9]\\d*",n].join("|")+")?",o="(\\"+e.decimal_separator+"\\d{2})?",r=a+o;e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?r+="-?":e.negative_sign_before_digits&&(r="-?"+r));e.allow_negative_sign_placeholder?r="( (?!\\-))?"+r:e.allow_space_after_symbol?r=" ?"+r:e.allow_space_after_digits&&(r+="( (?!$))?");e.symbol_after_digits?r+=t:r=t+r;e.allow_negatives&&(e.parens_for_negatives?r="(\\("+r+"\\)|"+r+")":e.negative_sign_before_digits||e.negative_sign_after_digits||(r="-?"+r));return new RegExp("^(?!-? )(?=.*\\d)"+r+"$")}(t=(0,a.default)(t,i)).test(e)};var a=r(n(717)),o=r(n(630));function r(e){return e&&e.__esModule?e:{default:e}}var i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.length;if(!t||t%4!=0||i.test(e))return!1;var n=e.indexOf("=");return-1===n||n===t-1||n===t-2&&"="===e[t-1]};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/[^A-Z0-9+\/=]/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),i.test(e)};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};var i=/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9!\$&',\(\)\*\+,;=\-\._~:@\/\?%\s]*\s*$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)((0,o.default)(e,t),t)};var a=r(n(993)),o=r(n(992));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,o.default)(e,n)};var a=r(n(630)),o=r(n(994));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),e.replace(new RegExp("[^"+t+"]+","g"),"")};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var a,o=n(630),r=(a=o)&&a.__esModule?a:{default:a};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,o.default)(t,i),!(0,a.default)(e))return!1;var n=e.split("@"),r=n.pop(),u=[n.join("@"),r];if(u[1]=u[1].toLowerCase(),"gmail.com"===u[1]||"googlemail.com"===u[1]){if(t.gmail_remove_subaddress&&(u[0]=u[0].split("+")[0]),t.gmail_remove_dots&&(u[0]=u[0].replace(/\./g,"")),!u[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(u[0]=u[0].toLowerCase()),u[1]=t.gmail_convert_googlemaildotcom?"gmail.com":u[1]}else if(~s.indexOf(u[1])){if(t.icloud_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~l.indexOf(u[1])){if(t.outlookdotcom_remove_subaddress&&(u[0]=u[0].split("+")[0]),!u[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(u[0]=u[0].toLowerCase())}else if(~d.indexOf(u[1])){if(t.yahoo_remove_subaddress){var c=u[0].split("-");u[0]=c.length>1?c.slice(0,-1).join("-"):c[0]}if(!u[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(u[0]=u[0].toLowerCase())}else t.all_lowercase&&(u[0]=u[0].toLowerCase());return u.join("@")};var a=r(n(984)),o=r(n(717));function r(e){return e&&e.__esModule?e:{default:e}}var i={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},s=["icloud.com","me.com"],l=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],d=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"];e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterHtmlProps=t.isEligibleHtmlProp=t.eligibleHtmlProperties=void 0;var a=i(n(269)),o=i(n(223)),r=i(n(132));function i(e){return e&&e.__esModule?e:{default:e}}var s=t.eligibleHtmlProperties={accept:!0,acceptCharset:!0,accessKey:!0,action:!0,allowFullScreen:!0,allowTransparency:!0,alt:!0,async:!0,autoComplete:!0,autoFocus:!0,autoPlay:!0,capture:!0,cellPadding:!0,cellSpacing:!0,challenge:!0,charSet:!0,checked:!0,cite:!0,classID:!0,className:!0,colSpan:!0,cols:!0,content:!0,contentEditable:!0,contextMenu:!0,controls:!0,coords:!0,crossOrigin:!0,data:!0,dangerouslySetInnerHTML:!0,dateTime:!0,default:!0,defer:!0,dir:!0,disabled:!0,download:!0,draggable:!0,encType:!0,form:!0,formAction:!0,formEncType:!0,formMethod:!0,formNoValidate:!0,formTarget:!0,frameBorder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hrefLang:!0,htmlFor:!0,httpEquiv:!0,icon:!0,id:!0,inputMode:!0,integrity:!0,is:!0,keyParams:!0,keyType:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,manifest:!0,marginHeight:!0,marginWidth:!0,max:!0,maxLength:!0,media:!0,mediaGroup:!0,method:!0,min:!0,minLength:!0,multiple:!0,muted:!0,name:!0,noValidate:!0,nonce:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,profile:!0,radioGroup:!0,readOnly:!0,rel:!0,required:!0,reversed:!0,role:!0,rowSpan:!0,rows:!0,sandbox:!0,scope:!0,scoped:!0,scrolling:!0,seamless:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellCheck:!0,src:!0,srcDoc:!0,srcLang:!0,srcSet:!0,start:!0,step:!0,style:!0,summary:!0,tabIndex:!0,target:!0,title:!0,type:!0,useMap:!0,value:!0,width:!0,wmode:!0,wrap:!0,autoCapitalize:!0,autoCorrect:!0,color:!0,itemProp:!0,itemScope:!0,itemType:!0,itemRef:!0,itemID:!0,security:!0,results:!0,autoSave:!0},l=t.isEligibleHtmlProp=function(e){return s[e]||/^on[A-Z][a-zA-Z]*$/.test(e)||/^(?:data|aria)-.*$/.test(e)},d=function(e){return function(t,n){return l(n)?function(e,t,n){return(0,r.default)(t,(0,o.default)({},n,e[n]))}(e,t,n):t}},u=t.filterHtmlProps=function(e){return(0,a.default)(e).reduce(d(e),{})};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=n(0),d=h(l),u=h(n(7)),c=n(1187),p=n(753);function h(e){return e&&e.__esModule?e:{default:e}}var f={content:u.default.string.isRequired},m=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.content,t={__html:(0,c.sanitize)(e)};return d.default.createElement("div",{className:"crop-body__small-title",dangerouslySetInnerHTML:t})}}],[{key:"getId",value:function(){return p.IDS.content}}]),t}(l.Component);t.default=m,m.propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){return e&&(0,a.sanitize)(e)},t.sanitizeWithPolicy=function(e,t){return e&&(0,a.sanitizeWithPolicy)(e,t)};var a=n(643)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=n(0),d=p(l),u=p(n(7)),c=n(753);function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.title;return d.default.createElement("div",{className:"crop-body__title"},e)}}],[{key:"getId",value:function(){return c.IDS.title}}]),t}(l.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=v(n(51)),s=v(n(41)),l=v(n(43)),d=v(n(52)),u=v(n(53)),c=n(0),p=v(c),h=v(n(7)),f=n(72),m=n(671),E=v(n(1190)),g=v(n(1191)),_=v(n(651));function v(e){return e&&e.__esModule?e:{default:e}}var S=function(e,t){return e<t-1},y=function(e){var t=e.scale,n=e.imageDimensions,a=e.editorDimensions,o=n.height,r=n.width,i=a.height,s=a.width,l=o*t+m.DEFAULT_PADDING,d=r*t+m.DEFAULT_PADDING;return t>1||l>i||d>s},T=(0,f.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,locale:e.signatureEditor.locale.toolbar,canUndo:(n=e.signatureEditor.currentStep,a=e.signatureEditor.minStep,n>a),canRedo:S(e.signatureEditor.currentStep,e.signatureEditor.totalSteps),canZoomIn:(t=e.signatureEditor.scale,t<m.MAX_ZOOM),canZoomOut:y(e.signatureEditor)};var t,n,a},{selectTool:_.default.selectTool,undoHistory:_.default.undoHistory,redoHistory:_.default.redoHistory,zoomIn:_.default.zoomIn,zoomOut:_.default.zoomOut})((r=o=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"renderControls",value:function(){var e=this.props,t=e.canUndo,n=e.canRedo,a=e.undoHistory,o=e.redoHistory,r=e.zoomIn,i=e.zoomOut,s=e.canZoomIn,l=e.canZoomOut;return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},p.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},p.default.createElement(g.default,{iconClass:"i-undo",onClick:a,disabled:!t}),p.default.createElement(g.default,{iconClass:"i-redo",onClick:o,disabled:!n}),p.default.createElement(g.default,{iconClass:"i-zoomin",onClick:r,disabled:!s}),p.default.createElement(g.default,{iconClass:"i-zoomout",onClick:i,disabled:!l})))}},{key:"renderMainTools",value:function(){var e=this.props,t=e.selectTool,n=e.selectedTool,a=e.locale,o=[{title:a.flipRotate,id:m.TOOLS.flipRotate,iconClass:"i-rotate-right"},{title:a.crop,id:m.TOOLS.crop,iconClass:"i-crop"},{title:a.erase,id:m.TOOLS.erase,iconClass:"i-erase"},{title:a.adjust,id:m.TOOLS.adjust,iconClass:"i-adjust"}];return p.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right"},o.map(function(e){return p.default.createElement(E.default,{key:e.id,title:e.title,iconClass:e.iconClass,isActive:e.id===n,onClick:function(){return t(e.id)}})}))}},{key:"render",value:function(){return p.default.createElement("div",{className:"sign-m-upload-nav"},this.renderControls(),this.renderMainTools())}}]),t}(c.Component),o.propTypes={selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,canUndo:h.default.bool.isRequired,canRedo:h.default.bool.isRequired,canZoomIn:h.default.bool.isRequired,canZoomOut:h.default.bool.isRequired,selectTool:h.default.func.isRequired,undoHistory:h.default.func.isRequired,redoHistory:h.default.func.isRequired,zoomIn:h.default.func.isRequired,zoomOut:h.default.func.isRequired},a=r))||a;t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=n(0),d=p(l),u=p(n(7)),c=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}var h={title:u.default.string.isRequired,iconClass:u.default.string.isRequired,isActive:u.default.bool.isRequired,onClick:u.default.func.isRequired},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconClass,a=e.isActive,o=e.onClick,r=(0,c.default)("sign-m-upload-nav__tab",{active:a});return d.default.createElement("div",{className:r,onClick:o},d.default.createElement("i",{className:"i "+n}),t)}}]),t}(l.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(0)),o=i(n(7)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.iconClass,n=e.onClick,o=e.disabled,i={},s=(0,r.default)("sign-m-upload-nav__btn",{disabled:o});return o&&(i.pointerEvents="none"),a.default.createElement("div",{className:s,onClick:n,style:i},a.default.createElement("i",{className:"i "+t}))};s.propTypes={iconClass:o.default.string.isRequired,onClick:o.default.func.isRequired,disabled:o.default.bool},s.defaultProps={disabled:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=S(n(51)),s=S(n(41)),l=S(n(43)),d=S(n(52)),u=S(n(53)),c=n(0),p=S(c),h=S(n(7)),f=n(72),m=S(n(1193)),E=n(1194),g=S(n(1196)),_=n(671),v=S(n(651));function S(e){return e&&e.__esModule?e:{default:e}}var y=(0,f.connect)(function(e){return{threshold:e.signatureEditor.threshold,brightness:e.signatureEditor.brightness,contrast:e.signatureEditor.contrast,selectedTool:e.signatureEditor.selectedTool,eraserThickness:e.signatureEditor.eraserThickness,locale:e.signatureEditor.locale.toolSubBar}},{rotateImage:v.default.rotateImage,flipImage:v.default.flipImage,setThickness:v.default.setThickness,applyCrop:v.default.applyCrop,setBrightness:v.default.setBrightness,setContrast:v.default.setContrast,setThreshold:v.default.setThreshold,saveImageState:v.default.saveImageState,autoAdjustImage:v.default.autoAdjustImage})((r=o=function(e){function t(){(0,s.default)(this,t);var e=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.toggleThicknessSelector=function(){e.setState(function(e){return{openThicknessSelector:!e.openThicknessSelector}})},e.setThickness=function(t){var n=e.props.setThickness;e.setState({openThicknessSelector:!1},function(){return n(t)})},e.state={openThicknessSelector:!1},e}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this.setState({openThicknessSelector:!1})}},{key:"renderAdjustTools",value:function(){var e=this.props,t=e.locale,n=e.setBrightness,a=e.setContrast,o=e.setThreshold,r=e.threshold,i=e.brightness,s=e.contrast,l=e.saveImageState,d=e.autoAdjustImage;return p.default.createElement("div",{className:"sign-m-upload-nav-sub sign-m-upload-nav-sub--adjust show"},p.default.createElement("div",{className:"sign-m-upload-nav-btn-wrap"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm",iconLeft:"i-auto",onClick:d},t.autoAdjust)),p.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-wrap"},p.default.createElement(m.default,{iconClass:"i-brightness",min:_.IMAGE_CLEANER_CONFIG.minBrightness,max:_.IMAGE_CLEANER_CONFIG.maxBrightness,value:i,onChange:n,onChangeComplete:l}),p.default.createElement(m.default,{iconClass:"i-contrast",min:_.IMAGE_CLEANER_CONFIG.minContrast,max:_.IMAGE_CLEANER_CONFIG.maxContrast,value:s,onChange:a,onChangeComplete:l}),p.default.createElement(m.default,{iconClass:"i-clear-bg",min:_.IMAGE_CLEANER_CONFIG.minThreshold,max:_.IMAGE_CLEANER_CONFIG.maxThreshold,value:r,onChange:o,onChangeComplete:l})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedTool,a=t.locale,o=t.rotateImage,r=t.flipImage,i=t.applyCrop,s=t.eraserThickness,l=this.state.openThicknessSelector;switch(n){case _.TOOLS.flipRotate:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",style:{transition:"initial"},iconLeft:"i-flip-horisontal",onClick:function(){return r({horizontally:!0})}},a.flipHorizontal),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-flip-vertical",onClick:function(){return r({vertically:!0})}},a.flipVertical),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-left",onClick:function(){return o(!1)}},a.rotateLeft),p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-right",onClick:function(){return o(!0)}},a.rotateRight));case _.TOOLS.crop:return p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement(E.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm sign-m-upload-nav__btn-primary",style:{transition:"initial"},onClick:i},a.applyCrop));case _.TOOLS.erase:var d="g-dropdown-wrap sign-m-dropdown-list-thickness";return l&&(d+=" open"),p.default.createElement("div",{className:"sign-m-upload-nav-sub show"},p.default.createElement("div",{className:d},p.default.createElement(E.Button,{className:"g-btn g-btn-sm g-btn-empty",iconLeft:"i-thinkness",onClick:this.toggleThicknessSelector},a.thickness),p.default.createElement("div",{className:"g-dropdown-popup"},p.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),p.default.createElement("div",{className:"g-dropdown-popup-list"},_.IMAGE_CLEANER_CONFIG.thickness.map(function(t){return p.default.createElement(g.default,{key:t,thickness:t,isSelected:t===s,onClick:e.setThickness})})))));case _.TOOLS.adjust:return this.renderAdjustTools();default:return null}}}]),t}(c.Component),o.propTypes={rotateImage:h.default.func.isRequired,flipImage:h.default.func.isRequired,setThickness:h.default.func.isRequired,applyCrop:h.default.func.isRequired,setContrast:h.default.func.isRequired,setThreshold:h.default.func.isRequired,setBrightness:h.default.func.isRequired,saveImageState:h.default.func.isRequired,autoAdjustImage:h.default.func.isRequired,selectedTool:h.default.string.isRequired,locale:h.default.object.isRequired,threshold:h.default.number.isRequired,brightness:h.default.number.isRequired,contrast:h.default.number.isRequired,eraserThickness:h.default.number.isRequired},a=r))||a;t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(51)),o=c(n(41)),r=c(n(43)),i=c(n(52)),s=c(n(53)),l=n(0),d=c(l),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var p={onChange:u.default.func.isRequired,onChangeComplete:u.default.func,value:u.default.number,min:u.default.number,max:u.default.number,step:u.default.number,iconClass:u.default.string},h=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.handleStart=function(){document.addEventListener("mousemove",e.handleDrag),document.addEventListener("mouseup",e.handleEnd)},e.handleEnd=function(){e.onChangeComplete(),document.removeEventListener("mousemove",e.handleDrag),document.removeEventListener("mouseup",e.handleEnd)},e.handleClick=function(t){e.handleDrag(t),e.onChangeComplete()},e.handleDrag=function(t){var n,a=e.props.onChange,o=e.state,r=o.correction,i=o.step,s=t.touches?t.touches[0].clientX:t.clientX,l=e.slider.getBoundingClientRect(),d=s-l.left,u=0;d>l.width?d=l.width:d<0&&(d=0),d>0&&(u=d/l.width*100),a(n=Math.round(u*i-r)),e.setState({position:u,value:n})},e.onChangeComplete=function(){(0,e.props.onChangeComplete)(e.state.value)},e.storeSliderRef=function(t){e.slider=t},e.storeHandleRef=function(t){e.handle=t},e.state={limit:0,position:0,min:0,max:0,value:0,correction:0},e.slider=null,e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,n=t.min,a=t.max,o=t.value,r=0,i=0;n<0?r+=Math.abs(n):n>0&&(r-=n),e=((a+=r)-(n+=r))/100,0!==(o+=r)&&(i=Math.round(o/a*100)),this.setState({min:n,max:a,value:o,correction:r,position:i,step:e})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.correction,o=n.max,r=this.props.value+a;if(r!==t.value){var i=Math.round(r/o*100);this.setState({value:r,position:i})}}},{key:"renderIcon",value:function(){var e=this.props.iconClass;return e?d.default.createElement("i",{className:"i "+e}):null}},{key:"render",value:function(){var e=this.state.position,t={width:e+"%"},n={left:e+"%"};return d.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-item"},this.renderIcon(),d.default.createElement("div",{style:{cursor:"pointer"},className:"range-slider",ref:this.storeSliderRef,onMouseDown:this.handleClick},d.default.createElement("div",{style:t,className:"range-slider__bar"}),d.default.createElement("div",{className:"range-slider__bar"}),d.default.createElement("div",{style:n,ref:this.storeHandleRef,className:"range-slider__handle",onMouseDown:this.handleStart})))}}]),t}(l.Component);t.default=h,h.propTypes=p,h.defaultProps={onChangeComplete:function(){},value:0,min:0,max:100,step:1,iconClass:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var a=E(n(328)),o=E(n(223)),r=E(n(645)),i=E(n(51)),s=E(n(41)),l=E(n(43)),d=E(n(52)),u=E(n(53)),c=E(n(0)),p=E(n(7)),h=E(n(10)),f=E(n(644)),m=n(1195);function E(e){return e&&e.__esModule?e:{default:e}}(t.Button=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"renderIcon",value:function(e){return c.default.createElement(m.Icon,{classNames:e})}},{key:"renderIconLeft",value:function(e){return!!e&&this.renderIcon(e)}},{key:"renderIconRight",value:function(e){return!!e&&this.renderIcon(e)}},{key:"render",value:function(){var e,t=this.props,n=t.iconRight,i=t.iconLeft,s=t.confirmButtonRef,l=(0,r.default)(t,["iconRight","iconLeft","confirmButtonRef"]);f.default.prefixes.gBtn="g-btn--";var d=(0,h.default)({"g-btn--icon-right":n}),u=(e={},(0,o.default)(e,this.props.pull,this.props.pull),(0,o.default)(e,"name","g-btn"),(0,o.default)(e,"modifiers",["width","type","size"]),(0,o.default)(e,"disabled",["disabled"]),(0,o.default)(e,"classNamesIconRight",d),e);return c.default.createElement("button",(0,a.default)({},l,{type:"button",className:(0,f.default)(u,this.props,this.props.className),ref:s}),this.renderIconLeft(i),this.props.children,this.renderIconRight(n))}}]),t}(c.default.Component)).propTypes={size:p.default.string,type:p.default.string,width:p.default.string,disabled:p.default.bool,iconRight:p.default.string,iconLeft:p.default.string,pull:p.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(328)),o=d(n(223)),r=d(n(645));t.Icon=u;var i=d(n(0)),s=d(n(7)),l=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}function u(e){var t,n=e.baseClass,s=e.classNames,d=e.customClass,u=(0,r.default)(e,["baseClass","classNames","customClass"]),c=n+"-",p=(0,l.default)(n,(t={},(0,o.default)(t,c+s,s&&s.substr(0,2)!==c),(0,o.default)(t,s,s&&s.substr(0,2)===c),(0,o.default)(t,d,d),t));return i.default.createElement("i",(0,a.default)({},u,{className:p}))}u.defaultProps={baseClass:"i"},u.propTypes={classNames:s.default.string.isRequired,customClass:s.default.string,baseClass:s.default.string}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),o=r(n(7));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.thickness,n=e.onClick,o={};return e.isSelected&&(o.backgroundColor="#e5e5e5"),a.default.createElement("div",{className:"sign-m-dropdown-thickness",style:o,onClick:function(){return n(t)}},a.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--"+t+"px"}))};i.propTypes={thickness:o.default.number.isRequired,onClick:o.default.func.isRequired,isSelected:o.default.bool.isRequired},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=O(n(328)),s=O(n(51)),l=O(n(41)),d=O(n(43)),u=O(n(52)),c=O(n(53)),p=n(0),h=O(p),f=O(n(7)),m=n(72),E=n(649),g=O(n(1198)),_=O(n(1200)),v=O(n(996)),S=O(n(1201)),y=n(671),T=O(n(651));function O(e){return e&&e.__esModule?e:{default:e}}var b={position:"relative",width:"100%",height:"100%",overflow:"hidden"},C=(0,m.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,src:e.signatureEditor.image,eraserThickness:e.signatureEditor.eraserThickness,scale:e.signatureEditor.scale,imageDimensions:e.signatureEditor.imageDimensions}},{setImage:T.default.setImage,setCroppedImage:T.default.setCroppedImage,saveErasedImage:T.default.saveErasedImage,setImageDimensions:T.default.setImageDimensions,setEditorDimensions:T.default.setEditorDimensions,applyCrop:T.default.applyCrop})((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.setWrapperReference=function(e){n.editorWrapper=e},n.setScrollReference=function(e){n.scroll=e},n.onScrollEnd=function(e){n.setState(function(t){return{scrollOptions:(0,i.default)({},t.scrollOptions,{startX:e.x,startY:e.y})}})},n.state={image:null,scrollOptions:(0,i.default)({},y.ISCROLL_CONFIG,{startX:0,startY:0}),imageWidth:n.addPadding(e.imageDimensions.width),imageHeight:n.addPadding(e.imageDimensions.height)},n.scroll=null,n.editorWrapper=null,n.mounted=!1,n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.setEditorDimensions(),this.drawImage(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,a=t.scale,o=t.selectedTool;n&&n!==e.src?this.drawImage():a!==e.scale?this.scaleImage():o!==e.selectedTool&&this.handleToolChange(e.selectedTool)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"setEditorDimensions",value:function(){if(this.editorWrapper){var e=this.props.setEditorDimensions,t=this.editorWrapper;e({width:t.offsetWidth,height:t.offsetHeight})}}},{key:"drawImage",value:function(e){var t=this,n=this.props.src;(0,E.base64ToImage)(n).then(function(n){t.mounted&&t.handleImageUpdate(n,e)})}},{key:"scaleImage",value:function(){if(this.scroll){var e=this.props.scale,t=this.state,n=t.imageWidth,a=t.imageHeight,o=this.getStartPosition(n*e,a*e),r=o.offsetLeft,s=o.offsetTop;this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{startX:r,startY:s})}}),this.scroll.withIScroll(!0,function(t){return t.zoom(e)})}}},{key:"handleImageUpdate",value:function(e,t){var n=this,a=this.props,o=a.selectedTool,r=a.setImageDimensions,s=a.scale,l=e.width,d=e.height,u=this.addPadding(l),c=this.addPadding(d),p=this.state.scrollOptions,h=p.startX,f=p.startY;if(t){var m=this.getStartPosition(u*s,c*s),E=m.offsetLeft,g=m.offsetTop;h=E,f=g}this.setState(function(t){return{image:e,scrollOptions:(0,i.default)({},t.scrollOptions,{startX:h,startY:f}),imageWidth:u,imageHeight:c}},function(){r({width:l,height:d}),t||o!==y.TOOLS.crop||n.scaleImage()})}},{key:"getStartPosition",value:function(e,t){var n=this.editorWrapper;return{offsetLeft:(n.offsetWidth-e)/2,offsetTop:(n.offsetHeight-t)/2}}},{key:"handleToolChange",value:function(e){var t=this.props.selectedTool;t===y.TOOLS.crop&&e!==y.TOOLS.erase||t===y.TOOLS.erase&&e!==y.TOOLS.crop?this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!0,disablePointer:!0,disableTouch:!0})}}):(t===y.TOOLS.flipRotate&&e!==y.TOOLS.adjust||t===y.TOOLS.adjust&&e!==y.TOOLS.flipRotate)&&this.setState(function(e){return{scrollOptions:(0,i.default)({},e.scrollOptions,{disableMouse:!1,disablePointer:!1,disableTouch:!1})}})}},{key:"addPadding",value:function(e){return e+2*y.DEFAULT_PADDING}},{key:"renderTool",value:function(){var e=this.props,t=e.selectedTool,n=e.src,a=e.eraserThickness,o=e.saveErasedImage,r=e.setCroppedImage,i=e.scale,s=this.state.image;switch(t){case y.TOOLS.crop:return h.default.createElement(g.default,{image:n,handleImage:r,scale:i,applyCrop:this.props.applyCrop});case y.TOOLS.erase:return h.default.createElement(_.default,{image:n,handleImage:o,thickness:a,scale:i});default:return h.default.createElement(v.default,{image:s})}}},{key:"renderScroll",value:function(){var e=this.state,t=e.scrollOptions,n={width:e.imageWidth+"px",height:e.imageHeight+"px",marginTop:y.DEFAULT_PADDING+"px"};return h.default.createElement(S.default,{options:t,onScrollEnd:this.onScrollEnd,scrollRef:this.setScrollReference,style:b},h.default.createElement("div",{style:n},this.renderTool()))}},{key:"render",value:function(){var e=this.state.image;return h.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top",ref:this.setWrapperReference},e?this.renderScroll():null)}}]),t}(p.Component),o.propTypes={selectedTool:f.default.string.isRequired,setImage:f.default.func.isRequired,setCroppedImage:f.default.func.isRequired,saveErasedImage:f.default.func.isRequired,setImageDimensions:f.default.func.isRequired,setEditorDimensions:f.default.func.isRequired,eraserThickness:f.default.number.isRequired,scale:f.default.number.isRequired,src:f.default.string.isRequired,imageDimensions:f.default.object.isRequired,applyCrop:f.default.func.isRequired},a=r))||a;t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=n(0),d=h(l),u=h(n(7)),c=h(n(1199)),p=n(649);function h(e){return e&&e.__esModule?e:{default:e}}var f="png",m={image:u.default.string.isRequired,handleImage:u.default.func,handleCropperRectangle:u.default.func,applyCrop:u.default.func.isRequired,rectWidth:u.default.number,rectHeight:u.default.number,aspect:u.default.number,rectPositionX:u.default.number,rectPositionY:u.default.number,scale:u.default.number,cropperClassName:u.default.string,maxCroppedImageHeight:u.default.number,maxCroppedImageWidth:u.default.number},E=function(e){function t(e){(0,o.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.setImage=function(e,t){n.image=t,n.crop(e)},n.crop=function(e){var t=n.props,a=t.handleImage,o=t.handleCropperRectangle,r=t.maxCroppedImageHeight,i=t.maxCroppedImageWidth,s=n.image.naturalWidth,l=n.image.naturalHeight,d=e.x/100*s,u=e.y/100*l,c=document.createElement("canvas"),p=c.getContext("2d"),h=e.width/100*s,m=e.height/100*l,E=new Image;h<1&&(h=1),m<1&&(m=1),c.width=h,c.height=m,h===s&&m===l?p.drawImage(n.image,0,0):(p.drawImage(n.image,d,u,h,m,0,0,h,m),o(e)),E.onload=function(){r&&i?n.checkImageSize(c.toDataURL("image/"+f),m,h):a(c.toDataURL("image/"+f),m,h,f)},E.src=c.toDataURL("image/"+f),n.setState({rectWidth:e.width,rectHeight:e.height,rectPositionX:e.x,rectPositionY:e.y})},n.state={rectWidth:e.rectWidth,rectHeight:e.rectHeight,rectPositionX:e.rectPositionX,rectPositionY:e.rectPositionY},n.image=null,n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"checkImageSize",value:function(e,t,n){var a=this.props,o=a.handleImage,r=a.maxCroppedImageHeight,i=a.maxCroppedImageWidth;if(t>r||n>i){var s={dataUri:e,width:i,height:r,isImageMirrored:!1,orientation:1};(0,p.resizeToFit)(s).then(function(e){return o(e.resizedImage,e.height,e.width,f)})}else o(e,t,n,f)}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.aspect,a=e.scale,o=e.cropperClassName,r=this.state,i=r.rectWidth,s=r.rectHeight,l={x:r.rectPositionX,y:r.rectPositionY,width:i,height:s,aspect:n};return d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement(c.default,{src:t,crop:l,scale:a,onComplete:this.crop,onImageLoaded:this.setImage,cropperClassName:o,applyCrop:this.props.applyCrop}))}}]),t}(l.Component);t.default=E,E.propTypes=m,E.defaultProps={handleImage:function(){},handleCropperRectangle:function(){},rectWidth:100,rectHeight:100,rectPositionX:0,rectPositionY:0,scale:1,maxCroppedImageHeight:0,maxCroppedImageWidth:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o,r=m(n(51)),i=m(n(41)),s=m(n(43)),l=m(n(52)),d=m(n(53)),u=m(n(328)),c=n(0),p=m(c),h=m(n(7)),f=m(n(644));function m(e){return e&&e.__esModule?e:{default:e}}var E={doubleClick:"dblclick",keyPress:"keypress"},g={enter:13},_={x:0,y:0,width:100,height:100};function v(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function S(e){var t=void 0,n=void 0;return e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),{x:t,y:n}}function y(e,t,n){return Math.min(Math.max(e,t),n)}function T(e){return!e.width||!e.height}function O(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function b(e,t){var n=t.naturalWidth/t.naturalHeight,a=(0,u.default)({},e);return a.width?a.height=a.width/a.aspect*n:a.height&&(a.width=a.height*a.aspect/n),a.y+a.height>100&&(a.height=100-a.y,a.width=a.height*a.aspect/n),a.x+a.width>100&&(a.width=100-a.x,a.height=a.width/a.aspect*n),a}var C=(o=a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.applyCrop=function(e){var t=e.type,a=e.keyCode;(t===E.doubleClick||t===E.keyPress&&a===g.enter)&&n.props.applyCrop()},n.restoreDefaultCropSize=function(){n.setState(function(e){return(0,u.default)({},e,{crop:(0,u.default)({},e.crop,_)})})},n.storeCropSelectRef=function(e){n.cropSelectRef=e},n.storeComponentRef=function(e){n.componentRef=e},n.storeImageRef=function(e){n.imageRef=e},n.storeCropWraperRef=function(e){n.cropWrapperRef=e},n.storeImageCopyRef=function(e){n.imageCopyRef=e},n.onDocMouseTouchMove=n.onDocMouseTouchMove.bind(n),n.onDocMouseTouchEnd=n.onDocMouseTouchEnd.bind(n),n.onImageLoad=n.onImageLoad.bind(n),n.onComponentMouseTouchDown=n.onComponentMouseTouchDown.bind(n),n.onComponentKeyDown=n.onComponentKeyDown.bind(n),n.onCropMouseTouchDown=n.onCropMouseTouchDown.bind(n),n.state={crop:n.nextCropState(e.crop)},n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("mousemove",this.onDocMouseTouchMove),document.addEventListener("touchmove",this.onDocMouseTouchMove),document.addEventListener("mouseup",this.onDocMouseTouchEnd),document.addEventListener("touchend",this.onDocMouseTouchEnd),document.addEventListener("touchcancel",this.onDocMouseTouchEnd),this.cropWrapperRef&&(this.cropWrapperRef.addEventListener("dblclick",this.applyCrop),document.addEventListener("keypress",this.applyCrop)),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var e=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=e}else this.onImageLoad(this.imageRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.crop){var n=this.nextCropState(e.crop),a=n.aspect!==this.state.crop.aspect;n.aspect&&(n=b(n,this.imageRef)),this.cropInvalid=T(n),this.setState({crop:n},function(){a&&t.props.onAspectRatioChange(n,t.getPixelCrop(n))})}e.src!==this.props.src&&this.restoreDefaultCropSize()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onDocMouseTouchMove),document.removeEventListener("touchmove",this.onDocMouseTouchMove),document.removeEventListener("mouseup",this.onDocMouseTouchEnd),document.removeEventListener("touchend",this.onDocMouseTouchEnd),document.removeEventListener("touchcancel",this.onDocMouseTouchEnd),this.cropWrapperRef&&(this.cropWrapperRef.removeEventListener("dblclick",this.applyCrop),document.removeEventListener("keypress",this.applyCrop))}},{key:"onDocMouseTouchMove",value:function(e){if(this.props.onDragStart(),!this.props.disabled&&this.mouseDownOnCrop){var t=this.state.crop,n=this.evData,a=S(e);n.isResize&&t.aspect&&n.cropOffset&&(a.y=this.straightenYPath(a.x));var o=a.x-n.clientStartX;n.xDiffPc=o/n.imageWidth*100/this.props.scale;var r=a.y-n.clientStartY;n.yDiffPc=r/n.imageHeight*100/this.props.scale,n.isResize?this.resizeCrop():this.dragCrop(),this.cropInvalid=!1,this.props.onChange(t,this.getPixelCrop(t)),this.setState({crop:t})}}},{key:"onCropMouseTouchDown",value:function(e){if(!this.props.disabled){var t=this.state.crop,n=S(e);this.componentRef.focus();var a=e.target.dataset.ord,o="nw"===a||"w"===a||"sw"===a,r="nw"===a||"n"===a||"ne"===a,i=void 0;t.aspect&&(i=v(this.cropSelectRef)),this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:o?t.x+t.width:t.x,cropStartY:r?t.y+t.height:t.y,xInversed:o,yInversed:r,xCrossOver:o,yCrossOver:r,startXCrossOver:o,startYCrossOver:r,isResize:e.target!==this.cropSelectRef,ord:a,cropOffset:i},this.mouseDownOnCrop=!0}}},{key:"onComponentMouseTouchDown",value:function(e){if((e.target===this.imageCopyRef||e.target===this.cropWrapperRef)&&!this.props.disabled){e.preventDefault();var t=!0===this.props.keepSelection?{}:this.state.crop,n=S(e);this.componentRef.focus();var a=v(this.imageRef),o=(n.x-a.left)/this.imageRef.width*100,r=(n.y-a.top)/this.imageRef.height*100;t.x=o/this.props.scale,t.y=r/this.props.scale,t.width=0,t.height=0,this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:t.x,cropStartY:t.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},this.mouseDownOnCrop=!0,this.setState({newCropIsBeingDrawn:!0})}}},{key:"onComponentKeyDown",value:function(e){var n=this;if(!this.props.disabled){var a=e.which,o=this.state.crop,r=!1;o.width&&o.height&&(a===t.arrowKey.left?(o.x-=t.nudgeStep,r=!0):a===t.arrowKey.right?(o.x+=t.nudgeStep,r=!0):a===t.arrowKey.up?(o.y-=t.nudgeStep,r=!0):a===t.arrowKey.down&&(o.y+=t.nudgeStep,r=!0),r&&(e.preventDefault(),o.x=y(o.x,0,100-o.width),o.y=y(o.y,0,100-o.height),this.setState({crop:o},function(){n.props.onChange(o,n.getPixelCrop(o)),n.props.onComplete(o,n.getPixelCrop(o))})))}}},{key:"onDocMouseTouchEnd",value:function(){if(this.props.onDragEnd(),!this.props.disabled&&this.mouseDownOnCrop){var e=this.state.crop;this.cropInvalid=T(e),this.mouseDownOnCrop=!1,this.props.onComplete(e,this.getPixelCrop(e)),this.setState({newCropIsBeingDrawn:!1})}}},{key:"onImageLoad",value:function(e){var t=this.state.crop;t.aspect&&(t=b(t,e),this.cropInvalid=T(t),this.setState({crop:t})),this.props.onImageLoaded&&this.props.onImageLoaded(t,e,this.getPixelCrop(t))}},{key:"getPixelCrop",value:function(e){return{x:Math.round(this.imageRef.width*(e.x/100)),y:Math.round(this.imageRef.height*(e.y/100)),width:Math.round(this.imageRef.width*(e.width/100)),height:Math.round(this.imageRef.height*(e.height/100))}}},{key:"getCropStyle",value:function(){return{top:this.state.crop.y+"%",left:this.state.crop.x+"%",width:this.state.crop.width+"%",height:this.state.crop.height+"%"}}},{key:"getNewSize",value:function(){var e=this.state.crop,t=this.evData,n=t.imageWidth/t.imageHeight,a=t.cropStartWidth+t.xDiffPc;t.xCrossOver&&(a=Math.abs(a));var o=this.props.maxWidth;this.state.newCropIsBeingDrawn||(o=y(o=["nw","w","sw"].indexOf(t.inversedXOrd||t.ord)>-1?t.cropStartX:100-t.cropStartX,100,this.props.maxWidth)),a=y(a,this.props.minWidth,o);var r=void 0;r=e.aspect?a/e.aspect*n:t.cropStartHeight+t.yDiffPc,t.yCrossOver&&(r=Math.min(Math.abs(r),t.cropStartY));var i=this.props.maxHeight;return this.state.newCropIsBeingDrawn||(i=y(i=["nw","n","ne"].indexOf(t.inversedYOrd||t.ord)>-1?t.cropStartY:100-t.cropStartY,100,this.props.maxHeight)),r=y(r,this.props.minHeight,i),e.aspect&&(a=y(r*e.aspect/n,0,100)),{width:a,height:r}}},{key:"dragCrop",value:function(){var e=this.state.crop,t=this.evData;e.x=y(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=y(t.cropStartY+t.yDiffPc,0,100-e.height)}},{key:"resizeCrop",value:function(){var e=this.state.crop,n=this.evData,a=n.ord;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var o=this.getNewSize(),r=n.cropStartX,i=n.cropStartY;n.xCrossOver&&(r=e.x+(e.width-o.width)),n.yCrossOver&&(i=!1===n.lastYCrossover?e.y-o.height:e.y+(e.height-o.height)),e.aspect||t.xyOrds.indexOf(a)>-1?(e.x=y(r,0,100-o.width),e.y=y(i,0,100-o.height),e.width=o.width,e.height=o.height):t.xOrds.indexOf(a)>-1?(e.x=y(r,0,100-o.width),e.width=o.width):t.yOrds.indexOf(a)>-1&&(e.y=y(i,0,100-o.height),e.height=o.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck()}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,a=t.cropOffset,o=t.cropStartWidth/100*t.imageWidth,r=t.cropStartHeight/100*t.imageHeight,i=void 0,s=void 0;return"nw"===n||"se"===n?(i=r/o,s=a.top-a.left*i):(i=-r/o,s=a.top+(r-a.left*i)),i*e+s}},{key:"createCropSelection",value:function(){var e=this.getCropStyle();return p.default.createElement("div",{ref:this.storeCropSelectRef,style:e,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},p.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),p.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"}))}},{key:"nextCropState",value:function(e){var n=(0,u.default)({},t.defaultCrop,e);return this.cropInvalid=T(n),n}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&O(e.ord),e.inversedYOrd=!!n&&O(e.ord)}},{key:"render",value:function(){var e=this,t=void 0;this.cropInvalid||(t=this.createCropSelection());var n=["ReactCrop"];return this.state.newCropIsBeingDrawn&&n.push("ReactCrop--new-crop"),this.state.crop.aspect&&n.push("ReactCrop--fixed-aspect"),this.props.disabled&&n.push("ReactCrop--disabled"),p.default.createElement("div",{ref:this.storeComponentRef,className:(0,f.default)(n,this.props.cropperClassName),onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"1",onKeyDown:this.onComponentKeyDown},p.default.createElement("img",{ref:this.storeImageRef,crossOrigin:this.props.crossorigin,className:"ReactCrop__image",src:this.props.src,onLoad:function(t){return e.onImageLoad(t.target)},alt:this.props.imageAlt}),p.default.createElement("div",{className:"ReactCrop__crop-wrapper",ref:this.storeCropWraperRef},p.default.createElement("img",{ref:this.storeImageCopyRef,crossOrigin:this.props.crossorigin,className:"ReactCrop__image-copy",src:this.props.src,alt:this.props.imageAlt}),t),this.props.children)}}]),t}(c.Component),a.propTypes={src:h.default.string.isRequired,crop:h.default.shape({x:h.default.number,y:h.default.number,width:h.default.number,height:h.default.number}),imageAlt:h.default.string,minWidth:h.default.number,minHeight:h.default.number,maxWidth:h.default.number,maxHeight:h.default.number,keepSelection:h.default.bool,onChange:h.default.func,onComplete:h.default.func,onImageLoaded:h.default.func,onAspectRatioChange:h.default.func,applyCrop:h.default.func.isRequired,onDragStart:h.default.func,onDragEnd:h.default.func,disabled:h.default.bool,crossorigin:h.default.string,children:h.default.oneOfType([h.default.arrayOf(h.default.node),h.default.node]),className:h.default.string},a.defaultProps={crop:void 0,crossorigin:void 0,disabled:!1,imageAlt:"",maxWidth:_.width,maxHeight:_.height,minWidth:0,minHeight:0,keepSelection:!1,onChange:function(){},onComplete:function(){},onImageLoaded:function(){},onAspectRatioChange:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0},a.xOrds=["e","w"],a.yOrds=["n","s"],a.xyOrds=["nw","ne","se","sw"],a.arrowKey={left:37,up:38,right:39,down:40},a.nudgeStep=.2,a.defaultCrop={x:0,y:0,width:0,height:0,aspect:!1},o);t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(51)),i=h(n(41)),s=h(n(43)),l=h(n(52)),d=h(n(53)),u=n(0),c=h(u),p=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}var f="png",m=(o=a=function(e){function t(){(0,i.default)(this,t);var e=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.onMouseDown=function(t){var n=t.nativeEvent,a=n.offsetX,o=n.offsetY;e.ctx.globalCompositeOperation="destination-out",e.setState({lastX:a,lastY:o,isErasing:!0},function(){return e.erase(a,o)})},e.onMouseUp=function(){var t=e.props.handleImage;e.state.isErasing&&(e.ctx.globalCompositeOperation="source-over",t(e.canvas.toDataURL("image/"+f),e.canvas.width,e.canvas.height,f),e.setState({isErasing:!1}))},e.onMouseMove=function(t){var n=e.props.scale,a=e.canvas.getBoundingClientRect(),o=a.left,r=a.top,i=a.right,s=a.bottom,l=(t.clientX-o)/n,d=(t.clientY-r)/n;e.erase(l,d),t.clientX>o-100&&t.clientX<i+100&&t.clientY>r-100&&t.clientY<s+100&&e.setState({lastX:l,lastY:d})},e.onMouseLeave=function(t){var n=t.nativeEvent,a=n.offsetX,o=n.offsetY;e.erase(a,o)},e.initCanvas=function(){var t=e.image,n=t.width,a=t.height;e.setState({width:n,height:a},function(){e.ctx.clearRect(0,0,n,a),e.ctx.drawImage(e.image,0,0,n,a)})},e.storeCanvasRef=function(t){e.canvas=t},e.state={width:1,height:1,isErasing:!1,lastX:-50,lastY:-50},e.canvas=null,e.ctx=null,e}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),this.setImage(),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.thickness,a=t.image;e.thickness!==n?this.setThickness(n):e.image!==a&&this.setImage()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"setImage",value:function(){var e=this,t=this.props,n=t.image,a=t.thickness,o=new Image;o.onload=function(){e.image=o,e.initCanvas(),e.setThickness(a)},o.crossOrigin="Anonymous",o.src=n}},{key:"setThickness",value:function(e){this.ctx.lineWidth=e}},{key:"erase",value:function(e,t){if(this.state.isErasing){var n=this.props.thickness,a=this.state,o=a.lastX,r=a.lastY,i=n/2;this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(o,r),this.ctx.lineTo(e,t),this.ctx.stroke()}}},{key:"getEraserStyle",value:function(){var e=this.props.thickness,t=this.state,n=t.lastX,a=t.lastY,o=this.getCursorCorrection();return{width:e+"px",height:e+"px",left:n-4.5+o.correctionX+"px",top:a-4.75+o.correctionY+"px"}}},{key:"getCursorCorrection",value:function(){switch(this.props.thickness){case 8:return{correctionX:1,correctionY:.95};case 6:return{correctionX:2,correctionY:1.9};case 4:return{correctionX:3,correctionY:2.85};case 2:return{correctionX:4,correctionY:3.8};default:return{correctionX:0,correctionY:0}}}},{key:"render",value:function(){var e=this.state,t=e.width,n=e.height,a=this.getEraserStyle();return c.default.createElement("div",{className:"has-cursor-eraser"},c.default.createElement("canvas",{className:"has-cursor-eraser__canvas",onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,width:t,height:n,ref:this.storeCanvasRef}),c.default.createElement("div",{className:"has-cursor-eraser__pointer",style:a}))}}]),t}(u.Component),a.propTypes={image:p.default.string.isRequired,handleImage:p.default.func.isRequired,thickness:p.default.number.isRequired,scale:p.default.number},a.defaultProps={scale:1},o);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(328)),o=d(n(645)),r=d(n(0)),i=d(n(7)),s=d(n(1202)),l=d(n(1213));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.options,n=e.children,i=e.scrollRef,d=(0,o.default)(e,["options","children","scrollRef"]);return r.default.createElement(s.default,(0,a.default)({iScroll:l.default,options:t,ref:i},d),n)};u.propTypes={options:i.default.object.isRequired,children:i.default.object.isRequired,scrollRef:i.default.func.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=h(n(328)),i=h(n(51)),s=h(n(41)),l=h(n(43)),d=h(n(52)),u=h(n(53)),c=h(n(0)),p=h(n(997));function h(e){return e&&e.__esModule?e:{default:e}}for(var f=["defer","iScroll","onRefresh","options"],m={},E=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],g=0,_=E.length;g<_;g++){var v=E[g],S="on"+v[0].toUpperCase()+v.slice(1);m[S]=v,f.push(S)}var y=(o=a=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n._node=null,n._isMounted=!1,n._initializeTimeout=null,n._queuedCallbacks=[],n._iScrollBindedEvents={},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initializeIScroll()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._teardownIScroll()}},{key:"componentDidUpdate",value:function(e){var t=this;(0,p.default)(e.options,this.props.options)?(this._updateIScrollEvents(e,this.props),this.refresh()):this.withIScroll(!0,function(e){var n=e.x,a=e.y,o=e.scale;t._teardownIScroll(),t._initializeIScroll(),t.withIScroll(!0,function(e){o&&e.zoom&&e.zoom(o,0,0,0),e.scrollTo(n,a)})})}},{key:"getIScroll",value:function(){return this._iScrollInstance}},{key:"getIScrollInstance",value:function(){return console.warn("Function 'getIScrollInstance' is deprecated. Instead use 'getIScroll'"),this._iScrollInstance}},{key:"withIScroll",value:function(e,t){t||"function"!=typeof e||(t=e),this.getIScroll()?t(this.getIScroll()):!0===e&&this._queuedCallbacks.push(t)}},{key:"refresh",value:function(){this.withIScroll(function(e){return e.refresh()})}},{key:"_performInitializeIScroll",value:function(){var e=this,t=this.props,n=t.iScroll,a=t.options,o=new n(this._node,a);this._iScrollInstance=o,this._triggerInitializeEvent(o),o.originalRefresh=o.refresh,o.refresh=function(){o.originalRefresh.apply(o),e._triggerRefreshEvent(o)},this._bindIScrollEvents(),this._callQueuedCallbacks()}},{key:"_initializeIScroll",value:function(){var e=this;if(!1!==this._isMounted){var t=this.props.defer;if(!1===t)this._performInitializeIScroll();else{var n=!0===t?0:t;this._initializeTimeout=setTimeout(function(){return e._performInitializeIScroll()},n)}}}},{key:"_callQueuedCallbacks",value:function(){var e=this._queuedCallbacks,t=e.length;this._queuedCallbacks=[];for(var n=0;n<t;n++)e[n](this.getIScroll())}},{key:"_teardownIScroll",value:function(){this._clearInitializeTimeout(),this._iScrollInstance&&(this._iScrollInstance.destroy(),this._triggerDestroyEvent(this._iScrollInstance),this._iScrollInstance=void 0),this._iScrollBindedEvents={},this._queuedCallbacks=[]}},{key:"_clearInitializeTimeout",value:function(){null!==this._initializeTimeout&&(clearTimeout(this._initializeTimeout),this._initializeTimeout=null)}},{key:"_bindIScrollEvents",value:function(){this._iScrollBindedEvents={},this._updateIScrollEvents({},this.props)}},{key:"_updateIScrollEvents",value:function(e,t){for(var n in m)this._updateIScrollEvent(m[n],e[n],t[n])}},{key:"_updateIScrollEvent",value:function(e,t,n){if(t!==n){var a=this._iScrollBindedEvents;this.withIScroll(!0,function(o){if("function"==typeof t&&(o.off(e,a[e]),a[e]=void 0),"function"==typeof n){var r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.apply(void 0,[o].concat(t))};o.on(e,r),a[e]=r}})}}},{key:"_triggerInitializeEvent",value:function(e){var t=this.props.onInitialize;"function"==typeof t&&t(e)}},{key:"_triggerRefreshEvent",value:function(e){var t=this.props.onRefresh;"function"==typeof t&&t(e)}},{key:"_triggerDestroyEvent",value:function(e){var t=this.props.onDestroy;"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this,t={};for(var n in this.props)~f.indexOf(n)||(t[n]=this.props[n]);return c.default.createElement("div",(0,r.default)({ref:function(t){return e._node=t}},t))}}]),t}(c.default.PureComponent),a.displayName="ReactIScroll",a.defaultProps={defer:!0,options:{},style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},o);t.default=y},function(e,t,n){"use strict";var a;if(!Object.keys){var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=n(999),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),d=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{c(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();a=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===r.call(e),a=i(e),s=t&&"[object String]"===r.call(e),p=[];if(!t&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var f=d&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(a&&e.length>0)for(var E=0;E<e.length;++E)p.push(String(E));else for(var g in e)f&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(l)for(var _=function(e){if("undefined"==typeof window||!h)return c(e);try{return c(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)_&&"constructor"===u[v]||!o.call(e,u[v])||p.push(u[v]);return p}}e.exports=a},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,r=function(e){return!(a&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},i=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},s=function(){return r(arguments)}();r.isLegacyArguments=i,e.exports=s?r:i},function(e,t,n){"use strict";var a=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!a(e)||!a(t))}},function(e,t,n){"use strict";var a=n(1207),o=RegExp.prototype.exec,r=Object.getOwnPropertyDescriptor,i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===i.call(e);var t=r(e,"lastIndex");return!(!t||!a(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var a=n(1208);e.exports=a.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var a=n(1209);e.exports=Function.prototype.bind||a},function(e,t,n){"use strict";var a="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError(a+t);for(var n,i=o.call(arguments,1),s=function(){if(this instanceof n){var a=t.apply(this,i.concat(o.call(arguments)));return Object(a)===a?a:this}return t.apply(e,i.concat(o.call(arguments)))},l=Math.max(0,t.length-i.length),d=[],u=0;u<l;u++)d.push("$"+u);if(n=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var a=n(862),o=n(1e3),r=n(1001),i=n(1211),s=Function.call.bind(o);a(s,{getPolyfill:r,implementation:o,shim:i}),e.exports=s},function(e,t,n){"use strict";var a=n(862).supportsDescriptors,o=n(1001),r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,d=/a/;e.exports=function(){if(!a||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=l(d),n=r(t,"flags");return n&&n.get===e||i(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var a=Date.prototype.getDay,o=Object.prototype.toString,r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(r?function(e){try{return a.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(109),r=(a=o)&&a.__esModule?a:{default:a};
/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */
var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},s=function(){var e={},t=document.createElement("div").style,n=function(){for(var e=["t","webkitT","MozT","msT","OT"],n=0,a=e.length;n<a;n++)if(e[n]+"ransform"in t)return e[n].substr(0,e[n].length-1);return!1}();function a(e){return!1!==n&&(""===n?e:n+e.charAt(0).toUpperCase()+e.substr(1))}e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(e,t){for(var n in t)e[n]=t[n]},e.addEvent=function(e,t,n,a){e.addEventListener(t,n,!!a)},e.removeEvent=function(e,t,n,a){e.removeEventListener(t,n,!!a)},e.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},e.momentum=function(e,t,n,a,o,r){var i=e-t,s=Math.abs(i)/n,l=void 0,d=void 0;return d=s/(r=void 0===r?6e-4:r),(l=e+s*s/(2*r)*(i<0?-1:1))<a?(l=o?a-o/2.5*(s/8):a,d=(i=Math.abs(l-e))/s):l>0&&(l=o?o/2.5*(s/8):0,d=(i=Math.abs(e)+l)/s),{destination:Math.round(l),duration:d}};var o=a("transform");return e.extend(e,{hasTransform:!1!==o,hasPerspective:a("perspective")in t,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:a("transition")in t}),e.isBadAndroid=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,r.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),e.extend(e.style={},{transform:o,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin"),touchAction:a("touchAction")}),e.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},e.addClass=function(t,n){if(!e.hasClass(t,n)){var a=t.className.split(" ");a.push(n),t.className=a.join(" ")}},e.removeClass=function(t,n){if(e.hasClass(t,n)){var a=new RegExp("(^|\\s)"+n+"(\\s|$)","g");t.className=t.className.replace(a," ")}},e.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},e.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}}),e.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},e.click=function(e){var t=e.target,n=void 0;/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName)||((n=document.createEvent(window.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),n.view=e.view||window,n.detail=1,n.screenX=t.screenX||0,n.screenY=t.screenY||0,n.clientX=t.clientX||0,n.clientY=t.clientY||0,n.ctrlKey=!!e.ctrlKey,n.altKey=!!e.altKey,n.shiftKey=!!e.shiftKey,n.metaKey=!!e.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,t.dispatchEvent(n))},e.getTouchAction=function(e,t){var n="none";return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},e.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},e}();function l(e,t){for(var n in this.wrapper="string"==typeof e?document.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,centerOnZoomOut:!1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!s.hasPointer,disableTouch:s.hasPointer||!s.hasTouch,disableMouse:s.hasPointer||s.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===window.onmousedown},t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&s.hasPerspective?" translateZ(0)":"",this.options.useTransition=s.hasTransition&&this.options.useTransition,this.options.useTransform=s.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?s.ease[this.options.bounceEasing]||s.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.centerOnZoomOut?(this.x=this.options.startX||0,this.y=this.options.startY||0):(this.x=0,this.y=0),this.directionX=0,this.directionY=0,this._events={},this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function d(e,t,n){var a=document.createElement("div"),o=document.createElement("div");return!0===n&&(a.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(!0===n&&(a.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),a.className="iScrollHorizontalScrollbar"):(!0===n&&(a.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),a.className="iScrollVerticalScrollbar"),a.style.cssText+=";overflow:hidden",t||(a.style.pointerEvents="none"),a.appendChild(o),a}function u(e,t){for(var n in this.wrapper="string"==typeof t.el?document.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(s.addEvent(this.indicator,"touchstart",this),s.addEvent(window,"touchend",this)),this.options.disablePointer||(s.addEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.addEvent(window,s.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(s.addEvent(this.indicator,"mousedown",this),s.addEvent(window,"mouseup",this))),this.options.fade){this.wrapperStyle[s.style.transform]=this.scroller.translateZ;var a=s.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=s.isBadAndroid?"0.0001ms":"0ms";var o=this;s.isBadAndroid&&i(function(){"0.0001ms"===o.wrapperStyle[a]&&(o.wrapperStyle[a]="0s")}),this.wrapperStyle.opacity="0"}}l.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=s.eventType[e.type]){if(0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return}if(this.enabled&&(!this.initiated||s.eventType[e.type]===this.initiated)){!this.options.preventDefault||s.isBadAndroid||s.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,n=void 0;this.initiated=s.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=s.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(Math.round(n.x),Math.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a=e.touches?e.touches[0]:e,o=a.pageX-this.pointX,r=a.pageY-this.pointY,i=s.getTime(),l=void 0,d=void 0;if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=o,this.distY+=r,t=Math.abs(this.distX),n=Math.abs(this.distY),!(i-this.endTime>300&&t<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(t>n+this.options.directionLockThreshold?this.directionLocked="h":n>=t+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,r=this.hasVerticalScroll?r:0,l=this.x+o,d=this.y+r,this.options.centerOnZoomOut?((l>0||l<this.maxScrollX)&&(this.options.bounce?l=this.x+o/3:l>0&&this.hasHorizontalScroll&&(l=0)),(d>0||d<this.maxScrollY)&&(this.options.bounce?d=this.y+r/3:d>0&&this.hasVerticalScroll&&(d=0))):((l>0||l<this.maxScrollX)&&(l=this.options.bounce?this.x+o/3:l>0?0:this.maxScrollX),(d>0||d<this.maxScrollY)&&(d=this.options.bounce?this.y+r/3:d>0?0:this.maxScrollY)),this.directionX=o>0?-1:o<0?1:0,this.directionY=r>0?-1:r<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(l,d),i-this.startTime>300&&(this.startTime=i,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&!s.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();e.changedTouches&&e.changedTouches[0];var t=void 0,n=void 0,a=s.getTime()-this.startTime,o=Math.round(this.x),r=Math.round(this.y),i=Math.abs(o-this.startX),l=Math.abs(r-this.startY),d=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=s.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&s.tap(e,this.options.tap),this.options.click&&s.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&a<200&&i<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&a<300&&(t=this.hasHorizontalScroll?s.momentum(this.x,this.startX,a,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?s.momentum(this.y,this.startY,a,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=t.destination,r=n.destination,d=Math.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(o,r);this.currentPage=c,d=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-c.x),1e3),Math.min(Math.abs(r-c.y),1e3)),300),o=c.x,r=c.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}if(o!=this.x||r!=this.y)return(o>0||o<this.maxScrollX||r>0||r<this.maxScrollY)&&(u=s.ease.quadratic),void this.scrollTo(o,r,d,u);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;if(e=e||0,this.options.centerOnZoomOut){var a=this.scroller.offsetWidth*this.scale,o=this.scroller.offsetHeight*this.scale;this.wrapperWidth>a||this.wrapperWidth<a&&this.x>0?t=(this.wrapperWidth-a)/2:this.x<this.maxScrollX&&(t=this.maxScrollX),this.wrapperHeight>o||this.wrapperHeight<o&&this.y>0?n=(this.wrapperHeight-o)/2:this.y<this.maxScrollY&&(n=this.maxScrollY)}else!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY);return(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){s.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=s.getRect(this.scroller);this.scrollerWidth=Math.round(e.width*this.scale),this.scrollerHeight=Math.round(e.height*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,s.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[s.style.touchAction]||(this.wrapper.style[s.style.touchAction]=s.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=s.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,a){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,a)},scrollTo:function(e,t,n,a){a=a||s.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var o=this.options.useTransition&&a.style;!n||o?(o&&(this._transitionTimingFunction(a.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,a.fn)},scrollToElement:function(e,t,n,a,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var r=s.offset(e);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top;var i=s.getRect(e),l=s.getRect(this.wrapper);!0===n&&(n=Math.round(i.width/2-l.width/2)),!0===a&&(a=Math.round(i.height/2-l.height/2)),r.left-=n||0,r.top-=a||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,t=null==t||"auto"===t?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):t,this.scrollTo(r.left,r.top,t,o)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0;var t=s.style.transitionDuration;if(t){if(this.scrollerStyle[t]=e+"ms",!e&&s.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[s.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[s.style.transform]="translate("+e+"px,"+t+"px) scale("+this.scale+") "+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?s.removeEvent:s.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),s.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,s.prefixPointerEvent("pointerdown"),this),t(n,s.prefixPointerEvent("pointermove"),this),t(n,s.prefixPointerEvent("pointercancel"),this),t(n,s.prefixPointerEvent("pointerup"),this)),s.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,n=void 0;return this.options.useTransform?(t=+((e=e[s.style.transform].split(")")[0].split(", "))[12]||e[4]),n=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),n=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e=this.options.interactiveScrollbars,t="string"!=typeof this.options.scrollbars,n=[],a=void 0,o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(a={el:d("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(a.el),n.push(a)),this.options.scrollX&&(a={el:d("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:t,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(a.el),n.push(a))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var r=n.length;r--;)this.indicators.push(new u(this,n[r]));function i(e){if(o.indicators)for(var t=o.indicators.length;t--;)e.call(o.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){i(function(){this.fade()})}),this.on("scrollCancel",function(){i(function(){this.fade()})}),this.on("scrollStart",function(){i(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){i(function(){this.fade(1,!0)})})),this.on("refresh",function(){i(function(){this.refresh()})}),this.on("destroy",function(){i(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[s.style.transformOrigin]="0 0"},_zoomStart:function(e){var t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[0].pageY-e.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(t*t+n*n),this.startScale=this.scale,this.originX=Math.abs(e.touches[0].pageX+e.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=Math.abs(e.touches[0].pageY+e.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,a,o=Math.abs(e.touches[0].pageX-e.touches[1].pageX),r=Math.abs(e.touches[0].pageY-e.touches[1].pageY),i=Math.sqrt(o*o+r*r),l=1/this.touchesDistanceStart*i*this.startScale;this.scaled=!0,l<this.options.zoomMin?l=.5*this.options.zoomMin*Math.pow(2,l/this.options.zoomMin):l>this.options.zoomMax&&(l=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/l)),t=l/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,this.scale=l,this.scrollTo(n,a,0)}},_zoomEnd:function(e){if(this.enabled&&s.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n=void 0,a=void 0;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),t=this.scale/this.startScale,n=this.originX-this.originX*t+this.startX,a=this.originY-this.originY*t+this.startY,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.x==n&&this.y==a||this.scrollTo(n,a,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(e,t,n,a){if(e<this.options.zoomMin?e=this.options.zoomMin:e>this.options.zoomMax&&(e=this.options.zoomMax),e!=this.scale){var o=e/this.scale;if(t=void 0===t?this.wrapperWidth/2:t,n=void 0===n?this.wrapperHeight/2:n,a=void 0===a?300:a,t=t+this.wrapperOffset.left-this.x,n=n+this.wrapperOffset.top-this.y,t=t-t*o+this.x,n=n-n*o+this.y,this.scale=e,this.refresh(),this.options.centerOnZoomOut){var r=this.scroller.offsetHeight*e,i=this.scroller.offsetWidth*e,s=(this.wrapperHeight-r)/2,l=(this.wrapperWidth-i)/2;t>0?t=this.hasHorizontalScroll?0:l:t<this.maxScrollX&&(t=this.hasHorizontalScroll?this.maxScrollX:l),n>0?n=this.hasVerticalScroll?0:s:this.wrapperHeight>r?n=s:n<this.maxScrollY&&(n=this.maxScrollY)}else t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY);this.scrollTo(t,n,a)}},_wheelZoom:function(e){var t,n=void 0,a=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("zoomEnd")},400),"deltaX"in e)n=-e.deltaY/Math.abs(e.deltaY);else if("wheelDeltaX"in e)n=e.wheelDeltaY/Math.abs(e.wheelDeltaY);else if("wheelDelta"in e)n=e.wheelDelta/Math.abs(e.wheelDelta);else{if(!("detail"in e))return;n=-e.detail/Math.abs(e.wheelDelta)}t=this.scale+n/5,this.zoom(t,e.pageX,e.pageY,0)},_initWheel:function(){s.addEvent(this.wrapper,"wheel",this),s.addEvent(this.wrapper,"mousewheel",this),s.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,s.removeEvent(this.wrapper,"wheel",this),s.removeEvent(this.wrapper,"mousewheel",this),s.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t=void 0,n=void 0,a=void 0,o=void 0,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return a=this.currentPage.pageX,o=this.currentPage.pageY,t>0?a--:t<0&&a++,n>0?o--:n<0&&o++,void this.goToPage(a,o);if(a=this.x+Math.round(this.hasHorizontalScroll?t:0),o=this.y+Math.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,this.options.centerOnZoomOut){if(a>0&&this.hasHorizontalScroll)a=0;else if(a<this.maxScrollX){var i=this.scroller.offsetWidth*this.scale;a=this.wrapperWidth>i?(this.wrapperWidth-i)/2:this.maxScrollX}o>0&&this.hasVerticalScroll?o=0:o<this.maxScrollY&&(o=this.maxScrollY)}else a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY);this.scrollTo(a,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e=0,t=void 0,n=0,a=void 0,o=void 0,r=void 0,i=0,l=void 0,d=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight,c=void 0,p=void 0;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(o=Math.round(d/2),r=Math.round(u/2);i>-this.scrollerWidth;){for(this.pages[e]=[],t=0,l=0;l>-this.scrollerHeight;)this.pages[e][t]={x:Math.max(i,this.maxScrollX),y:Math.max(l,this.maxScrollY),width:d,height:u,cx:i-o,cy:l-r},l-=u,t++;i-=d,e++}else for(t=(c=this.options.snap).length,a=-1;e<t;e++)p=s.getRect(c[e]),(0===e||p.left<=s.getRect(c[e-1]).left)&&(n=0,a++),this.pages[n]||(this.pages[n]=[]),i=Math.max(-p.left,this.maxScrollX),l=Math.max(-p.top,this.maxScrollY),o=i-Math.round(p.width/2),r=l-Math.round(p.height/2),this.pages[n][a]={x:i,y:l,width:p.width,height:p.height,cx:o,cy:r},i>this.maxScrollX&&n++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,a=this.pages.length,o=0;if(Math.abs(e-this.absStartX)<this.snapThresholdX&&Math.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<a;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(a=this.pages[n].length;o<a;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),o==this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:n,pageY:o}},goToPage:function(e,t,n,a){a=a||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var o=this.pages[e][t].x,r=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):n,this.currentPage={x:o,y:r,pageX:e,pageY:t},this.scrollTo(o,r,n,a)},next:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,a++),this.goToPage(n,a,e,t)},prev:function(e,t){var n=this.currentPage.pageX,a=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,a--),this.goToPage(n,a,e,t)},_initKeys:function(e){var t={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},n=void 0;if("object"===(0,r.default)(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in t)this.options.keyBindings[n]=this.options.keyBindings[n]||t[n];s.addEvent(window,"keydown",this),this.on("destroy",function(){s.removeEvent(window,"keydown",this)})},_key:function(e){if(this.enabled){var t=this.options.snap,n=t?this.currentPage.pageX:this.x,a=t?this.currentPage.pageY:this.y,o=s.getTime(),r=this.keyTime||0,i=void 0;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this.isInTransition=!1),this.keyAcceleration=o-r<200?Math.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=t?1:this.wrapperWidth:a+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=t?1:this.wrapperWidth:a-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=t?this.pages.length-1:this.maxScrollX,a=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,a=0;break;case this.options.keyBindings.left:n+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:a+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:a-=t?1:5+this.keyAcceleration>>0;break;default:return}t?this.goToPage(n,a):(n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,a,0),this.keyTime=o)}},_animate:function(e,t,n,a){var o=this,r=this.x,l=this.y,d=s.getTime(),u=d+n;this.isAnimating=!0,function c(){var p,h,f,m=s.getTime();if(m>=u)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));f=a(m=(m-d)/n),p=(e-r)*f+r,h=(t-l)*f+l,o._translate(p,h),o.isAnimating&&i(c)}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e),this.options.zoom&&e.touches&&e.touches.length>1&&this._zoomStart(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&e.touches&&e.touches[1])return void this._zoom(e);this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(e);this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(e);this._wheel(e);break;case"keydown":this._key(e)}}},u.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(s.removeEvent(this.indicator,"touchstart",this),s.removeEvent(this.indicator,s.prefixPointerEvent("pointerdown"),this),s.removeEvent(this.indicator,"mousedown",this),s.removeEvent(window,"touchmove",this),s.removeEvent(window,s.prefixPointerEvent("pointermove"),this),s.removeEvent(window,"mousemove",this),s.removeEvent(window,"touchend",this),s.removeEvent(window,s.prefixPointerEvent("pointerup"),this),s.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=s.getTime(),this.options.disableTouch||s.addEvent(window,"touchmove",this),this.options.disablePointer||s.addEvent(window,s.prefixPointerEvent("pointermove"),this),this.options.disableMouse||s.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,a,o,r=e.touches?e.touches[0]:e;s.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,a=this.x+t,o=this.y+n,this._pos(a,o),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),s.removeEvent(window,"touchmove",this),s.removeEvent(window,s.prefixPointerEvent("pointermove"),this),s.removeEvent(window,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-t.x),1e3),Math.min(Math.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=s.style.transitionDuration;if(t&&(this.indicatorStyle[t]=e+"ms",!e&&s.isBadAndroid)){this.indicatorStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[s.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(s.addClass(this.wrapper,"iScrollBothScrollbars"),s.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(s.removeClass(this.wrapper,"iScrollBothScrollbars"),s.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),s.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[s.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?Math.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?Math.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,a=e?0:300;e=e?"1":"0",this.wrapperStyle[s.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),a)}}},l.utils=s,t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentInitial=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=h(n(7)),d=n(0),u=h(d),c=n(1215),p=n(1218);function h(e){return e&&e.__esModule?e:{default:e}}var f={locale:l.default.object.isRequired,images:l.default.array,handleDelete:l.default.func,handleSelect:l.default.func,handleEdit:l.default.func,handleImageLoading:l.default.func,setInitialImage:l.default.func,uploaderIcon:l.default.string,captureIcon:l.default.string};(t.ImageManagerContentInitial=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"renderBody",value:function(){var e=this.props,t=e.images,n=e.locale;return t.length?u.default.createElement(c.ImageManagerContent,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage}):u.default.createElement("div",{className:"sign-m-body sign-m-body--images-initial"},u.default.createElement("div",{className:"sign-m-init-text-block"},u.default.createElement("div",{className:"sign-m-init-text-block__title"},n.emptyGallery.title),u.default.createElement("div",{className:"sign-m-init-text-block__text"},n.emptyGallery.text)))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.uploaderIcon,a=e.captureIcon,o={icon:n,title:t.footerDesktop.uploaderButton.title,desc:t.footerDesktop.uploaderButton.text},r={icon:a,title:t.footerDesktop.captureButton.title,desc:t.footerDesktop.captureButton.text};return u.default.createElement("div",{className:"sign-m-content"},this.renderBody(),u.default.createElement(p.ImageManagerBigFooter,{btnFirst:o,btnSecond:r}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContent=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=h(n(7)),d=n(0),u=h(d),c=n(657),p=n(1216);function h(e){return e&&e.__esModule?e:{default:e}}var f={handleDelete:l.default.func.isRequired,handleSelect:l.default.func.isRequired,handleEdit:l.default.func.isRequired,handleImageLoading:l.default.func.isRequired,setInitialImage:l.default.func.isRequired};(t.ImageManagerContent=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateViewport=function(){if(e.ref){var t=e.ref.getBoundingClientRect().height;e.setState({viewport:{height:t,top:e.ref.scrollTop}})}e.ps&&e.ps.update()},e.setRef=function(t){e.ref=t},e.state={viewport:{top:0,height:0}},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.ref;e&&(this.ps=(0,c.ps)(e),this.ps.initialize({suppressScrollX:!0})),this.updateViewport(),"undefined"!=typeof window&&window.addEventListener("resize",this.updateViewport,!1)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.updateViewport)}},{key:"render",value:function(){var e=this.state.viewport;return u.default.createElement("div",{className:"sign-m-body sign-m-body--images",ref:this.setRef,onScroll:this.updateViewport},u.default.createElement(p.ImageManagerGalleryList,{handleDelete:this.props.handleDelete,handleSelect:this.props.handleSelect,handleEdit:this.props.handleEdit,handleImageLoading:this.props.handleImageLoading,setInitialImage:this.props.setInitialImage,viewport:e}))}}]),t}(d.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryList=void 0;var a,o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=E(n(7)),u=n(0),c=E(u),p=n(72),h=E(n(10)),f=n(657),m=n(1217);function E(e){return e&&e.__esModule?e:{default:e}}var g={handleDelete:d.default.func,handleSelect:d.default.func,handleEdit:d.default.func,handleImageLoading:d.default.func,setInitialImage:d.default.func,list:d.default.array,viewport:d.default.object,deviceProps:d.default.object};(t.ImageManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.images,deviceProps:e.deviceProps}})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,a=t.viewport,o=t.deviceProps;return c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,f.isTabletOrMobile)(o)})},n.map(function(t,n){return c.default.createElement(m.ImageManagerGalleryItem,{key:n,image:t,viewport:a,handleDelete:e.props.handleDelete,handleSelect:e.props.handleSelect,handleEdit:e.props.handleEdit,handleImageLoading:e.props.handleImageLoading,setInitialImage:e.props.setInitialImage})}))}}]),t}(u.Component))||a).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryItem=void 0;var a=f(n(51)),o=f(n(41)),r=f(n(43)),i=f(n(52)),s=f(n(53)),l=f(n(7)),d=n(0),u=f(d),c=f(n(997)),p=n(649),h=n(863);function f(e){return e&&e.__esModule?e:{default:e}}var m=60,E={handleDelete:l.default.func,handleSelect:l.default.func,handleEdit:l.default.func,handleImageLoading:l.default.func,setInitialImage:l.default.func,image:l.default.object,viewport:l.default.object};(t.ImageManagerGalleryItem=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.updateImagePosition=function(){if(!e.state.showImage){var t=e.props.viewport;e.ref.offsetTop<=t.top+t.height-m&&e.setState({showImage:!0})}},e.setRef=function(t){e.ref=t},e.handleSelect=function(t){t.stopPropagation();var n=e.props.image;e.props.handleSelect(n)},e.handleEdit=function(t){t.stopPropagation();var n=e.props.image;e.props.handleImageLoading(!0),(0,p.imageToBase64)(n.url,function(t){e.props.setInitialImage(t,n),e.props.handleImageLoading(!1),e.props.handleEdit()})},e.handleDelete=function(t){t.stopPropagation();var n=e.props.image;e.props.handleDelete(n)},e.state={showImage:!1},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.props.viewport&&this.updateImagePosition()}},{key:"componentDidUpdate",value:function(e){var t=this.props.viewport;e.viewport&&!(0,c.default)(t,e.viewport)&&this.updateImagePosition()}},{key:"render",value:function(){var e=this.props.image,t=this.state.showImage;return u.default.createElement("div",{className:"signature-type-list-item signature-type-list-item--image",ref:this.setRef,onClick:this.handleSelect},u.default.createElement("div",{className:"signature-type-item"},u.default.createElement(h.ImageItem,{src:e.url,showImage:t})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),u.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:this.handleDelete},u.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(d.Component)).propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerBigFooter=void 0;var a,o=_(n(51)),r=_(n(41)),i=_(n(43)),s=_(n(52)),l=_(n(53)),d=_(n(328)),u=_(n(7)),c=n(0),p=_(c),h=n(72),f=n(1219),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),E=n(657),g=n(637);function _(e){return e&&e.__esModule?e:{default:e}}var v={uploader:u.default.func,mobileUploader:u.default.func,capture:u.default.func,locale:u.default.object,dropzoneConfig:u.default.object,deviceProps:u.default.object,btnFirst:u.default.object,btnSecond:u.default.object,webcamEnabled:u.default.bool};(t.ImageManagerBigFooter=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{webcamEnabled:e.im.webcamEnabled,locale:(0,g.getImageManagerLocale)(e).gallery,dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{capture:m.capture,mobileUploader:m.mobileUploader,uploader:m.uploader})(a=function(e){function t(){(0,r.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return e.checkScreenSize=function(){if("undefined"!=typeof window){var t=window.innerWidth>0?window.innerWidth:screen.width;e.setState({isDesktop:t>748})}},e.state={isDesktop:!0},e}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.checkScreenSize()}},{key:"componentDidMount",value:function(){"undefined"!=typeof window&&window.addEventListener("resize",this.checkScreenSize)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.checkScreenSize)}},{key:"renderUploadBtn",value:function(){var e=this.props,t=e.mobileUploader,n=e.locale,a=e.dropzoneConfig;return p.default.createElement("label",{htmlFor:"crop_upload_file1"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement("div",{className:"g-btn g-btn-primary g-btn-auto-width g-btn-sm"},n.footerMobile.uploaderButton.title),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",accept:a.allowedFileTypes,onChange:function(e){return t(e.target.files)}})))}},{key:"renderUploadBtnWithoutDropzone",value:function(){var e=this.props,t=e.uploader,n=e.mobileUploader,a=e.locale,o=e.dropzoneConfig,r=e.deviceProps,i=e.btnFirst;return(0,E.isTabletOrMobile)(r)?p.default.createElement("label",{htmlFor:"crop_upload_file1",className:"sign-m-method-item"},p.default.createElement("div",null,p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:i.icon})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},a.footerMobile.uploaderButton.title),p.default.createElement("div",{className:"sign-m-method-item__desc"},a.footerMobile.uploaderButton.text))),p.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",accept:o.allowedFileTypes,onChange:function(e){return n(e.target.files)}})):p.default.createElement(f.BigBtn,{type:i,onClick:t})}},{key:"renderCaptureButton",value:function(){var e=this.props,t=e.capture,n=e.webcamEnabled,a=e.deviceProps,o=e.btnSecond;return(0,E.isTabletOrMobile)(a)?null:p.default.createElement(f.BigBtn,{type:o,onClick:t,disabled:!n})}},{key:"render",value:function(){return this.state.isDesktop?p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-hide"},p.default.createElement("div",{className:"sign-m-method-item-list"},this.renderUploadBtnWithoutDropzone(),this.renderCaptureButton())):p.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-show"},this.renderUploadBtn())}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BigBtn=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=p(n(7)),d=n(0),u=p(d),c=p(n(10));function p(e){return e&&e.__esModule?e:{default:e}}var h={type:l.default.object.isRequired,disabled:l.default.bool,onClick:l.default.func};(t.BigBtn=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.onClick=e.onClick.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick;!e.disabled&&t&&t()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,a=(0,c.default)("sign-m-method-item",{disabled:n});return u.default.createElement("div",{className:a,onClick:this.onClick},u.default.createElement("div",{className:"sign-m-method-item__icon"},u.default.createElement("div",{className:t.icon})),u.default.createElement("div",{className:"sign-m-method-item-inner"},u.default.createElement("div",{className:"sign-m-method-item__title"},t.title),u.default.createElement("div",{className:"sign-m-method-item__desc"},t.desc)))}}]),t}(d.Component)).propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooter=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=p(n(7)),d=n(0),u=p(d),c=n(652);function p(e){return e&&e.__esModule?e:{default:e}}var h={backButtonText:l.default.string,onButtonClick:l.default.func};(t.ImageManagerFooter=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm",onClick:t},n)),u.default.createElement("div",{className:"sign-m-footer__right"}))}}]),t}(d.Component)).propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooterCapture=void 0;var a,o=_(n(51)),r=_(n(41)),i=_(n(43)),s=_(n(52)),l=_(n(53)),d=_(n(328)),u=_(n(7)),c=n(0),p=_(c),h=n(72),f=n(660),m=n(652),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),g=n(637);function _(e){return e&&e.__esModule?e:{default:e}}var v={locale:u.default.object,takeSnapShot:u.default.func,initial:u.default.func};(t.ImageManagerFooterCapture=(0,h.connect)(function(e){return(0,d.default)({},e.im.mode,{locale:(0,g.getImageManagerLocale)(e)})},{initial:E.initial})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.initial,n=e.locale,a=e.takeSnapShot;return p.default.createElement("div",{className:"sign-m-footer"},p.default.createElement("div",{className:"sign-m-footer__left"},p.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),p.default.createElement("div",{className:"sign-m-footer__right"},p.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a},n.capture.button)))}}]),t}(c.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r,i=$(n(223)),s=$(n(51)),l=$(n(41)),d=$(n(43)),u=$(n(52)),c=$(n(53)),p=$(n(328)),h=$(n(7)),f=n(0),m=$(f),E=n(72),g=n(130),_=$(n(10)),v=$(n(752)),S=$(n(980)),y=n(649),T=$(n(640)),O=$(n(969)),b=$(n(651)),C=$(n(995)),D=n(1003),M=n(1004),A=n(1223),w=n(1226),R=n(1228),I=n(1229),N=n(1233),P=n(1235),L=n(1236),k=n(1237),B=$(n(1238)),x=$(n(1241)),F=n(1242),Y=n(1246),U=n(1247),H=n(1248),j=$(n(1249)),W=$(n(1002)),K=n(755),G=n(633),z=n(853),X=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),V=n(637),q=n(657);function $(e){return e&&e.__esModule?e:{default:e}}var Z=G.modalIds.SIGNATURE_MANAGER,Q=S.default.DropzoneComponentWrapper,J=S.default.DropzoneButton,ee=S.default.DropzoneContent,te=S.default.DropzoneTitle,ne=v.default.Webcam,ae=v.default.WebcamUtils,oe=O.default.inputHandler,re=O.default.SYSTEM,ie=O.default.controllers,se=ie.EnterEscapeController,le=ie.AddressBookController,de=(0,E.connect)(function(e){return{modeSignature:e.im.modeSignature,useSignNowTheme:(0,V.getUseSignNowTheme)(e),locale:(0,V.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,signatures:e.ws.signatures,signature:e.im.signature,initialSignature:e.im.initialSignature,addedSignature:e.ws.addedSignature,uploadedPercent:e.im.uploadedPercent,modalsOptions:e.modal.options,originalImage:e.im.originalImage,error:e.im.signatureManagerError,editedImage:e.signatureEditor.image,imageDimensions:e.signatureEditor.imageDimensions,deviceProps:e.deviceProps,webcamEnabled:e.im.webcamEnabled,experimentalFeatures:e.ws.experimentalFeatures,misc:e.ws.features.misc}},function(e){var t=(0,g.bindActionCreators)({disableWebcam:X.disableWebcam,uploadSignatureImage:X.uploadSignatureImage,smGallery:X.smGallery,closeSignature:X.closeSignature,setError:X.smSetError,clearError:X.clearErrors,smInitial:X.smInitial,smOpenEditor:X.smOpenEditor,setOriginalImage:X.smSetOriginalImage,setInitialImage:b.default.setInitialImage,initialImageAdjust:b.default.initialImageAdjust,restoreInitialState:b.default.restoreInitialState},e);return(0,p.default)({},t,{dispatch:e})})((r=o=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));n.getChildContext=function(){return{useSignNowTheme:n.props.useSignNowTheme}},n.onLoadFilesSelect=function(e){var t=n.props,a=t.dropzoneConfig,o=t.locale,r=t.setError,i=a.maxFileSize,s=a.allowedFileTypes,l={customErrors:o.errors,imageDimensions:a.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:i,allowedFileTypes:s};(0,y.validateFiles)(e,l,n.handleFilesSelect,r)},n.handleFilesSelect=function(e){if(e[0]){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage,r=t.deviceProps,i=e[0];(0,q.isTabletOrMobile)(r)?n.handleImage(i.data,{width:i.width,height:i.height}):(a(i.data),o(i.data))}},n.handleWebcamImage=function(e){var t=n.props,a=t.initialImageAdjust,o=t.setOriginalImage;a(e),o(e)},n.handleClose=function(){var e=n.props,t=e.closeSignature,a=e.smGallery,o=e.handleClose;o&&o(),t(),a()},n.handleError=function(e){var t=n.props,a=t.handleError,o=t.locale,r=t.clearError;a({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),r()},n.handlePreviewOptionSelection=function(e){n.setState({selectedPreviewOption:e})},n.handleEditorPreviewConfirm=function(){var e=n.props,t=e.smOpenEditor,a=e.restoreInitialState;switch(n.state.selectedPreviewOption){case 1:return n.handleEditedImage();case 2:return t();case 3:return a()}},n.handleEditedImage=function(e){var t=n.props,a=t.editedImage,o=t.imageDimensions,r=t.modeSignature,i=t.initialSignature;n.props.uploadSignatureImage(a,o,function(t,a){if(a){var o=(0,p.default)({},a,{id:i.id,subType:G.SUB_TYPES.image});r.type===G.MODE_TYPES.SM_IMAGE_EDIT?n.props.handleUpdate(o,e):n.props.handleAdd(o,e)}})},n.handleSaveAndUse=function(e){var t=n.props,a=t.modeSignature,o=t.signature,r=t.initialSignature;if(n.setState({use:e}),a.type===G.MODE_TYPES.SM_TEXT_EDIT||a.type===G.MODE_TYPES.SM_TYPE_SIGNATURE){var i=(0,p.default)({},r,o,{fontSize:z.DEFAULT_SIGNATURE_FONT_SIZE,subType:G.SUB_TYPES.text});a.type===G.MODE_TYPES.SM_TEXT_EDIT?n.props.handleUpdate(i,e):n.props.handleAdd(i,e)}if(a.type===G.MODE_TYPES.SM_CURVE_EDIT||a.type===G.MODE_TYPES.SM_DRAW){var s=(0,p.default)({},r,o,{subType:G.SUB_TYPES.curve});a.type===G.MODE_TYPES.SM_CURVE_EDIT?n.props.handleUpdate(s,e):n.props.handleAdd(s,e)}a.type!==G.MODE_TYPES.SM_IMAGE_EDIT&&a.type!==G.MODE_TYPES.SM_EDITOR||n.handleEditedImage(e)},n.handleImage=function(e,t){n.props.uploadSignatureImage(e,t,function(e,t){var a=(0,p.default)({},t,{subType:G.SUB_TYPES.image});t&&n.props.handleAdd(a)})},n.handleImageLoading=function(e){n.setState({imageLoading:e})},n.handleOpenAddressBook=function(){(0,n.props.handleOpenAddressBook)({controller:n.addressBookController,inputHandler:oe,controllerConstants:re})},n.setReference=function(e){n.webcamInstance=e},n.shouldShowSmInitialWithRestrictSubTypes=function(){var e=n.modalOptions.restrictSubTypes,t=n.props.signatures;return t&&e&&!t.some(function(t){return e.some(function(e){return e===t.subType})})};var a=e.modalsOptions,o=e.modalId,r=e.dispatch;return n.state={selectedPreviewOption:1,use:!1,imageLoading:!1},n.webcamInstance=null,n.modalId=t.getModalId(),n.modalOptions=a[n.modalId]||a[o]||{},n.enterEscapeController=new se(r),n.addressBookController=new le(r),n}return(0,c.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;ae.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addedSignature,a=t.handleSelect,o=t.error;n&&n!==e.addedSignature&&this.state.use?a(n):o&&o!==e.error&&this.handleError(o)}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.smInitial,a=t.smGallery,o=t.upload,r=t.locale,i=t.signatures,s=t.useSignNowTheme,l={status:!0},d="",u="",c="",p=n;switch(e){case G.MODE_TYPES.SM_GALLERY:d=s?r.gallery.headerSignNow:r.gallery.header,u=s?null:"sign-m-svg-icon-type-sm",l.status=!1;break;case G.MODE_TYPES.SM_INITIAL:d=s?r.methods.headerSignNow:r.methods.header,u=s?null:"sign-m-svg-icon-gallery-signature-sm",l.status=i&&i.length>0,p=a;break;case G.MODE_TYPES.SM_TEXT_EDIT:case G.MODE_TYPES.SM_CURVE_EDIT:case G.MODE_TYPES.SM_IMAGE_EDIT:d=r.edit.header,u="sign-m-svg-icon-pencil",c="sign-m-mobile-hide";break;case G.MODE_TYPES.SM_TYPE_SIGNATURE:d=r.type.header,u="sign-m-svg-icon-type-sm";break;case G.MODE_TYPES.SM_QR:d=r.qr.header,u="sign-m-svg-icon-qr-mobile-sm";break;case G.MODE_TYPES.SM_SMS:d=r.sms.header,u="sign-m-svg-icon-sms-mobile-sm";break;case G.MODE_TYPES.SM_EMAIL:d=r.email.header,u="sign-m-svg-icon-email-mobile-sm";break;case G.MODE_TYPES.SM_DRAW:d=r.draw.header,u="sign-m-svg-icon-draw-sm",c="sign-m-mobile-hide";break;case G.MODE_TYPES.SM_MOBILE_SIGN_LOADING:d=s?r.gallery.headerSignNow:r.draw.header,u=s?null:"sign-m-svg-icon-draw-sm";break;case G.MODE_TYPES.SM_CAPTURE:d=r.capture.header,u="sign-m-svg-icon-camera-sm";break;case G.MODE_TYPES.SM_UPLOADER:d=r.upload.header,u="sign-m-svg-icon-upload-sm";break;case G.MODE_TYPES.SM_MOBILE_UPLOADER:d=r.upload.header,u="sign-m-svg-icon-upload-sm",p=o;break;case G.MODE_TYPES.SM_UPLOADING:d=r.uploading.header,u="sign-m-svg-icon-upload-sm",p=o;break;case G.MODE_TYPES.SM_EDITOR_PREVIEW:case G.MODE_TYPES.SM_EDITOR:d=r.upload.header,u="sign-m-svg-icon-upload-sm"}return m.default.createElement(D.ImageManagerHeader,{icon:u,title:d,btnBack:l,btnBackDispatch:p,handleClose:this.handleClose,addClass:c})}},{key:"renderComponentByTypeContent",value:function(e){var t=this,n=this.props,a=n.handleDelete,o=n.handleSelect,r=n.handleAdd,i=n.locale,s=n.uploadedPercent,l=n.jsOnly,d=n.dropzoneConfig,u=n.smInitial,c=n.smGallery,p=n.signatures,h=n.originalImage,f=n.editedImage,E=n.setError,g=n.webcamEnabled,_=n.experimentalFeatures,v=n.misc,S=n.useSignNowTheme,y=this.state.selectedPreviewOption,T=this.modalOptions,O=T.restrictSubTypes,b=T.isSingleUse;if(this.state.imageLoading)return m.default.createElement("div",{className:"loading-overlay"},m.default.createElement(K.Loader,{title:i.gallery.loadingImage}));switch(e){case G.MODE_TYPES.SM_INITIAL:return p&&p.length>0&&!this.shouldShowSmInitialWithRestrictSubTypes()&&!b?[m.default.createElement(A.SignatureManagerMethodList,{handleAdd:r,handleSelect:o,restrictSubTypes:O,controller:this.enterEscapeController,webcamEnabled:g,onLoadFilesSelect:this.onLoadFilesSelect,experimentalFeatures:_,misc:v,key:"SignatureManagerMethodListSM_INITIAL"}),m.default.createElement(H.SignatureManagerFooterInitial,{key:"SignatureManagerFooterInitialSM_INITIAL"})]:m.default.createElement(A.SignatureManagerMethodList,{handleAdd:r,handleSelect:o,restrictSubTypes:O,controller:this.enterEscapeController,webcamEnabled:g,onLoadFilesSelect:this.onLoadFilesSelect,experimentalFeatures:_,misc:v,key:"SignatureManagerMethodListSM_INITIAL"});case G.MODE_TYPES.SM_TYPE_SIGNATURE:case G.MODE_TYPES.SM_TEXT_EDIT:return[m.default.createElement(w.SignatureManagerTypeSignature,{key:"SignatureManagerTypeSignatureSM_TYPE_SIGNATURE"}),m.default.createElement(R.SignatureManagerFooterTypeSignature,{key:"SignatureManagerFooterTypeSignatureSM_TYPE_SIGNATURE",handleSaveAndUse:this.handleSaveAndUse})];case G.MODE_TYPES.SM_MOBILE_SIGN_LOADING:return[m.default.createElement(I.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,restrictSubTypes:O,key:"SignatureManagerGalleryListSM_MOBILE_SIGN_LOADING"}),m.default.createElement(N.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_MOBILE_SIGN_LOADING"})];case G.MODE_TYPES.SM_GALLERY:return p?[m.default.createElement(I.SignatureManagerGalleryList,{handleSelect:o,handleDelete:a,handleImageLoading:this.handleImageLoading,restrictSubTypes:O,key:"SignatureManagerGalleryListSM_GALLERY"}),m.default.createElement(N.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_GALLERY"})]:m.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},m.default.createElement(K.Loader,{title:i.gallery.loadingSignatures}));case G.MODE_TYPES.SM_QR:return[m.default.createElement(P.SignatureManagerQR,{key:"SignatureManagerQRSM_QR"}),m.default.createElement(x.default,{key:"SignatureManagerFooterQRSM_QR",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_SMS:return[m.default.createElement(L.SignatureManagerSMS,{key:"SignatureManagerSMSSM_SMS",openAddressBook:this.handleOpenAddressBook}),m.default.createElement(x.default,{key:"SignatureManagerSMSSM_SMS_Footer",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_EMAIL:return[m.default.createElement(k.SignatureManagerEmail,{openAddressBook:this.handleOpenAddressBook,key:"SignatureManagerEmailSM_EMAIL"}),m.default.createElement(x.default,{key:"SignatureManagerFooterEmailSM_EMAIL",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_DRAW:case G.MODE_TYPES.SM_CURVE_EDIT:return[m.default.createElement(F.SignatureManagerDraw,{key:"SignatureManagerDrawSM_DRAW",signatureMode:e,handleSaveAndUse:this.handleSaveAndUse,smInitial:u,smGallery:c}),m.default.createElement(Y.SignatureManagerFooterDraw,{key:"SignatureManagerFooterDrawSM_DRAW",isSingleUse:b,handleSaveAndUse:this.handleSaveAndUse})];case G.MODE_TYPES.SM_MOBILE_UPLOADER:return[m.default.createElement(M.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_MOBILE_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_UPLOADER:var D="g-btn g-btn-"+(S?"blue":"primary")+" g-btn-auto-width";return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_UPLOADER"},m.default.createElement(Q,{maxFileSize:d.maxFileSize,allowedFileTypes:d.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:E,errors:i.errors.dropZone,checkImage:!0},m.default.createElement(te,{title:i.upload.dropZone.title}),m.default.createElement(ee,{content:i.upload.dropZone.text+" "+d.maxFileSize+"."}),m.default.createElement(J,{title:i.upload.dropZone.button,className:D}))),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_UPLOADER",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_UPLOADING:return[m.default.createElement(M.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_UPLOADING"}),m.default.createElement(x.default,{key:"SignatureManagerFooterUploaderSM_UPLOADING",onButtonClick:u,backButtonText:i.backButton})];case G.MODE_TYPES.SM_CAPTURE:return[m.default.createElement("div",{className:"sign-m-body",key:"divSM_CAPTURE"},m.default.createElement("div",null,i.capture.text),m.default.createElement("div",{className:"crop-body"},m.default.createElement("div",{className:"crop-body-table"},m.default.createElement("div",{className:"crop-body-cell"},m.default.createElement(ne,{ref:this.setReference,handleImage:this.handleWebcamImage,handleError:E,jsOnly:l,isImageMirrored:!0,crop:!0}))))),m.default.createElement(U.SignatureManagerFooterCapture,{takeSnapShot:function(){return t.webcamInstance.takeSnapshot()},key:"SignatureManagerFooterCaptureSM_CAPTURE"})];case G.MODE_TYPES.SM_EDITOR_PREVIEW:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_PREVIEW_content"},m.default.createElement(B.default,{handlePreviewOptionSelection:this.handlePreviewOptionSelection,locale:i.editorPreview,editedImage:f,originalImage:h,selectedOption:y})),m.default.createElement(j.default,{key:"SM_EDITOR_PREVIEW_footer",onClick:this.handleEditorPreviewConfirm})];case G.MODE_TYPES.SM_EDITOR:case G.MODE_TYPES.SM_IMAGE_EDIT:return[m.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_content"},m.default.createElement(C.default,null)),m.default.createElement(W.default,{key:"SM_EDITOR_footer",handleSaveAndUse:this.handleSaveAndUse})]}}},{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.signatures,a=e.useSignNowTheme,o=this.modalOptions.isSingleUse,r=G.MODES[t.type];r.type===G.MODE_TYPES.SM_GALLERY&&(n&&!n.length||o||this.shouldShowSmInitialWithRestrictSubTypes())&&(r=G.MODES[G.MODE_TYPES.SM_INITIAL]);var s=r.mods||"",l=a&&(r.type===G.MODE_TYPES.SM_GALLERY||r.type===G.MODE_TYPES.SM_INITIAL||r.type===G.MODE_TYPES.SM_MOBILE_SIGN_LOADING);return m.default.createElement(T.default,{contentLabel:"Modal",className:(0,_.default)("sign-m",(0,i.default)({"sign-m--theme--signnow":l},s,s)),overflow:"hidden"},this.renderHeaderByTypeContent(r.type),this.renderComponentByTypeContent(r.type))}}],[{key:"getModalId",value:function(){return Z}}]),t}(f.Component),o.propTypes={initialImageAdjust:h.default.func.isRequired,setOriginalImage:h.default.func.isRequired,smOpenEditor:h.default.func.isRequired,setError:h.default.func.isRequired,handleError:h.default.func.isRequired,clearError:h.default.func.isRequired,disableWebcam:h.default.func,uploadSignatureImage:h.default.func,handleAdd:h.default.func,handleUpdate:h.default.func,handleDelete:h.default.func,handleSelect:h.default.func,handleClose:h.default.func,upload:h.default.func,dispatch:h.default.func,smGallery:h.default.func,closeSignature:h.default.func,handleOpenAddressBook:h.default.func,smInitial:h.default.func,restoreInitialState:h.default.func,addedSignature:h.default.object,signatures:h.default.array,signature:h.default.object,initialSignature:h.default.object,modeSignature:h.default.object,useSignNowTheme:h.default.bool.isRequired,originalImage:h.default.string,editedImage:h.default.string,imageDimensions:h.default.object,locale:h.default.object,dropzoneConfig:h.default.object,modalsOptions:h.default.object,deviceProps:h.default.object,jsOnly:h.default.bool,uploadedPercent:h.default.number,modalId:h.default.string,error:h.default.string,webcamEnabled:h.default.bool,experimentalFeatures:h.default.array,misc:h.default.array},o.childContextTypes={useSignNowTheme:h.default.bool},a=r))||a;t.default=de},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodList=void 0;var a=E(n(328)),o=E(n(51)),r=E(n(41)),i=E(n(43)),s=E(n(52)),l=E(n(53)),d=E(n(7)),u=n(0),c=E(u),p=E(n(10)),h=n(1224),f=n(1225),m=n(633);function E(e){return e&&e.__esModule?e:{default:e}}var g="mydocs_notarize",_="signature_wizard.options",v="notarize",S={controller:d.default.object,restrictSubTypes:d.default.array,handleAdd:d.default.func,handleSelect:d.default.func,onLoadFilesSelect:d.default.func,webcamEnabled:d.default.bool,experimentalFeatures:d.default.array,misc:d.default.array};(t.SignatureManagerMethodList=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.showNotarize=function(){return!!a.props.experimentalFeatures.find(function(e){return e===g})},a.getMethodsList=function(){var e=a.props.misc.find(function(e){return e.id===_}),t=m.METHODS_LIST;return a.showNotarize()||(t=t.filter(function(e){return e.id!==v})),e&&(t=t.filter(function(t){return e[t.id]})),t},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderPreview",value:function(){var e=this.props,t=e.restrictSubTypes,n=e.controller,a=!1;return t&&t.length&&-1===t.indexOf(m.SUB_TYPES.text)&&-1===t.indexOf(m.SUB_TYPES.initials)&&(a=!0),c.default.createElement(h.SignatureManagerMethodItemPreview,{handleAdd:this.props.handleAdd,handleSelect:this.props.handleSelect,disabled:a,controller:n})}},{key:"renderList",value:function(){var e=this.props,t=e.webcamEnabled,n=e.restrictSubTypes,o=e.onLoadFilesSelect,r=this.getMethodsList();return n&&n.length?r.map(function(e,r){var i=-1===n.indexOf(e.subType)||!t&&e.typeDispatch===m.MODE_TYPES.SM_CAPTURE?(0,a.default)({},e,{disabled:!0}):e;return c.default.createElement(f.SignatureManagerMethodItem,{item:i,key:r,onLoadFilesSelect:o})}):r.map(function(e,n){var r=t||e.typeDispatch!==m.MODE_TYPES.SM_CAPTURE?e:(0,a.default)({},e,{disabled:!0});return c.default.createElement(f.SignatureManagerMethodItem,{item:r,key:n,onLoadFilesSelect:o})})}},{key:"render",value:function(){var e=(0,p.default)("sign-m-body","sign-m-body--scrolled",{"sign-m-body--shadowed":this.showNotarize()});return c.default.createElement("div",{className:e},c.default.createElement("div",{className:"sign-m-body-scrollbox"},this.renderPreview(),c.default.createElement("div",{className:"sign-m-method-item-list"},this.renderList())))}}]),t}(u.Component)).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItemPreview=void 0;var a,o=O(n(328)),r=O(n(51)),i=O(n(41)),s=O(n(43)),l=O(n(52)),d=O(n(53)),u=O(n(7)),c=n(0),p=O(c),h=O(n(10)),f=n(72),m=O(n(754)),E=O(n(747)),g=n(715),_=n(458),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),S=n(633),y=n(853),T=n(637);function O(e){return e&&e.__esModule?e:{default:e}}var b=g.SYSTEM.EVENT_PRESS_ENTER,C={controller:u.default.object,locale:u.default.object,setCurrentController:u.default.func,cancelCurrentController:u.default.func,smSaveSignature:u.default.func,handleAdd:u.default.func,handleSelect:u.default.func,smTypeSignature:u.default.func,signature:u.default.object,fontFamily:u.default.string,disabled:u.default.bool};(t.SignatureManagerMethodItemPreview=(0,f.connect)(function(e){return{signature:e.im.signature,locale:(0,T.getSignatureManagerLocale)(e)}},{cancelCurrentController:E.default.cancelCurrentController,setCurrentController:E.default.setCurrentController,smTypeSignature:v.smTypeSignature,smSaveSignature:v.smSaveSignature})(a=(0,m.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[^a-zA-Z0-9!?@#$%^&*)(+=.,<>{}_\-[\]/\\|;:'"`~№ ]+$/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.onFocus=function(e){var t=n.props.controller;n.moveCaretAtEnd(e),_.inputHandler.addControllerListener(t,b,n.handleText)},n.onBlur=function(){var e=n.props.controller;_.inputHandler.removeControllerListener(e,b,n.handleText)},n.handleText=function(){var e={text:n.props.signature.text||"",fontFamily:S.FONTS.JELLYCA.original,fontSize:y.DEFAULT_SIGNATURE_FONT_SIZE,subType:S.SUB_TYPES.text};e.text.trim().length>0&&(n.props.handleAdd(e),n.props.handleSelect(e))},n.showValue=function(e){var t=n.props.locale;return e||t.methods.preview.placeholder},n.setReference=function(e){n.input=e},n.input=null,n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.controller;this.props.setCurrentController(e)}},{key:"componentDidMount",value:function(){this.input&&!this.props.disabled&&this.input.focus()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.cancelCurrentController,n=e.controller;_.inputHandler.removeControllerListener(n,b,this.handleText),t(n)}},{key:"render",value:function(){var e=this.props,t=e.smTypeSignature,n=e.signature,a=e.locale,o=e.disabled,r=n.text&&n.text.trim().length>0,i=(0,h.default)({disabled:o,"sign-m-method-item":!0,"sign-m-mobile-show":!0,"sign-m-method-item--strip":!0}),s=(0,h.default)({disabled:o,"sign-m-method-item":!0,"sign-m-method-item--lg":!0,"sign-m-mobile-hide":!0,"sign-m-method-item--strip":!0}),l=(0,h.default)({"g-btn g-btn-primary g-btn-auto-width g-btn-sm":!0,disabled:!n.text});return p.default.createElement("div",null,p.default.createElement("div",{"data-strip":"easy",className:s},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"}),p.default.createElement("div",{className:"sign-m-method-item__title"},a.methods.preview.title)),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:a.methods.preview.text}}),p.default.createElement("div",{className:"sign-m-method-item__control"},p.default.createElement("input",{type:"text",className:"form-input form-input-sm",maxLength:100,onChange:this.onChange,placeholder:a.methods.preview.placeholder,value:n.text||"",onFocus:this.onFocus,onBlur:this.onBlur,ref:this.setReference,disabled:o}),p.default.createElement("button",{className:l,disabled:!r,onClick:this.handleText},a.methods.preview.button))),p.default.createElement("div",{className:"sign-m-method-item-preview font-JellykaCuttyCupcakes"},p.default.createElement("span",{className:"sign-preview"},this.showValue(n.text)))),p.default.createElement("div",{"data-strip":"easy",className:i,onClick:t},p.default.createElement("div",{className:"sign-m-mobile-show"},p.default.createElement("div",{className:"sign-m-method-item__icon"},p.default.createElement("div",{className:"sign-m-svg-icon-type"})),p.default.createElement("div",{className:"sign-m-method-item-inner"},p.default.createElement("div",{className:"sign-m-method-item__title"},a.methods.preview.title),p.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:a.methods.preview.text}})))))}}]),t}(c.Component))||a)||a).propTypes=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItem=void 0;var a,o=y(n(109)),r=y(n(51)),i=y(n(41)),s=y(n(43)),l=y(n(52)),d=y(n(53)),u=y(n(328)),c=y(n(7)),p=n(0),h=y(p),f=y(n(10)),m=n(72),E=n(31),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),_=n(633),v=n(657),S=n(637);function y(e){return e&&e.__esModule?e:{default:e}}var T={item:c.default.object,deviceProps:c.default.object,locale:c.default.object,dropzoneConfig:c.default.object,smGallery:c.default.func,smTypeSignature:c.default.func,smQR:c.default.func,smSMS:c.default.func,smEmail:c.default.func,smDraw:c.default.func,smMobileUploader:c.default.func,smUploader:c.default.func,smCapture:c.default.func,smNotarize:c.default.func,openNotarizeModal:c.default.func,onLoadFilesSelect:c.default.func};(t.SignatureManagerMethodItem=(0,m.connect)(function(e){return(0,u.default)({},e.im.modeSignature,{locale:(0,S.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{smGallery:g.smGallery,smQR:g.smQR,smSMS:g.smSMS,smEmail:g.smEmail,smDraw:g.smDraw,smUploader:g.smUploader,smMobileUploader:g.smMobileUploader,smTypeSignature:g.smTypeSignature,smCapture:g.smCapture,smNotarize:g.smNotarize,openNotarizeModal:E.openNotarizeModal})(a=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"strip",value:function(e){var t=this.props.item,n=(0,o.default)(t.strip),a=void 0;return a="className"===e?"string"===n||0:"string"===n?t.strip:"",a}},{key:"funcTypeDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.item,a=t.deviceProps,o=t.smGallery,r=t.smTypeSignature,i=t.smQR,s=t.smSMS,l=t.smEmail,d=t.smDraw,u=t.smMobileUploader,c=t.smUploader,p=t.smCapture,h=t.smNotarize,f=t.onLoadFilesSelect;if(!n.disabled)switch(n.typeDispatch){case _.MODE_TYPES.SM_GALLERY:return o();case _.MODE_TYPES.SM_TYPE_SIGNATURE:return r();case _.MODE_TYPES.SM_QR:return i();case _.MODE_TYPES.SM_SMS:return s();case _.MODE_TYPES.SM_EMAIL:return l();case _.MODE_TYPES.SM_DRAW:return d();case _.MODE_TYPES.SM_UPLOADER:return(0,v.isTabletOrMobile)(a)?(f(e),u()):c();case _.MODE_TYPES.SM_CAPTURE:return p();case _.MODE_TYPES.SM_NOTARIZE:return this.props.openNotarizeModal(),h();default:return!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,a=t.dropzoneConfig,o=t.item,r=t.deviceProps,i={title:n.methods.list[o.id].title,text:n.methods.list[o.id].text},s=!1;(o.disabled||o.typeDispatch===_.MODE_TYPES.SM_CAPTURE&&(0,v.isTabletOrMobile)(r))&&(s=!0);var l=(0,f.default)({"sign-m-method-item":!0,"sign-m-method-item--strip":this.strip("className"),disabled:s});if((0,v.isTabletOrMobile)(r)){if(o.typeDispatch===_.MODE_TYPES.SM_UPLOADER)return h.default.createElement("div",{"data-strip":this.strip(),className:l},h.default.createElement("label",{htmlFor:"crop_upload_file"},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.upload.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.upload.textMobile)),h.default.createElement("input",{value:"",id:"crop_upload_file",type:"file",hidden:"hidden",accept:a.allowedFileTypes,onChange:function(t){return e.funcTypeDispatch(t.target.files)}})));if(o.typeDispatch===_.MODE_TYPES.SM_DRAW)return h.default.createElement("div",{"data-strip":this.strip(),className:l,onClick:function(){return e.funcTypeDispatch()}},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.draw.titleMobile),h.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.draw.textMobile)));if(s)return null}return h.default.createElement("div",{"data-strip":this.strip(),className:l,onClick:function(){return e.funcTypeDispatch()}},h.default.createElement("div",{className:"sign-m-method-item__icon"},h.default.createElement("div",{className:o.icon})),h.default.createElement("div",{className:"sign-m-method-item-inner"},h.default.createElement("div",{className:"sign-m-method-item__title"},i.title),h.default.createElement("div",{className:"sign-m-method-item__desc"},i.text)))}}]),t}(p.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignature=void 0;var a,o=v(n(328)),r=v(n(51)),i=v(n(41)),s=v(n(43)),l=v(n(52)),d=v(n(53)),u=v(n(7)),c=n(0),p=v(c),h=n(72),f=v(n(754)),m=n(1227),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),g=n(633),_=n(637);function v(e){return e&&e.__esModule?e:{default:e}}var S=[{font:g.FONTS.JELLYCA,active:!0},{font:g.FONTS.SIGNATURE,active:!1}],y={smSaveSignature:u.default.func,locale:u.default.object,signature:u.default.object};(t.SignatureManagerTypeSignature=(0,h.connect)(function(e){return{signature:e.im.signature,locale:(0,_.getSignatureManagerLocale)(e).type}},{smSaveSignature:E.smSaveSignature})(a=(0,f.default)(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.onChange=function(e){var t=n.props.signature,a=e.target.value.replace(/[^a-zA-Z0-9!?@#$%^&*)(+=.,<>{}_\-[\]/\\|;:'"`~№ ]+$/gi,"");n.props.smSaveSignature((0,o.default)({},t,{text:a}))},n.onFocus=function(e){n.moveCaretAtEnd(e)},n.setReference=function(e){n.input=e},n.setActiveFont=function(e,t){return e.map(function(e){return e.font.original===t?(0,o.default)({},e,{active:!0}):(0,o.default)({},e,{active:!1})})},n.handleSetActiveElement=function(e){n.setState(function(t){return{fonts:n.setActiveFont(t.fonts,e)}})},n.state={fonts:n.setActiveFont(S,e.signature.fontFamily)},n.input=null,n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.signature,a=t.locale;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("div",{className:"g-form-group"},p.default.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:a.placeholder,className:"form-input",value:n.text,ref:this.setReference})),p.default.createElement("div",{className:"sign-m-type-title"},a.text),p.default.createElement("div",{className:"sign-m-type-list clfx"},this.state.fonts.map(function(t,o){return p.default.createElement(m.SignatureManagerTypeSignatureItem,{signature:n,placeholder:a.placeholder,smSaveSignature:e.props.smSaveSignature,font:t,setActiveElement:e.handleSetActiveElement,key:o})})))}}]),t}(c.Component))||a)||a).propTypes=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignatureItem=void 0;var a=h(n(328)),o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=h(n(7)),u=n(0),c=h(u),p=n(633);function h(e){return e&&e.__esModule?e:{default:e}}var f={smSaveSignature:d.default.func,setActiveElement:d.default.func,font:d.default.object,signature:d.default.object,placeholder:d.default.string},m=p.FONTS.JELLYCA.original;(t.SignatureManagerTypeSignatureItem=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleClick=function(e){e.stopPropagation();var t=a.props.font;a.setFont(),a.props.setActiveElement(t.font.original)},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.props.font.font.original===m&&this.setFont()}},{key:"setFont",value:function(){var e=this.props,t=e.signature,n=e.font;this.props.smSaveSignature((0,a.default)({},t,{fontFamily:n.font.original}))}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.placeholder,a=e.font,o="sign-m-type-item "+a.font.custom+" "+(a.active?"active":"");return c.default.createElement("div",{className:o,onClick:this.handleClick},c.default.createElement("div",{className:"sign-m-type-item-inner"},c.default.createElement("div",{className:"sign-m-type-item__title"},t.text||n)))}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterTypeSignature=void 0;var a,o=_(n(51)),r=_(n(41)),i=_(n(43)),s=_(n(52)),l=_(n(53)),d=_(n(7)),u=n(0),c=_(u),p=n(72),h=n(660),f=n(652),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),E=n(633),g=n(637);function _(e){return e&&e.__esModule?e:{default:e}}var v={smInitial:d.default.func,handleText:d.default.func,smGallery:d.default.func,locale:d.default.object,signature:d.default.object,modeSignature:d.default.object,fontFamily:d.default.string,handleSaveAndUse:d.default.func};(t.SignatureManagerFooterTypeSignature=(0,p.connect)(function(e){return{signature:e.im.signature,modeSignature:e.im.modeSignature,locale:(0,g.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.signature,n=e.modeSignature,a=e.locale,o=!(t.text&&t.text.trim().length>0);return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:n.type===E.MODE_TYPES.SM_TEXT_EDIT?this.props.smGallery:this.props.smInitial},a.backButton),c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-show-mobile",onClick:this.handleSaveButtonClick,disabled:o},a.type.saveButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-mobile-hide",onClick:this.handleSaveButtonClick,disabled:o},a.type.saveButton),c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:this.handleSaveAndUseButtonClick,disabled:o},a.type.saveAndUseButton)))}}]),t}(u.Component))||a).propTypes=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryList=void 0;var a,o=S(n(51)),r=S(n(41)),i=S(n(43)),s=S(n(52)),l=S(n(53)),d=S(n(7)),u=n(0),c=S(u),p=n(72),h=S(n(10)),f=n(1230),m=n(755),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),g=n(633),_=n(637),v=n(657);function S(e){return e&&e.__esModule?e:{default:e}}var y={flexGrow:1},T={list:d.default.array,restrictSubTypes:d.default.array,handleSelect:d.default.func,handleDelete:d.default.func,handleImageLoading:d.default.func,smGallery:d.default.func,mobileSignatureResend:d.default.func,locale:d.default.object,loadState:d.default.bool,showResend:d.default.bool,deviceProps:d.default.object};(t.SignatureManagerGalleryList=(0,p.connect)(function(e){return{list:e.ws.signatures,loadState:e.im.modeSignature.loadState,showResend:e.im.modeSignature.showResend,locale:(0,_.getSignatureManagerLocale)(e),deviceProps:e.deviceProps}},{smGallery:E.smGallery,mobileSignatureResend:E.mobileSignatureResend})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"renderList",value:function(){var e=this,t=this.props,n=t.list,a=t.restrictSubTypes;return n.length&&a&&a.length?n.map(function(t,n){return-1!==a.indexOf(t.subType)||t.subType===g.SUB_TYPES.text&&-1!==a.indexOf(g.SUB_TYPES.initials)?c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading}):null}):n.length?n.map(function(t,n){return c.default.createElement(f.SignatureManagerGalleryItem,{signature:t,key:n,handleSelect:e.props.handleSelect,handleDelete:e.props.handleDelete,handleImageLoading:e.props.handleImageLoading})}):null}},{key:"getLoaderButtons",value:function(){var e=this.props,t=e.smGallery,n=e.showResend,a=e.locale,o=e.mobileSignatureResend,r=[{btnDispatch:function(){return t()},btnText:a.backButton}];return n&&r.push({btnDispatch:function(){return o()},btnText:a.uploading.resendButton}),r}},{key:"renderBody",value:function(){return c.default.createElement("div",{className:"sign-m-body sign-m-body--signatures-list sign-m-body--padding-0"},c.default.createElement("div",{className:"clrx"},c.default.createElement("div",{className:(0,h.default)("signature-type-list",{"signature-type-list--no-edit":(0,v.isTabletOrMobile)(this.props.deviceProps)})},this.renderList())))}},{key:"renderLoader",value:function(){var e=this.props.locale,t=this.getLoaderButtons();return c.default.createElement("div",{className:"loading-overlay"},c.default.createElement(m.Loader,{title:e.uploading.awaitingText,btns:t}))}},{key:"render",value:function(){return this.props.loadState?c.default.createElement("div",{style:y},this.renderLoader(),this.renderBody()):this.renderBody()}}]),t}(u.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryItem=void 0;var a,o=y(n(223)),r=y(n(51)),i=y(n(41)),s=y(n(43)),l=y(n(52)),d=y(n(53)),u=y(n(7)),c=n(0),p=y(c),h=n(72),f=y(n(10)),m=n(1005),E=y(n(651)),g=n(649),_=n(863),v=n(633),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632));function y(e){return e&&e.__esModule?e:{default:e}}var T={initialCount:u.default.number,signature:u.default.object,handleSelect:u.default.func,handleDelete:u.default.func,handleImageLoading:u.default.func,setInitialImage:u.default.func,smSetInitialSignature:u.default.func,smDraw:u.default.func,smEdit:u.default.func};(t.SignatureManagerGalleryItem=(0,h.connect)(null,{setInitialImage:E.default.setInitialImage,smSetInitialSignature:S.smSetInitialSignature,smDraw:S.smDraw,smEdit:S.smEdit})(a=function(e){function t(e){(0,i.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleSelect=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleSelect(t)},n.handleEdit=function(e){var t=n.props.signature;e.stopPropagation(),n.props.smSetInitialSignature(t),t.subType===v.SUB_TYPES.text&&n.props.smEdit(v.SUB_TYPES.text),t.subType===v.SUB_TYPES.curve&&n.props.smEdit(v.SUB_TYPES.curve),t.subType===v.SUB_TYPES.image&&(n.props.handleImageLoading(!0),(0,g.imageToBase64)(t.url,function(e){n.props.setInitialImage(e,t),n.props.handleImageLoading(!1),n.props.smEdit(v.SUB_TYPES.image)}))},n.handleDelete=function(e){e.stopPropagation();var t=n.props.signature;n.props.handleDelete(t)},n.storeItemSignatureRef=function(e){n.itemSignatureRef=e},n.state={width:e.initialCount,height:e.initialCount},n.sizeCanvas=n.sizeCanvas.bind(n),n}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.sizeCanvas()}},{key:"sizeCanvas",value:function(){this.setState({width:this.itemSignatureRef.offsetWidth,height:this.itemSignatureRef.offsetHeight})}},{key:"renderCurves",value:function(e){var t=this.state,n=t.width,a=t.height;return n>0&&a>0?p.default.createElement(m.SignatureDrawComponent,{width:n,height:a,curves:e.curves,key:e.id}):null}},{key:"renderItemType",value:function(e){var t={fontSize:e.fontSize+"px"};switch(e.subType){case v.SUB_TYPES.text:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);case v.SUB_TYPES.curve:return this.renderCurves(e);case v.SUB_TYPES.image:return p.default.createElement(_.ImageItem,{src:e.url,key:e.id});case v.SUB_TYPES.initials:return p.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);default:return null}}},{key:"getClassNameTitle",value:function(){var e="";switch(this.props.signature.fontFamily){case v.FONTS.JELLYCA.original:e=v.FONTS.JELLYCA.custom;break;case v.FONTS.PETRA.original:e=v.FONTS.PETRA.custom;break;case v.FONTS.SIGNATURE.original:e=v.FONTS.SIGNATURE.custom;break;default:e=""}return(0,f.default)((0,o.default)({"signature-type-list-item__title":!0},e,!0))}},{key:"render",value:function(){var e=this.props.signature,t=void 0;t=e.type===v.SUB_TYPES.initials?"signature-type-list-item--initials":"signature-type-list-item--signatures";var n=(0,f.default)((0,o.default)({"signature-type-list-item":!0},t,!0));return p.default.createElement("div",{key:e.id,className:n,onClick:this.handleSelect},p.default.createElement("div",{className:"signature-type-item",ref:this.storeItemSignatureRef},this.renderItemType(e)),p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--edit",onClick:this.handleEdit},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-pen-edit"})),p.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:this.handleDelete},p.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(c.Component))||a).propTypes=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawElement=t.HISTORY_LENGTH_LIMIT=t.DEFAULT_SMOOTHING=t.DEFAULT_LINE_WIDTH=t.DEFAULT_COLOR=void 0;var a=c(n(328)),o=c(n(269)),r=c(n(109)),i=c(n(41)),s=c(n(43)),l=c(n(268)),d=c(n(1232)),u=n(1006);function c(e){return e&&e.__esModule?e:{default:e}}var p=t.DEFAULT_COLOR="000000",h=t.DEFAULT_LINE_WIDTH=1,f=t.DEFAULT_SMOOTHING=!1,m=t.HISTORY_LENGTH_LIMIT=50,E=function(e){var t=e.length-2,n=[],a=0;n.push(e[0]),n.push(e[1]);for(var o=2;o<t;o+=2)(Math.abs(n[a]-e[o])>=9||Math.abs(n[a+1]-e[o+1])>=9)&&(n.push(e[o]),n.push(e[o+1]),a+=2);if(2===n.length){var r=2*Math.floor(e.length/4);n.push(e[r]),n.push(e[r+1])}return n.push(e[t]),n.push(e[t+1]),n},g=function(e){var t,n=(t=function(e){for(var t={x:[],y:[]},n=0;n<e.length;n+=1){var a=e[n];n%2==0?t.x.push(a):t.y.push(a)}return t}(e),{min:{x:Math.min.apply(Math,(0,l.default)(t.x)),y:Math.min.apply(Math,(0,l.default)(t.y))},max:{x:Math.max.apply(Math,(0,l.default)(t.x)),y:Math.max.apply(Math,(0,l.default)(t.y))}}),a=n.min,o=n.max;return{width:o.x>a.x?o.x-a.x:1,height:o.y>a.y?o.y-a.y:1}};t.SignatureDrawElement=function(){function e(){(0,i.default)(this,e),this.canvas=null,this.curves=[],this.currentCurve={},this.color=p,this.lineWidth=h,this.smoothing=f,this.undoRedoCallback=null,this.isMobile=!1,this.history=[],this.currentHistoryPoint=-1,this.scale=1,this.historyLengthLimit=m}return(0,s.default)(e,[{key:"init",value:function(e,t,n,a,i,s,l){var c=this;if(this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.curves=void 0!==n?(0,d.default)(n):[],this.undoRedoCallback=void 0!==a?a:null,"object"===(void 0===l?"undefined":(0,r.default)(l))&&(0,o.default)(l).forEach(function(e){c.canvas.style[e]=l[e]}),i?(this.isMobile=(0,u.isMobile)(),this.isSurface=(0,u.isSurface)(),this.mouseDownHandler=this.mouseDown.bind(this),this.isMobile?this.canvas.addEventListener("touchstart",this.mouseDownHandler):this.isSurface?this.canvas.addEventListener("pointerdown",this.mouseDownHandler):this.canvas.addEventListener("mousedown",this.mouseDownHandler)):this.checkScale(),this.curves.length>0){var p=this.curves[this.curves.length-1];this.color=p.color,this.lineWidth=p.lineWidth,this.smoothing=p.smoothing,this.redraw()}else s&&(this.drawConfig=s,this.color=s.color,this.lineWidth=s.lineWidth);return this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64()),this.canvas}},{key:"update",value:function(e,t,n){return this.canvas.width=e,this.canvas.height=t,n||this.checkScale(!0),this.canvas.getContext("2d").strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,this.redraw(),this.canvas}},{key:"setCurvesColor",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{color:e})})}},{key:"setColor",value:function(e){if(this.color!==e){var t=this.color;this.updateColor(e),this.addHistoryPoint({type:"color",old:t,new:e}),this.redraw(),this.setCurvesColor(e)}}},{key:"updateColor",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{color:e}),this.color=e,this.setCurvesColor(e)}},{key:"getDrawConfig",value:function(){return this.drawConfig}},{key:"getColor",value:function(){return this.color}},{key:"setCurvesLineWidth",value:function(e){this.curves=this.curves.map(function(t){return(0,a.default)({},t,{lineWidth:e})})}},{key:"setLineWidth",value:function(e){if(this.lineWidth!==e){var t=this.lineWidth;this.updateLineWidth(e),this.addHistoryPoint({type:"lineWidth",old:t,new:e}),this.redraw(),this.setCurvesLineWidth(e)}}},{key:"updateLineWidth",value:function(e){this.drawConfig=(0,a.default)({},this.drawConfig,{lineWidth:e}),this.lineWidth=e,this.setCurvesLineWidth(e)}},{key:"getLineWidth",value:function(){return this.lineWidth}},{key:"setSmoothing",value:function(e){this.smoothing!==e&&(this.addHistoryPoint({type:"smoothing",old:this.lineWidth,new:e}),this.smoothing=e,this.redraw())}},{key:"getSmoothing",value:function(){return this.smoothing}},{key:"mergeCurves",value:function(){var e=void 0,t=[],n=this.curves;if(n)for(var a=0,o=n.length;a<o;a++)e=n[a],t=t.concat(e.controlPoints);return t}},{key:"getSignatureCurveWidthHeight",value:function(){var e={curves:this.curves},t=this.mergeCurves(),n=g(t);return e.width=n.width,e.height=n.height,e}},{key:"getCurves",value:function(){return this.getSignatureCurveWidthHeight()}},{key:"getCurvesAndBase64",value:function(){var e=this.getCurves();return(0,a.default)({},e,{base64:this.canvas.toDataURL()})}},{key:"clear",value:function(){this.addHistoryPoint({type:"curves",old:this.curves.concat(),new:[]}),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.curves=[]}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.old);break;case"lineWidth":this.updateLineWidth(e.old);break;case"smoothing":this.smoothing=e.old;break;case"curves":this.curves=e.old.concat()}this.redraw(),this.currentHistoryPoint-=1,null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"redo",value:function(){if(this.canRedo()){this.currentHistoryPoint+=1;var e=this.history[this.currentHistoryPoint];switch(e.type){case"color":this.updateColor(e.new);break;case"lineWidth":this.updateLineWidth(e.new);break;case"smoothing":this.smoothing=e.new;break;case"curves":this.curves=e.new}this.redraw(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}}},{key:"canUndo",value:function(){return this.checkRange(),this.currentHistoryPoint>=0}},{key:"canRedo",value:function(){return this.checkRange(),this.currentHistoryPoint<this.history.length-1}},{key:"destroy",value:function(){this.mouseMoveHandler&&(this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("pointermove",this.mouseMoveHandler)),this.mouseUpHandler&&(this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("pointerup",this.mouseUpHandler)),this.mouseDownHandler&&(this.canvas.removeEventListener("mousedown",this.mouseDownHandler),this.canvas.removeEventListener("pointerdown",this.mouseDownHandler)),this.mouseLeaveHandler&&(this.canvas.removeEventListener("mouseleave",this.mouseLeaveHandler),this.canvas.removeEventListener("pointerleave",this.mouseLeaveHandler))}},{key:"mouseDown",value:function(){this.currentCurve={lineWidth:this.lineWidth,smoothing:this.smoothing,color:this.color,controlPoints:[]},this.mouseMoveHandler=this.mouseMove.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),this.mouseLeaveHandler=this.mouseLeave.bind(this),this.isMobile?(this.canvas.addEventListener("touchmove",this.mouseMoveHandler),this.canvas.addEventListener("touchend",this.mouseUpHandler),this.canvas.addEventListener("touchleave",this.mouseLeaveHandler)):this.isSurface?(this.canvas.addEventListener("pointermove",this.mouseMoveHandler),this.canvas.addEventListener("pointerup",this.mouseUpHandler),this.canvas.addEventListener("pointerleave",this.mouseLeaveHandler)):(this.canvas.addEventListener("mousemove",this.mouseMoveHandler),this.canvas.addEventListener("mouseup",this.mouseUpHandler),this.canvas.addEventListener("mouseleave",this.mouseLeaveHandler))}},{key:"mouseMove",value:function(e){e.preventDefault();var t=this.getMousePos(e);if(this.currentCurve.controlPoints){this.currentCurve.controlPoints.push(Math.round(t.x)),this.currentCurve.controlPoints.push(Math.round(t.y));var n=this.canvas.getContext("2d");4===this.currentCurve.controlPoints.length&&(n.lineWidth=this.currentCurve.lineWidth,n.strokeStyle=this.currentCurve.color,n.beginPath(),n.moveTo(this.currentCurve.controlPoints[0],this.currentCurve.controlPoints[1])),this.currentCurve.controlPoints.length>=4&&(n.lineTo(this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-2],this.currentCurve.controlPoints[this.currentCurve.controlPoints.length-1]),n.stroke()),"pointermove"===e.type&&0===e.pressure&&this.mouseLeave()}}},{key:"mouseLeave",value:function(){this.mouseUp(),this.mouseEnterHandler=this.mouseEnter.bind(this),this.mouseUpHandler=this.mouseUp.bind(this),this.isMobile?(this.canvas.addEventListener("touchenter",this.mouseEnterHandler),document.addEventListener("touchend",this.mouseUpHandler)):this.isSurface?(this.canvas.addEventListener("pointerenter",this.mouseEnterHandler),document.addEventListener("pointerup",this.mouseUpHandler)):(this.canvas.addEventListener("mouseenter",this.mouseEnterHandler),document.addEventListener("mouseup",this.mouseUpHandler))}},{key:"mouseEnter",value:function(e){this.mouseDown(e),this.isMobile?(document.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchenter",this.mouseEnterHandler)):this.isSurface?(document.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerenter",this.mouseEnterHandler)):(document.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseenter",this.mouseEnterHandler))}},{key:"mouseUp",value:function(){if(document.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchenter",this.mouseEnterHandler),this.canvas.removeEventListener("touchmove",this.mouseMoveHandler),this.canvas.removeEventListener("touchend",this.mouseUpHandler),this.canvas.removeEventListener("touchleave",this.mouseLeaveHandler),document.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerenter",this.mouseEnterHandler),this.canvas.removeEventListener("pointermove",this.mouseMoveHandler),this.canvas.removeEventListener("pointerup",this.mouseUpHandler),this.canvas.removeEventListener("pointerleave",this.mouseLeaveHandler),document.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseenter",this.mouseEnterHandler),this.canvas.removeEventListener("mousemove",this.mouseMoveHandler),this.canvas.removeEventListener("mouseup",this.mouseUpHandler),this.canvas.removeEventListener("mouseleave",this.mouseLeaveHandler),this.mouseMoveHandler=null,this.mouseUpHandler=null,this.mouseLeaveHandler=null,this.mouseEnterHandler=null,this.currentCurve.controlPoints&&this.currentCurve.controlPoints.length>=4){var e=this.curves.concat();this.curves.push(this.currentCurve),this.redraw(),this.addHistoryPoint({type:"curves",old:e,new:this.curves.concat()})}this.currentCurve={}}},{key:"checkScale",value:function(e){if(this.curves.length>0&&this.curves[0].controlPoints.length>0){for(var t=this.curves[0].controlPoints[0],n=this.curves[0].controlPoints[1],a=t,o=n,r=this.curves.length,i=0;i<r;i++){var s=this.curves[i].controlPoints,l=s.length;if(l%2==0)for(var d=0;d<l;d+=2)t=Math.max(t,s[d]),n=Math.max(n,s[d+1]),a=Math.min(a,s[d]),o=Math.min(o,s[d+1])}var u=this.canvas.width-6,c=this.canvas.height-6,p=t-a,h=n-o;(p>u||h>c)&&(this.scale=Math.min(u/p,c/h)),e&&(this.scale=Math.min(this.canvas.width/p,this.canvas.height/h));for(var f=(t+a)/2,m=(n+o)/2,E=0;E<r;E++){var g=this.curves[E].controlPoints,_=g.length;if(_%2==0)for(var v=0;v<_;v+=2)g[v]=(g[v]-f)*this.scale+this.canvas.width/2,g[v+1]=(g[v+1]-m)*this.scale+this.canvas.height/2}}}},{key:"getMousePos",value:function(e){var t=this.canvas.getBoundingClientRect(),n=e;return e.type.indexOf("touch")>=0&&(n=e.changedTouches[0]),{x:n.clientX-t.left,y:n.clientY-t.top}}},{key:"redraw",value:function(){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.lineWidth=this.lineWidth,e.strokeStyle="#"===this.color.charAt(0)?this.color:"#"+this.color,e.beginPath(),e.lineJoin="round",e.lineCap="round";for(var t=this.curves.length,n=0;n<t;n++){var a=this.curves[n].controlPoints,o=a.length;if(4===o&&a.push(a[2],a[3]),o%2==0)if(this.smoothing){var r=E(a);o=r.length,e.moveTo(r[0],r[1]);for(var i=2;;){if(!(i+3<o))break;e.quadraticCurveTo(r[i],r[i+1],r[i+2],r[i+3]),i+=4}for(;i<o-1;)e.lineTo(r[i],r[i+1]),i+=1}else{e.moveTo(a[0],a[1]);for(var s=2;s<o;s+=2)e.lineTo(a[s],a[s+1])}}e.stroke()}},{key:"addHistoryPoint",value:function(e){this.currentHistoryPoint<this.history.length-1&&(this.history.length=this.currentHistoryPoint+1),this.history.push(e),this.currentHistoryPoint=this.history.length-1,this.trimHistory(),null!=this.undoRedoCallback&&this.undoRedoCallback(this.getCurvesAndBase64())}},{key:"checkRange",value:function(){this.currentHistoryPoint>=this.history.length&&(this.currentHistoryPoint=this.history.length-1),this.currentHistoryPoint<-1&&(this.currentHistoryPoint=-1)}},{key:"trimHistory",value:function(){for(;this.history.length>this.historyLengthLimit;)this.history.shift();this.checkRange()}}]),e}()},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,a,o;try{n=Map}catch(e){n=function(){}}try{a=Set}catch(e){a=function(){}}try{o=Promise}catch(e){o=function(){}}function r(i,l,d,u,c){"object"==typeof l&&(d=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var p=[],h=[],f=void 0!==t;return void 0===l&&(l=!0),void 0===d&&(d=1/0),function i(d,m){if(null===d)return null;if(0===m)return d;var E,g;if("object"!=typeof d)return d;if(e(d,n))E=new n;else if(e(d,a))E=new a;else if(e(d,o))E=new o(function(e,t){d.then(function(t){e(i(t,m-1))},function(e){t(i(e,m-1))})});else if(r.__isArray(d))E=[];else if(r.__isRegExp(d))E=new RegExp(d.source,s(d)),d.lastIndex&&(E.lastIndex=d.lastIndex);else if(r.__isDate(d))E=new Date(d.getTime());else{if(f&&t.isBuffer(d))return E=t.allocUnsafe?t.allocUnsafe(d.length):new t(d.length),d.copy(E),E;e(d,Error)?E=Object.create(d):void 0===u?(g=Object.getPrototypeOf(d),E=Object.create(g)):(E=Object.create(u),g=u)}if(l){var _=p.indexOf(d);if(-1!=_)return h[_];p.push(d),h.push(E)}for(var v in e(d,n)&&d.forEach(function(e,t){var n=i(t,m-1),a=i(e,m-1);E.set(n,a)}),e(d,a)&&d.forEach(function(e){var t=i(e,m-1);E.add(t)}),d){var S;g&&(S=Object.getOwnPropertyDescriptor(g,v)),S&&null==S.set||(E[v]=i(d[v],m-1))}if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(d);for(v=0;v<y.length;v++){var T=y[v];(!(b=Object.getOwnPropertyDescriptor(d,T))||b.enumerable||c)&&(E[T]=i(d[T],m-1),b.enumerable||Object.defineProperty(E,T,{enumerable:!1}))}}if(c){var O=Object.getOwnPropertyNames(d);for(v=0;v<O.length;v++){var b,C=O[v];(b=Object.getOwnPropertyDescriptor(d,C))&&b.enumerable||(E[C]=i(d[C],m-1),Object.defineProperty(E,C,{enumerable:!1}))}}return E}(i,d)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=i,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},r.__getRegExpFlags=s,r}();e.exports&&(e.exports=n)}).call(this,n(343).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterGallery=void 0;var a,o,r,i=S(n(51)),s=S(n(41)),l=S(n(43)),d=S(n(52)),u=S(n(53)),c=S(n(328)),p=S(n(7)),h=n(0),f=S(h),m=n(72),E=n(1234),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),_=n(657),v=n(637);function S(e){return e&&e.__esModule?e:{default:e}}var y={smInitial:p.default.func,locale:p.default.object};(t.SignatureManagerFooterGallery=(0,m.connect)(function(e){return(0,c.default)({},e.im.modeSignature,{locale:(0,v.getSignatureManagerLocale)(e)})},{smInitial:g.smInitial})((r=o=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.setReference=function(e){a.button=e},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){(0,_.isIeOrEdge)()&&this.button&&this.button.focus()}},{key:"render",value:function(){var e=this.props.locale;return this.context.useSignNowTheme?f.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},f.default.createElement("div",{className:"sign-m-footer--separator-wrapper"},f.default.createElement("div",{className:"sign-m-footer--separator-text"},e.poweredBy),f.default.createElement("div",{className:"sign-m-footer--separator-line"})),f.default.createElement("div",{className:"sign-m-footer__content"},f.default.createElement("div",{className:"sign-m-footer__info"},f.default.createElement("div",{className:"sign-m-svg-icon-logo-signnow"}),f.default.createElement("div",{className:"sign-m-footer__text"},e.footerText)),f.default.createElement("div",{className:"sign-m-footer__btn"},f.default.createElement("button",{className:"g-btn g-btn-primary g-btn-lm g-btn-auto-width",type:"button",onClick:this.props.smInitial,ref:this.setReference},e.gallery.mainButton)))):f.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},f.default.createElement("div",{className:"sign-m-footer__left"}),f.default.createElement("div",{className:"sign-m-footer__right"},f.default.createElement(E.BtnIcon,{addClass:"g-btn-sm g-btn-primary",iconClass:"i-sign",onClick:this.props.smInitial},e.gallery.mainButton)),f.default.createElement("button",{type:"button",ref:this.setReference,style:{opacity:0,cursor:"initial",pointerEvents:"none"}}))}}]),t}(h.Component),o.contextTypes={useSignNowTheme:p.default.bool},a=r))||a).propTypes=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtnIcon=void 0;var a=h(n(223)),o=h(n(51)),r=h(n(41)),i=h(n(43)),s=h(n(52)),l=h(n(53)),d=h(n(7)),u=n(0),c=h(u),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var f={iconClass:d.default.string,addClass:d.default.string,children:d.default.string,onClick:d.default.func};(t.BtnIcon=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.iconClass,o=e.addClass,r=void 0===o?"":o,i=e.children,s=(0,p.default)((0,a.default)({i:!0},n,!0));return c.default.createElement("button",{type:"button",className:"g-btn g-btn-auto-width "+r,onClick:t},c.default.createElement("i",{className:s}),i)}}]),t}(u.Component)).propTypes=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerQR=void 0;var a,o=g(n(51)),r=g(n(41)),i=g(n(43)),s=g(n(52)),l=g(n(53)),d=g(n(7)),u=n(0),c=g(u),p=n(72),h=n(863),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),m=n(633),E=n(637);function g(e){return e&&e.__esModule?e:{default:e}}var _={setMobileSignatureMethod:d.default.func,getQrUrl:d.default.func,locale:d.default.object,qrUrl:d.default.string};(t.SignatureManagerQR=(0,p.connect)(function(e){return{qrUrl:e.im.qrUrl,locale:(0,E.getSignatureManagerLocale)(e).qr}},{setMobileSignatureMethod:f.setMobileSignatureMethod,getQrUrl:f.getQrUrl})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setMobileSignatureMethod,n=e.getQrUrl;t(m.MODE_TYPES.SM_QR),n()}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return c.default.createElement("li",{key:e.id},c.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.qrUrl;return c.default.createElement("div",{className:"sign-m-body"},c.default.createElement("p",{className:"sign-m-body-text"},t.text),c.default.createElement("div",{className:"sign-m-container"},c.default.createElement("div",{className:"sign-m-container-inner"},c.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img",style:{position:"relative"}},c.default.createElement(h.ImageItem,{src:n})),c.default.createElement("div",{className:"sign-m-container__cell"},c.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),c.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(u.Component))||a).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerSMS=void 0;var a,o=v(n(51)),r=v(n(41)),i=v(n(43)),s=v(n(52)),l=v(n(53)),d=v(n(328)),u=v(n(7)),c=n(0),p=v(c),h=n(72),f=n(1007),m=n(637),E=n(633),g=n(660),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632));function v(e){return e&&e.__esModule?e:{default:e}}var S={setMobileSignatureMethod:u.default.func,savePhoneNumber:u.default.func,sendPhoneNumber:u.default.func,smMobileSignLoading:u.default.func,openAddressBook:u.default.func,locale:u.default.object,phoneNumber:u.default.string};(t.SignatureManagerSMS=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).sms,phoneNumber:e.im.phoneNumber})},{smMobileSignLoading:_.smMobileSignLoading,sendPhoneNumber:_.sendPhoneNumber,setMobileSignatureMethod:_.setMobileSignatureMethod,savePhoneNumber:_.savePhoneNumber})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.savePhoneNumber=n.savePhoneNumber.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_SMS)}},{key:"savePhoneNumber",value:function(e){var t=this.props.savePhoneNumber;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.sendPhoneNumber;(0,e.smMobileSignLoading)(),t()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.phoneNumber;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.phoneNumber,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.savePhoneNumber,validations:[{rule:"isPhone"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0}),p.default.createElement(g.BtnPrimary,{disabled:!o,onClick:this.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_SMS,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList(t))))))}}]),t}(c.Component))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerEmail=void 0;var a,o=v(n(51)),r=v(n(41)),i=v(n(43)),s=v(n(52)),l=v(n(53)),d=v(n(328)),u=v(n(7)),c=n(0),p=v(c),h=n(72),f=n(1007),m=n(637),E=n(633),g=n(660),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632));function v(e){return e&&e.__esModule?e:{default:e}}var S={saveEmail:u.default.func,setMobileSignatureMethod:u.default.func,smMobileSignLoading:u.default.func,sendEmail:u.default.func,openAddressBook:u.default.func,locale:u.default.object,email:u.default.string};(t.SignatureManagerEmail=(0,h.connect)(function(e){return(0,d.default)({},e.im.modeSignature,{locale:(0,m.getSignatureManagerLocale)(e).email,email:e.im.email})},{smMobileSignLoading:_.smMobileSignLoading,sendEmail:_.sendEmail,setMobileSignatureMethod:_.setMobileSignatureMethod,saveEmail:_.saveEmail})(a=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={enableSendButton:!1},n.send=n.send.bind(n),n.saveEmail=n.saveEmail.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(E.MODE_TYPES.SM_EMAIL)}},{key:"saveEmail",value:function(e){var t=this.props.saveEmail;t(e.target.value.trim())}},{key:"send",value:function(){var e=this.props,t=e.smMobileSignLoading,n=e.sendEmail;t(),n()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.email;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length>0&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return p.default.createElement("li",{key:e.id},p.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.email,a=e.openAddressBook,o=this.state.enableSendButton;return p.default.createElement("div",{className:"sign-m-body"},p.default.createElement("p",{className:"sign-m-body-text"},t.text),p.default.createElement("div",{className:"sign-m-container"},p.default.createElement("div",{className:"sign-m__input-block"},p.default.createElement(f.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.saveEmail,validations:[{rule:"isEmail"}],handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:a,ref:this.setReference,validate:!0,autoFocus:!0}),p.default.createElement(g.BtnPrimary,{disabled:!o,onClick:this.send},t.sendButton)),p.default.createElement("div",{className:"sign-m-container-inner"},p.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},p.default.createElement("img",{src:E.IMAGES.SM_EMAIL,alt:""})),p.default.createElement("div",{className:"sign-m-container__cell"},p.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),p.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(c.Component))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,r=m(n(51)),i=m(n(41)),s=m(n(43)),l=m(n(52)),d=m(n(53)),u=m(n(7)),c=n(0),p=m(c),h=m(n(1239)),f=m(n(1240));function m(e){return e&&e.__esModule?e:{default:e}}var E=(o=a=function(e){function t(){return(0,i.default)(this,t),(0,l.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){(0,this.props.handlePreviewOptionSelection)(1)}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.originalImage,a=e.editedImage,o=e.selectedOption,r=e.handlePreviewOptionSelection;return p.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},p.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},p.default.createElement("div",{className:"sign-m-upload-doc-area__title"},t.title),p.default.createElement("div",{className:"sign-m-upload-doc-container"},p.default.createElement("div",{className:"sign-m-upload-doc-container__body"},p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.originalImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:n})))),p.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},p.default.createElement("div",{"data-label-text":t.editedImageLabel,className:"sign-m-upload-example"},p.default.createElement("div",{className:"sign-m-upload-doc__img"},p.default.createElement(h.default,{src:a})))))),p.default.createElement("div",{className:"sign-m-upload-doc-area__radio-block"},p.default.createElement(f.default,{isSelected:1===o,text:t.list.saveAndUse,onClick:function(){return r(1)}}),p.default.createElement(f.default,{isSelected:2===o,text:t.list.needClean,onClick:function(){return r(2)}}),p.default.createElement(f.default,{isSelected:3===o,text:t.list.cleanManually,onClick:function(){return r(3)}}))))}}]),t}(c.Component),a.propTypes={locale:u.default.object.isRequired,handlePreviewOptionSelection:u.default.func.isRequired,selectedOption:u.default.number.isRequired,originalImage:u.default.string,editedImage:u.default.string},o);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(51)),o=h(n(41)),r=h(n(43)),i=h(n(52)),s=h(n(53)),l=h(n(7)),d=n(0),u=h(d),c=n(649),p=h(n(996));function h(e){return e&&e.__esModule?e:{default:e}}var f=200,m=266,E={src:l.default.string},g=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,a.default)(t)).call(this));return e.state={image:null},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.src;if(t){var n={dataUri:t,width:m,height:f};(0,c.resizeToFit)(n).then(function(e){return(0,c.base64ToImage)(e.resizedImage)}).then(function(t){return e.setState({image:t})})}}},{key:"render",value:function(){var e=this.state.image,t={width:m+"px",height:f+"px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"};return u.default.createElement("div",{style:t},u.default.createElement(p.default,{image:e}))}}]),t}(d.Component);t.default=g,g.propTypes=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(7)),o=i(n(0)),r=i(n(10));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.isSelected,n=e.text,a=e.onClick,i=(0,r.default)("radioWrap radio-label-right radio-label--inline-block",{checked:t});return o.default.createElement("div",{className:i,onClick:a},o.default.createElement("div",{className:"radio"}),o.default.createElement("span",{className:"radio-label"},n))};s.propTypes={isSelected:a.default.bool.isRequired,text:a.default.string.isRequired,onClick:a.default.func.isRequired},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=p(n(51)),o=p(n(41)),r=p(n(43)),i=p(n(52)),s=p(n(53)),l=p(n(7)),d=n(0),u=p(d),c=n(652);function p(e){return e&&e.__esModule?e:{default:e}}var h={onButtonClick:l.default.func,backButtonText:l.default.string},f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return u.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},u.default.createElement("div",{className:"sign-m-footer__left"},u.default.createElement(c.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n)))}}]),t}(d.Component);t.default=f,f.propTypes=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDraw=void 0;var a,o=O(n(328)),r=O(n(109)),i=O(n(51)),s=O(n(41)),l=O(n(52)),d=O(n(43)),u=O(n(53)),c=O(n(7)),p=n(0),h=O(p),f=n(72),m=n(1005),E=O(n(1243)),g=n(637),_=n(1244),v=n(1008),S=n(1009),y=n(1245),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632));function O(e){return e&&e.__esModule?e:{default:e}}var b={handleSaveAndUse:c.default.func,smSaveSignature:c.default.func,smInitial:c.default.func,smGallery:c.default.func,drawConfig:c.default.object,signature:c.default.object,locale:c.default.object,signatureMode:c.default.string};(t.SignatureManagerDraw=(0,f.connect)(function(e){return{drawConfig:e.im.drawConfig,locale:(0,g.getSignatureManagerLocale)(e),signature:e.im.signature}},{smSaveSignature:T.smSaveSignature})(a=function(e){function t(e){(0,s.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.resizeCanvas=function(e){var t="object"===(void 0===e?"undefined":(0,r.default)(e))?300:0,a=n.state,o=a.width,i=a.height,s=n.drawWrapper,l=s.offsetWidth,d=s.offsetHeight;!n.draw||o===l&&i===d||n.draw.sDraw.clear(),setTimeout(function(){o===l&&i===d||n.setState({width:l,height:d})},t)},n.hideToolbar=function(){n.setState({showToolbar:!1})},n.showToolbar=function(){n.setState({showToolbar:!0})},n.onDrawUpdate=function(){n.draw&&(n.updateCurves(),n.setState({canUndo:n.draw.sDraw.canUndo(),canRedo:n.draw.sDraw.canRedo()}))},n.undo=function(){n.draw&&n.draw.sDraw.undo()},n.redo=function(){n.draw&&n.draw.sDraw.redo()},n.clean=function(){n.draw&&(n.draw.sDraw.clear(),n.updateCurves())},n.setColor=function(e){n.draw&&n.draw.sDraw.setColor(e)},n.setLineWidth=function(e){n.draw&&n.draw.sDraw.setLineWidth(e)},n.updateCurves=function(){(0,n.props.smSaveSignature)(n.draw.sDraw.getCurves(),n.draw.sDraw.getDrawConfig())},n.setDrawReference=function(e){n.draw=e},n.setDrawWrapperReference=function(e){n.drawWrapper=e},n.storeDrawNavMobileRef=function(e){n.drawNavMobileRef=e},n.getDrawNavMobileWidth=function(){return n.drawNavMobileRef?n.drawNavMobileRef.offsetWidth:void 0},n.state={width:0,height:0,canUndo:!1,canRedo:!1,showToolbar:!0},n.orientationEndListener=null,n.signature=null,n}return(0,u.default)(t,e),(0,d.default)(t,null,[{key:"touchmoveHandler",value:function(e){e.preventDefault()}}]),(0,d.default)(t,[{key:"initDrawConfigColor",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=n.curves,r=void 0===a?[]:a;r.length>0&&t.color!==r[0].color&&this.props.smSaveSignature(n,(0,o.default)({},t,{color:r[0].color}))}},{key:"componentDidMount",value:function(){this.initDrawConfigColor(),this.resizeCanvas(!0),document.addEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(this.orientationEndListener=new E.default(this.showToolbar),window.addEventListener("resize",this.resizeCanvas),window.addEventListener("orientationchange",this.hideToolbar))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(window.removeEventListener("resize",this.resizeCanvas),window.removeEventListener("orientationchange",this.hideToolbar)),this.orientationEndListener&&this.orientationEndListener.removeEventListener()}},{key:"renderCanvas",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=e.signatureMode,r=this.state,i=r.width,s=r.height,l=r.showToolbar,d=this.getDrawNavMobileWidth();if(i&&s){var u=[h.default.createElement(m.SignatureDrawComponent,{key:"SignatureDrawComponent",width:i,height:s,ref:this.setDrawReference,updateDrawElement:this.onDrawUpdate,drawConfig:t,curves:n.curves,drawNavMobileWidth:d,canDraw:!0})];return l&&u.push(h.default.createElement(y.SignatureManagerDrawNavMobile,{key:"SignatureManagerDrawNavMobile",setColor:this.setColor,setLineWidth:this.setLineWidth,clear:this.clean,handleSaveAndUse:this.props.handleSaveAndUse,doneButtonText:a.draw.doneButton,backButtonText:a.backButton,drawConfig:t,curves:n.curves,signatureMode:o,smInitial:this.props.smInitial,smGallery:this.props.smGallery,storeDrawNavMobileRef:this.storeDrawNavMobileRef})),u}return null}},{key:"render",value:function(){var e=this.props,t=e.drawConfig,n=e.signature,a=e.locale,o=this.state,r=o.canUndo,i=o.canRedo,s=this.draw?this.draw.sDraw.getCurves():n,l=!(s.curves&&s.curves.length);return h.default.createElement("div",{className:"sign-m-body"},h.default.createElement("div",{className:"sign-m-text sign-m-text--hide-mobile"},a.draw.text),h.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--draw"},h.default.createElement("div",{className:"sign-m-upload-nav"},h.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},h.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},h.default.createElement(_.UploadNavBtn,{disable:!r,classNameIcon:"i-undo",onClick:this.undo}),h.default.createElement(_.UploadNavBtn,{disable:!i,addClass:"sign-m-upload-nav__btn--border-right",classNameIcon:"i-redo",onClick:this.redo}),h.default.createElement(_.UploadNavBtn,{disable:l,classNameIcon:"i-clear",onClick:this.clean},a.draw.cleanButton))),h.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right sign-m-upload-nav__cell--pr"},h.default.createElement(v.DropDownColor,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setColor:this.setColor,color:t.color}),h.default.createElement(S.DropDownLineThickness,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setLineWidth:this.setLineWidth}))),h.default.createElement("div",{ref:this.setDrawWrapperReference,className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},this.renderCanvas())))}}]),t}(p.Component))||a).propTypes=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(41)),o=r(n(43));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(t){var n=this;(0,a.default)(this,e),this.changeOrientation=function(){var e=void 0,t=void 0,a=void 0;n.lastEnd&&n.lastEnd(!1),n.lastEnd=n.end,n.interval=setInterval(function(){window.innerWidth===e&&window.innerHeight===t?++a===n.config.noChangeCountToEnd&&n.end(!0):(e=window.innerWidth,t=window.innerHeight,a=0)}),n.timeout=setTimeout(function(){return n.end(!0)},n.config.noEndTimeout)},this.config={noChangeCountToEnd:100,noEndTimeout:1e3},this.callback=t,this.lastEnd=null,this.interval=null,this.timeout=null,"undefined"!=typeof window&&window.addEventListener("orientationchange",this.changeOrientation)}return(0,o.default)(e,[{key:"end",value:function(e){clearInterval(this.interval),clearTimeout(this.timeout),this.interval=null,this.timeout=null,e&&this.callback()}},{key:"removeEventListener",value:function(){"undefined"!=typeof window&&window.removeEventListener("orientationchange",this.changeOrientation)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UploadNavBtn=void 0;var a=m(n(328)),o=m(n(223)),r=m(n(645)),i=m(n(51)),s=m(n(41)),l=m(n(43)),d=m(n(52)),u=m(n(53)),c=m(n(7)),p=n(0),h=m(p),f=m(n(10));function m(e){return e&&e.__esModule?e:{default:e}}var E={disable:c.default.bool,children:c.default.string,addClass:c.default.string,classNameIcon:c.default.string,onClick:c.default.func},g=t.UploadNavBtn=function(e){function t(){var e,n,a,o;(0,s.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=(0,d.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),a.onClick=function(){var e=a.props,t=e.disable,n=e.onClick;!t&&n&&n()},o=n,(0,d.default)(a,o)}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.addClass,i=t.classNameIcon,s=t.disable,l=t.children,d=(0,r.default)(t,["addClass","classNameIcon","disable","children"]),u=(0,f.default)((0,o.default)({i:!0},i,!0)),c=(0,f.default)((e={"sign-m-upload-nav__btn":!0},(0,o.default)(e,n,n),(0,o.default)(e,"disabled",s),e)),p={color:s?"rgba(68, 68, 68, 0.6)":"initial"};return h.default.createElement("div",(0,a.default)({},d,{className:c,onClick:this.onClick}),h.default.createElement("i",{className:u}),h.default.createElement("span",{style:p},l))}}]),t}(p.Component);g.propTypes=E,g.defaultProps={addClass:"",classNameIcon:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDrawNavMobile=void 0;var a=E(n(51)),o=E(n(41)),r=E(n(43)),i=E(n(52)),s=E(n(53)),l=E(n(7)),d=n(0),u=E(d),c=n(1008),p=n(1009),h=n(633),f=n(652),m=n(660);function E(e){return e&&e.__esModule?e:{default:e}}var g={getColor:l.default.func,setColor:l.default.func,setLineWidth:l.default.func,clear:l.default.func,handleSaveAndUse:l.default.func,smGallery:l.default.func,smInitial:l.default.func,addClass:l.default.string,doneButtonText:l.default.string,backButtonText:l.default.string,drawConfig:l.default.object,curves:l.default.array,signatureMode:l.default.string,storeDrawNavMobileRef:l.default.func.isRequired};(t.SignatureManagerDrawNavMobile=function(e){function t(){var e,n,r,s;(0,o.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=r=(0,i.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(d))),r.handleDoneButtonClick=function(){r.props.handleSaveAndUse(!0)},r.handleBackButtonClick=function(){return r.props.signatureMode.type===h.MODE_TYPES.SM_CURVE_EDIT?r.props.smGallery():r.props.smInitial()},s=n,(0,i.default)(r,s)}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props,t=e.doneButtonText,n=e.backButtonText,a=e.drawConfig,o=e.curves,r=e.getColor,i=e.setColor,s=e.setLineWidth,l=e.clear,d=!(o&&o.length);return u.default.createElement("div",{className:"sign-m-draw-nav-mobile sign-m-mobile-show",ref:this.props.storeDrawNavMobileRef},u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--top"},u.default.createElement(m.BtnPrimary,{disabled:d,onClick:this.handleDoneButtonClick},t)),u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--center"},u.default.createElement("div",{className:"sign-m-draw-nav-mobile__btn",onClick:l},u.default.createElement("i",{className:"i i-clear"})),u.default.createElement(c.DropDownColor,{getColor:r,setColor:i,color:a.color}),u.default.createElement(p.DropDownLineThickness,{setLineWidth:s})),u.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--bottom"},u.default.createElement(f.BtnSecondary,{onClick:this.handleBackButtonClick},n)))}}]),t}(d.Component)).propTypes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterDraw=void 0;var a,o=_(n(51)),r=_(n(41)),i=_(n(43)),s=_(n(52)),l=_(n(53)),d=_(n(7)),u=n(0),c=_(u),p=n(72),h=n(660),f=n(652),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),E=n(637),g=n(633);function _(e){return e&&e.__esModule?e:{default:e}}var v={handleSaveAndUse:d.default.func,smInitial:d.default.func,smGallery:d.default.func,modeSignature:d.default.object,signature:d.default.object,locale:d.default.object,isSingleUse:d.default.bool},S=t.SignatureManagerFooterDraw=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e),modeSignature:e.im.modeSignature,signature:e.im.signature}},{smInitial:m.smInitial,smGallery:m.smGallery})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleSaveButtonClick=function(){a.props.handleSaveAndUse(!1)},a.handleSaveAndUseButtonClick=function(){a.props.handleSaveAndUse(!0)},a.renderButtons=function(){var e=a.props,t=e.isSingleUse,n=e.locale,o=e.signature,r=!(o.curves&&o.curves.length);return t?c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:a.handleSaveAndUseButtonClick,disabled:r},n.draw.useSignature):c.default.createElement(u.Fragment,null,c.default.createElement(f.BtnSecondary,{key:"save",addClass:"g-btn-sm",onClick:a.handleSaveButtonClick,disabled:r},n.draw.saveButton),c.default.createElement(h.BtnPrimary,{key:"saveAndUse",addClass:"g-btn-sm",onClick:a.handleSaveAndUseButtonClick,disabled:r},n.draw.saveAndUseButton))},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.modeSignature,n=e.locale;return c.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t.type===g.MODE_TYPES.SM_CURVE_EDIT?this.props.smGallery:this.props.smInitial},n.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},this.renderButtons()))}}]),t}(u.Component))||a;S.propTypes=v,S.defaultProps={isSingleUse:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterCapture=void 0;var a,o=g(n(51)),r=g(n(41)),i=g(n(43)),s=g(n(52)),l=g(n(53)),d=g(n(7)),u=n(0),c=g(u),p=n(72),h=n(660),f=n(652),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),E=n(637);function g(e){return e&&e.__esModule?e:{default:e}}var _={smInitial:d.default.func,takeSnapShot:d.default.func,locale:d.default.object};(t.SignatureManagerFooterCapture=(0,p.connect)(function(e){return{locale:(0,E.getSignatureManagerLocale)(e)}},{smInitial:m.smInitial})(a=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.locale,a=e.takeSnapShot;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(f.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(h.BtnPrimary,{addClass:"g-btn-sm",onClick:a},n.capture.button)))}}]),t}(u.Component))||a).propTypes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterInitial=void 0;var a,o,r,i=v(n(51)),s=v(n(41)),l=v(n(43)),d=v(n(52)),u=v(n(53)),c=v(n(7)),p=n(0),h=v(p),f=n(72),m=v(n(10)),E=n(652),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),_=n(637);function v(e){return e&&e.__esModule?e:{default:e}}var S={smGallery:c.default.func.isRequired,backButtonText:c.default.string.isRequired,poweredByText:c.default.string.isRequired};(t.SignatureManagerFooterInitial=(0,f.connect)(function(e){var t=(0,_.getSignatureManagerLocale)(e);return{backButtonText:t.backButton,poweredByText:t.poweredBy}},{smGallery:g.smGallery})((r=o=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smGallery,n=e.backButtonText,a=e.poweredByText,o=this.context.useSignNowTheme;return h.default.createElement("div",{className:(0,m.default)("sign-m-footer",{bordered:o})},h.default.createElement("div",{className:"sign-m-footer__left"},h.default.createElement(E.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n)),o&&h.default.createElement("div",{className:"sign-m-footer__right"},h.default.createElement("div",{className:"sign-m-footer__logo"},h.default.createElement("div",{className:"sign-m-footer__text"},a),h.default.createElement("div",{className:"sign-m-svg-icon-logo-signnow"}))))}}]),t}(p.Component),o.contextTypes={useSignNowTheme:c.default.bool},a=r))||a).propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=v(n(51)),r=v(n(41)),i=v(n(43)),s=v(n(52)),l=v(n(53)),d=v(n(7)),u=n(0),c=v(u),p=n(72),h=v(n(651)),f=n(660),m=n(652),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(632)),g=n(716),_=n(637);function v(e){return e&&e.__esModule?e:{default:e}}var S={onClick:d.default.func.isRequired,smUploader:d.default.func,smCapture:d.default.func,resetEditor:d.default.func,backButtonText:d.default.string,mainButtonText:d.default.string,uploaderType:d.default.string},y=(0,p.connect)(function(e){return{backButtonText:(0,_.getSignatureManagerLocale)(e).backButton,mainButtonText:(0,_.getSignatureManagerLocale)(e).editorPreview.doneButton,uploaderType:e.im.modeSignature.uploaderType}},{smUploader:E.smUploader,smCapture:E.smCapture,resetEditor:h.default.resetEditor})(a=function(e){function t(){var e,n,a,i;(0,r.default)(this,t);for(var l=arguments.length,d=Array(l),u=0;u<l;u++)d[u]=arguments[u];return n=a=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(d))),a.handleBackButtonClick=function(){var e=a.props,t=e.smUploader,n=e.smCapture,o=e.resetEditor;e.uploaderType===g.MODE_TYPES.SM_UPLOADER?t():n(),o()},i=n,(0,s.default)(a,i)}return(0,l.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.mainButtonText,n=e.backButtonText,a=e.onClick;return c.default.createElement("div",{className:"sign-m-footer"},c.default.createElement("div",{className:"sign-m-footer__left"},c.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},n)),c.default.createElement("div",{className:"sign-m-footer__right"},c.default.createElement(f.BtnPrimary,{addClass:"g-btn-sm",onClick:a},t)))}}]),t}(u.Component))||a;t.default=y,y.propTypes=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(268)),o=n(130),r=n(971),i=n(972),s=f(n(358)),l=f(n(978)),d=f(n(977)),u=f(n(413)),c=f(n(417)),p=n(852),h=n(854);function f(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=[h.imageSignature,h.editorManager,i.maskMiddleware,s.default,l.default].concat((0,a.default)(e));return(0,o.compose)(o.applyMiddleware.apply(void 0,(0,a.default)(t)))(o.createStore)((0,o.combineReducers)({deviceProps:p.deviceProps,signatureEditor:d.default,modal:u.default,im:p.im,ws:p.ws,ab:r.ab,locale:c.default}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),i=n.n(r),s=n(1131),l=n.n(s),d="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function u(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function c(e,t){return"application/x-moz-file"===e.type||l()(e,t)}function p(e){e.preventDefault()}var h={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},f={opacity:.5},m={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},E={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.renderChildren=function(e,t,n,o){return"function"==typeof e?e(g({},a.state,{isDragActive:t,isDragAccept:n,isDragReject:o})):e},a.composeHandlers=a.composeHandlers.bind(a),a.onClick=a.onClick.bind(a),a.onDocumentDrop=a.onDocumentDrop.bind(a),a.onDragEnter=a.onDragEnter.bind(a),a.onDragLeave=a.onDragLeave.bind(a),a.onDragOver=a.onDragOver.bind(a),a.onDragStart=a.onDragStart.bind(a),a.onDrop=a.onDrop.bind(a),a.onFileDialogCancel=a.onFileDialogCancel.bind(a),a.onInputElementClick=a.onInputElementClick.bind(a),a.setRef=a.setRef.bind(a),a.setRefs=a.setRefs.bind(a),a.isFileDialogActive=!1,a.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),_(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",p,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",p),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({isDragActive:!0,draggedFiles:u(e)}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,a=n.onDrop,o=n.onDropAccepted,r=n.onDropRejected,i=n.multiple,s=n.disablePreview,l=n.accept,d=u(e),p=[],h=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,d.forEach(function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(e){0}c(e,l)&&function(e,t,n){return e.size<=t&&e.size>=n}(e,t.props.maxSize,t.props.minSize)?p.push(e):h.push(e)}),i||h.push.apply(h,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p.splice(1))),a&&a.call(this,p,h,e),h.length>0&&r&&r.call(this,h,e),p.length>0&&o&&o.call(this,p,e),this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[],acceptedFiles:p,rejectedFiles:h})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1));"function"==typeof t&&t()},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,a=e.activeClassName,r=e.children,i=e.disabled,s=e.disabledClassName,l=e.inputProps,u=e.multiple,p=e.name,_=e.rejectClassName,S=v(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),y=S.acceptStyle,T=S.activeStyle,O=S.className,b=void 0===O?"":O,C=S.disabledStyle,D=S.rejectStyle,M=S.style,A=v(S,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,R=w.isDragActive,I=w.draggedFiles,N=I.length,P=u||N<=1,L=N>0&&function(e,t){return e.every(function(e){return c(e,t)})}(I,this.props.accept),k=N>0&&(!L||!P),B=!(b||M||T||y||D||C);R&&a&&(b+=" "+a),L&&n&&(b+=" "+n),k&&_&&(b+=" "+_),i&&s&&(b+=" "+s),B&&(T=m,y=(M=E).active,D=h,C=f);var x=g({},M);T&&R&&(x=g({},M,T)),y&&L&&(x=g({},x,y)),D&&k&&(x=g({},x,D)),C&&i&&(x=g({},M,C));var F={accept:t,disabled:i,type:"file",style:{display:"none"},multiple:d&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};p&&p.length&&(F.name=p);A.acceptedFiles,A.preventDropOnDocument,A.disablePreview,A.disableClick,A.onDropAccepted,A.onDropRejected,A.onFileDialogCancel,A.maxSize,A.minSize;var Y=v(A,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"]);return o.a.createElement("div",g({className:b,style:x},Y,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(r,R,L,k),o.a.createElement("input",g({},l,F)))}}]),t}();t.default=S;S.propTypes={accept:i.a.oneOfType([i.a.string,i.a.arrayOf(i.a.string)]),children:i.a.oneOfType([i.a.node,i.a.func]),disableClick:i.a.bool,disabled:i.a.bool,disablePreview:i.a.bool,preventDropOnDocument:i.a.bool,inputProps:i.a.object,multiple:i.a.bool,name:i.a.string,maxSize:i.a.number,minSize:i.a.number,className:i.a.string,activeClassName:i.a.string,acceptClassName:i.a.string,rejectClassName:i.a.string,disabledClassName:i.a.string,style:i.a.object,activeStyle:i.a.object,acceptStyle:i.a.object,rejectStyle:i.a.object,disabledStyle:i.a.object,onClick:i.a.func,onDrop:i.a.func,onDropAccepted:i.a.func,onDropRejected:i.a.func,onDragStart:i.a.func,onDragEnter:i.a.func,onDragOver:i.a.func,onDragLeave:i.a.func,onFileDialogCancel:i.a.func},S.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0}}])]);
//# sourceMappingURL=vendors~managers.1d2eccc5.chunk.js.map